{"timestamp": "2025-11-17T16:14:03.814544", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-17T16:14:03.815228", "level": "INFO", "logger": "livekit.agents", "message": "starting worker"}
{"timestamp": "2025-11-17T16:14:03.823076", "level": "INFO", "logger": "livekit.agents", "message": "initializing job runner"}
{"timestamp": "2025-11-17T16:14:03.823351", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-17T16:14:03.823517", "level": "INFO", "logger": "livekit.agents", "message": "job runner initialized"}
{"timestamp": "2025-11-17T16:14:03.887923", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udd0c Redis Connected: True"}
{"timestamp": "2025-11-17T16:14:03.888221", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Incoming call from: mock_user"}
{"timestamp": "2025-11-17T16:14:03.888822", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Caller Phone Detected (normalized): None"}
{"timestamp": "2025-11-17T16:14:03.888910", "level": "INFO", "logger": "telephony-agent", "message": "[Memory] \ud83c\udd95 New SessionContext: BookingContext(name=None, phone=None, date=None, time=None, suggested_slots=None, stage='start', status='Pending', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, created_at='2025-11-17T16:14:03.888883')"}
{"timestamp": "2025-11-17T16:14:04.588717", "level": "DEBUG", "logger": "livekit.agents", "message": "http_session(): creating a new httpclient ctx"}
{"timestamp": "2025-11-17T16:14:04.604358", "level": "DEBUG", "logger": "livekit.agents", "message": "using audio io: `ChatCLI` -> `AgentSession` -> `TranscriptSynchronizer` -> `ChatCLI`"}
{"timestamp": "2025-11-17T16:14:04.621004", "level": "DEBUG", "logger": "livekit.agents", "message": "using transcript io: `AgentSession` -> `TranscriptSynchronizer` -> `ChatCLI`"}
{"timestamp": "2025-11-17T16:14:04.621688", "level": "ERROR", "logger": "livekit.agents", "message": "unhandled exception while running the job task", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/opentelemetry/util/_decorator.py\", line 71, in async_wrapper\n    return await func(*args, **kwargs)  # type: ignore\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/agents/ipc/job_proc_lazy_main.py\", line 240, in _traceable_entrypoint\n    await self._job_entrypoint_fnc(job_ctx)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 255, in entrypoint\n    @session.on(\"metrics_collected\")\n     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 172, in decorator\n    self.on(event, callback)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 161, in on\n    raise ValueError(\nValueError: Cannot register an async callback with `.on()`. Use `asyncio.create_task` within your synchronous callback instead."}
{"timestamp": "2025-11-17T16:14:09.412442", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-17T16:14:12.375808", "level": "DEBUG", "logger": "livekit.agents", "message": "executing tool"}
{"timestamp": "2025-11-17T16:14:12.392575", "level": "INFO", "logger": "src.services.context_manager", "message": "[Redis] Saved MERGED context for mock_user: BookingContext(name='Jonathan', phone=None, date=None, time=None, suggested_slots=None, stage='start', status='Pending', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, created_at='2025-11-17T16:14:12.389368')"}
{"timestamp": "2025-11-17T16:14:12.393484", "level": "DEBUG", "logger": "livekit.agents", "message": "tools execution completed"}
{"timestamp": "2025-11-17T16:14:19.046320", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-17T16:14:21.688141", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-17T16:14:22.701365", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-17T16:14:47.158669", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-17T16:14:47.344457", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-17T16:14:48.895859", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-17T16:14:51.174571", "level": "DEBUG", "logger": "livekit.agents", "message": "executing tool"}
{"timestamp": "2025-11-17T16:14:51.177463", "level": "INFO", "logger": "voice_agent.tools", "message": "[save_phone] \ud83d\udcde Called for participant:"}
{"timestamp": "2025-11-17T16:14:51.177553", "level": "INFO", "logger": "voice_agent.tools", "message": "[save_phone] Raw phone input: '0300926997'"}
{"timestamp": "2025-11-17T16:14:51.178457", "level": "INFO", "logger": "src.services.context_manager", "message": "[Redis] Saved MERGED context for mock_user: BookingContext(name='Jonathan', phone='0300926997', date=None, time=None, suggested_slots=None, stage='start', status='Pending', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, created_at='2025-11-17T16:14:12.389368')"}
{"timestamp": "2025-11-17T16:14:51.178529", "level": "INFO", "logger": "voice_agent.tools", "message": "[save_phone] \u2705 Saved context for BookingContext(name='Jonathan', phone='0300926997', date=None, time=None, suggested_slots=None, stage='start', status='Pending', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, created_at='2025-11-17T16:14:12.389368')"}
{"timestamp": "2025-11-17T16:14:51.178787", "level": "DEBUG", "logger": "livekit.agents", "message": "tools execution completed"}
{"timestamp": "2025-11-17T16:14:53.794438", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-17T16:16:50.227995", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-17T16:16:54.114773", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-17T16:17:33.128587", "level": "INFO", "logger": "livekit.agents", "message": "shutting down worker"}
{"timestamp": "2025-11-17T16:17:33.133544", "level": "DEBUG", "logger": "livekit.agents", "message": "shutting down job task"}
{"timestamp": "2025-11-17T16:17:33.161554", "level": "DEBUG", "logger": "livekit.agents", "message": "job exiting"}
{"timestamp": "2025-11-17T16:17:33.305371", "level": "WARNING", "logger": "livekit.agents", "message": "exiting forcefully"}
{"timestamp": "2025-11-17T16:17:36.559716", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-17T16:17:36.560490", "level": "INFO", "logger": "livekit.agents", "message": "starting worker"}
{"timestamp": "2025-11-17T16:17:36.564554", "level": "INFO", "logger": "livekit.agents", "message": "initializing job runner"}
{"timestamp": "2025-11-17T16:17:36.566323", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-17T16:17:36.566700", "level": "INFO", "logger": "livekit.agents", "message": "job runner initialized"}
{"timestamp": "2025-11-17T16:17:36.600636", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udd0c Redis Connected: True"}
{"timestamp": "2025-11-17T16:17:36.601012", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Incoming call from: mock_user"}
{"timestamp": "2025-11-17T16:17:36.601659", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Caller Phone Detected (normalized): None"}
{"timestamp": "2025-11-17T16:17:36.601752", "level": "INFO", "logger": "telephony-agent", "message": "[Memory] \ud83c\udd95 New SessionContext: BookingContext(name=None, phone=None, date=None, time=None, suggested_slots=None, stage='start', status='Pending', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, created_at='2025-11-17T16:17:36.601723')"}
{"timestamp": "2025-11-17T16:17:37.176111", "level": "DEBUG", "logger": "livekit.agents", "message": "http_session(): creating a new httpclient ctx"}
{"timestamp": "2025-11-17T16:17:37.188373", "level": "DEBUG", "logger": "livekit.agents", "message": "using audio io: `ChatCLI` -> `AgentSession` -> `TranscriptSynchronizer` -> `ChatCLI`"}
{"timestamp": "2025-11-17T16:17:37.189100", "level": "DEBUG", "logger": "livekit.agents", "message": "using transcript io: `AgentSession` -> `TranscriptSynchronizer` -> `ChatCLI`"}
{"timestamp": "2025-11-17T16:17:37.189804", "level": "ERROR", "logger": "livekit.agents", "message": "unhandled exception while running the job task", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/opentelemetry/util/_decorator.py\", line 71, in async_wrapper\n    return await func(*args, **kwargs)  # type: ignore\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/agents/ipc/job_proc_lazy_main.py\", line 240, in _traceable_entrypoint\n    await self._job_entrypoint_fnc(job_ctx)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 255, in entrypoint\n    @session.on(\"metrics_collected\")\n     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 172, in decorator\n    self.on(event, callback)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 161, in on\n    raise ValueError(\nValueError: Cannot register an async callback with `.on()`. Use `asyncio.create_task` within your synchronous callback instead."}
{"timestamp": "2025-11-17T16:17:43.578344", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-17T16:17:48.229353", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-17T16:17:48.428616", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-17T16:17:55.345725", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-17T16:17:56.111138", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-17T16:17:57.050586", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-17T16:17:59.721892", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-17T16:18:04.860905", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-17T16:18:10.167063", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-17T16:18:10.350786", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-17T16:18:16.211489", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-17T16:18:19.180489", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-17T16:18:19.374013", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-17T16:18:19.554920", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-17T16:18:33.473420", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-17T16:18:35.268985", "level": "DEBUG", "logger": "livekit.agents", "message": "executing tool"}
{"timestamp": "2025-11-17T16:18:35.273599", "level": "INFO", "logger": "voice_agent.tools", "message": "[available_slot] \u25b6 Input: day='November', date='20', time='morning'"}
{"timestamp": "2025-11-17T16:18:35.279842", "level": "INFO", "logger": "src.services.context_manager", "message": "[Redis] Saved MERGED context for mock_user: BookingContext(name='Jonathan', phone='0300926997', date='2025-11-17', time=None, suggested_slots=None, stage='start', status='Pending', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, created_at='2025-11-17T16:14:12.389368')"}
{"timestamp": "2025-11-17T16:18:35.294033", "level": "INFO", "logger": "voice_agent.tools", "message": "[available_slot] Booked slots for 2025-11-17: []"}
{"timestamp": "2025-11-17T16:18:35.294660", "level": "INFO", "logger": "src.services.context_manager", "message": "[Redis] Saved MERGED context for mock_user: BookingContext(name='Jonathan', phone='0300926997', date='2025-11-17', time=None, suggested_slots=['9:00 AM', '9:30 AM', '10:00 AM'], stage='start', status='Pending', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, created_at='2025-11-17T16:14:12.389368')"}
{"timestamp": "2025-11-17T16:18:35.294761", "level": "INFO", "logger": "voice_agent.tools", "message": "[available_slot] Final suggestions: ['9:00 AM', '9:30 AM', '10:00 AM']"}
{"timestamp": "2025-11-17T16:18:35.295068", "level": "DEBUG", "logger": "livekit.agents", "message": "tools execution completed"}
{"timestamp": "2025-11-17T16:18:47.602765", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-17T16:19:42.958939", "level": "WARNING", "logger": "livekit.plugins.silero", "message": "inference is slower than realtime"}
{"timestamp": "2025-11-17T16:19:43.640719", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-17T16:19:45.041417", "level": "DEBUG", "logger": "livekit.agents", "message": "executing tool"}
{"timestamp": "2025-11-17T16:19:45.056878", "level": "DEBUG", "logger": "livekit.agents", "message": "tools execution completed"}
{"timestamp": "2025-11-17T16:19:52.083413", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-17T16:19:53.975426", "level": "DEBUG", "logger": "livekit.agents", "message": "executing tool"}
{"timestamp": "2025-11-17T16:19:53.982162", "level": "INFO", "logger": "src.services.context_manager", "message": "[Redis] Saved MERGED context for mock_user: BookingContext(name='Jonathan', phone='0300926997', date='2025-11-17', time=None, suggested_slots=['9:00 AM', '9:30 AM', '10:00 AM'], stage='start', status='Pending', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, created_at='2025-11-17T16:14:12.389368')"}
{"timestamp": "2025-11-17T16:19:53.982728", "level": "DEBUG", "logger": "livekit.agents", "message": "tools execution completed"}
{"timestamp": "2025-11-17T16:19:55.533391", "level": "DEBUG", "logger": "livekit.agents", "message": "executing tool"}
{"timestamp": "2025-11-17T16:19:55.534053", "level": "INFO", "logger": "voice_agent.tools", "message": "[save_phone] \ud83d\udcde Called for participant:"}
{"timestamp": "2025-11-17T16:19:55.534183", "level": "INFO", "logger": "voice_agent.tools", "message": "[save_phone] Raw phone input: 'twenty'"}
{"timestamp": "2025-11-17T16:19:55.536598", "level": "WARNING", "logger": "voice_agent.tools", "message": "[save_phone] \u274c Validation failed for phone='twenty': 1 validation error for BookingBase\nphone\n  Value error, Invalid phone number length. [type=value_error, input_value='twenty', input_type=str]\n    For further information visit https://errors.pydantic.dev/2.12/v/value_error"}
{"timestamp": "2025-11-17T16:19:55.537110", "level": "DEBUG", "logger": "livekit.agents", "message": "tools execution completed"}
{"timestamp": "2025-11-17T16:19:58.896630", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-17T16:19:59.095817", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-17T16:20:06.165364", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-17T16:20:14.751760", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-17T16:20:15.191528", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-17T16:20:16.381160", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-17T16:20:19.893678", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-17T16:20:20.093652", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-17T16:20:26.539068", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-17T16:20:27.565309", "level": "DEBUG", "logger": "livekit.agents", "message": "executing tool"}
{"timestamp": "2025-11-17T16:20:27.567607", "level": "INFO", "logger": "voice_agent.tools", "message": "[save_phone] \ud83d\udcde Called for participant:"}
{"timestamp": "2025-11-17T16:20:27.567911", "level": "INFO", "logger": "voice_agent.tools", "message": "[save_phone] Raw phone input: '030092666997'"}
{"timestamp": "2025-11-17T16:20:27.569389", "level": "INFO", "logger": "src.services.context_manager", "message": "[Redis] Saved MERGED context for mock_user: BookingContext(name='Jonathan', phone='030092666997', date='2025-11-17', time=None, suggested_slots=['9:00 AM', '9:30 AM', '10:00 AM'], stage='start', status='Pending', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, created_at='2025-11-17T16:14:12.389368')"}
{"timestamp": "2025-11-17T16:20:27.569638", "level": "INFO", "logger": "voice_agent.tools", "message": "[save_phone] \u2705 Saved context for BookingContext(name='Jonathan', phone='030092666997', date='2025-11-17', time=None, suggested_slots=['9:00 AM', '9:30 AM', '10:00 AM'], stage='start', status='Pending', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, created_at='2025-11-17T16:14:12.389368')"}
{"timestamp": "2025-11-17T16:20:27.570749", "level": "DEBUG", "logger": "livekit.agents", "message": "tools execution completed"}
{"timestamp": "2025-11-17T16:20:28.914243", "level": "DEBUG", "logger": "livekit.agents", "message": "executing tool"}
{"timestamp": "2025-11-17T16:20:28.922462", "level": "DEBUG", "logger": "livekit.agents", "message": "tools execution completed"}
{"timestamp": "2025-11-17T16:20:32.295576", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-17T16:20:32.494622", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-17T16:20:34.415566", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-17T16:20:34.614965", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-17T16:21:14.602141", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-17T16:21:16.685907", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-17T16:21:19.282180", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-17T16:21:19.464188", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-17T16:21:21.020827", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-17T16:21:21.036992", "level": "WARNING", "logger": "livekit.agents", "message": "_SegmentSynchronizerImpl.resume called after close"}
{"timestamp": "2025-11-17T16:21:22.738010", "level": "DEBUG", "logger": "livekit.agents", "message": "executing tool"}
{"timestamp": "2025-11-17T16:21:22.770631", "level": "DEBUG", "logger": "livekit.agents", "message": "tools execution completed"}
{"timestamp": "2025-11-17T16:21:37.443489", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-17T16:21:39.679124", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-17T16:21:41.941495", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-17T16:21:44.729625", "level": "INFO", "logger": "livekit.agents", "message": "shutting down worker"}
{"timestamp": "2025-11-17T16:21:44.731003", "level": "DEBUG", "logger": "livekit.agents", "message": "shutting down job task"}
{"timestamp": "2025-11-17T16:21:44.745156", "level": "DEBUG", "logger": "livekit.agents", "message": "job exiting"}
{"timestamp": "2025-11-17T16:21:44.891593", "level": "WARNING", "logger": "livekit.agents", "message": "exiting forcefully"}
{"timestamp": "2025-11-17T16:21:50.127486", "level": "INFO", "logger": "livekit.agents", "message": "starting worker"}
{"timestamp": "2025-11-17T16:21:50.159356", "level": "INFO", "logger": "livekit.agents", "message": "initializing process"}
{"timestamp": "2025-11-17T16:21:50.160242", "level": "INFO", "logger": "livekit.agents", "message": "initializing process"}
{"timestamp": "2025-11-17T16:21:50.160735", "level": "INFO", "logger": "livekit.agents", "message": "initializing process"}
{"timestamp": "2025-11-17T16:21:50.161024", "level": "INFO", "logger": "livekit.agents", "message": "initializing process"}
{"timestamp": "2025-11-17T16:21:51.418233", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-17T16:21:51.418234", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-17T16:21:51.419074", "level": "INFO", "logger": "livekit.agents", "message": "process initialized"}
{"timestamp": "2025-11-17T16:21:51.419327", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-17T16:21:51.419484", "level": "INFO", "logger": "livekit.agents", "message": "process initialized"}
{"timestamp": "2025-11-17T16:21:51.419648", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-17T16:21:51.420586", "level": "INFO", "logger": "livekit.agents", "message": "process initialized"}
{"timestamp": "2025-11-17T16:21:51.420707", "level": "INFO", "logger": "livekit.agents", "message": "process initialized"}
{"timestamp": "2025-11-17T16:21:52.218093", "level": "INFO", "logger": "livekit.agents", "message": "registered worker"}
{"timestamp": "2025-11-17T16:22:15.317636", "level": "INFO", "logger": "livekit.agents", "message": "received job request"}
{"timestamp": "2025-11-17T16:22:15.483238", "level": "INFO", "logger": "livekit", "message": "livekit_ffi::server:139:livekit_ffi::server - initializing ffi server v0.12.39"}
{"timestamp": "2025-11-17T16:22:15.484317", "level": "INFO", "logger": "livekit", "message": "livekit_ffi::cabi:50:livekit_ffi::cabi - initializing ffi server v0.12.39"}
{"timestamp": "2025-11-17T16:22:15.503754", "level": "INFO", "logger": "livekit.agents", "message": "initializing process"}
{"timestamp": "2025-11-17T16:22:15.506285", "level": "INFO", "logger": "livekit", "message": "livekit_api::signal_client::signal_stream:92:livekit_api::signal_client::signal_stream - connecting to wss://testing-mwtbjpwy.livekit.cloud/rtc?sdk=python&protocol=16&auto_subscribe=1&adaptive_stream=0&version=1.0.18"}
{"timestamp": "2025-11-17T16:22:15.972614", "level": "DEBUG", "logger": "livekit", "message": "rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 153 valid and 0 invalid certs"}
{"timestamp": "2025-11-17T16:22:15.972806", "level": "DEBUG", "logger": "livekit", "message": "tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 153/153 native root certificates (ignored 0)"}
{"timestamp": "2025-11-17T16:22:15.972901", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::hs:73:rustls::client::hs - No cached session for DnsName(\"testing-mwtbjpwy.livekit.cloud\")"}
{"timestamp": "2025-11-17T16:22:15.973022", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::hs:132:rustls::client::hs - Not resuming any session"}
{"timestamp": "2025-11-17T16:22:16.305213", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256"}
{"timestamp": "2025-11-17T16:22:16.305775", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::tls13:142:rustls::client::tls13 - Not resuming"}
{"timestamp": "2025-11-17T16:22:16.305917", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []"}
{"timestamp": "2025-11-17T16:22:16.305993", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::hs:472:rustls::client::hs - ALPN protocol is None"}
{"timestamp": "2025-11-17T16:22:17.000471", "level": "DEBUG", "logger": "livekit", "message": "tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done."}
{"timestamp": "2025-11-17T16:22:17.012683", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-17T16:22:17.012922", "level": "INFO", "logger": "livekit.agents", "message": "process initialized"}
{"timestamp": "2025-11-17T16:22:19.043443", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udd0c Redis Connected: True"}
{"timestamp": "2025-11-17T16:22:19.044899", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Incoming call from: sip_+17194515279"}
{"timestamp": "2025-11-17T16:22:19.044918", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udd0c Redis Connected: True"}
{"timestamp": "2025-11-17T16:22:19.045358", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Caller Phone Detected (normalized): 17194515279"}
{"timestamp": "2025-11-17T16:22:19.045689", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Incoming call from: sip_+17194515279"}
{"timestamp": "2025-11-17T16:22:19.045959", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Caller Phone Detected (normalized): 17194515279"}
{"timestamp": "2025-11-17T16:22:19.046175", "level": "INFO", "logger": "telephony-agent", "message": "[Memory] \ud83e\udde0 Preloaded name from profile: Abdul Basit"}
{"timestamp": "2025-11-17T16:22:19.046324", "level": "INFO", "logger": "telephony-agent", "message": "[Memory] \ud83c\udd95 New SessionContext: BookingContext(name='Abdul Basit', phone='17194515279', date=None, time=None, suggested_slots=None, stage='start', status='Pending', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, created_at='2025-11-17T16:22:19.045641')"}
{"timestamp": "2025-11-17T16:22:19.046395", "level": "INFO", "logger": "telephony-agent", "message": "[Memory] \ud83e\udde0 Preloaded name from profile: Abdul Basit"}
{"timestamp": "2025-11-17T16:22:19.047533", "level": "INFO", "logger": "telephony-agent", "message": "[Memory] \ud83c\udd95 New SessionContext: BookingContext(name='Abdul Basit', phone='17194515279', date=None, time=None, suggested_slots=None, stage='start', status='Pending', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, created_at='2025-11-17T16:22:19.045641')"}
{"timestamp": "2025-11-17T16:22:19.277048", "level": "DEBUG", "logger": "livekit.agents", "message": "input stream attached"}
{"timestamp": "2025-11-17T16:22:19.287412", "level": "DEBUG", "logger": "livekit.agents", "message": "http_session(): creating a new httpclient ctx"}
{"timestamp": "2025-11-17T16:22:19.295018", "level": "DEBUG", "logger": "livekit.agents", "message": "start reading stream"}
{"timestamp": "2025-11-17T16:22:19.297902", "level": "DEBUG", "logger": "livekit.agents", "message": "using audio io: `RoomIO` -> `AgentSession` -> `TranscriptSynchronizer` -> `RoomIO`"}
{"timestamp": "2025-11-17T16:22:19.298029", "level": "DEBUG", "logger": "livekit.agents", "message": "using transcript io: `AgentSession` -> `TranscriptSynchronizer` -> `RoomIO`"}
{"timestamp": "2025-11-17T16:22:19.298647", "level": "ERROR", "logger": "livekit.agents", "message": "unhandled exception while running the job task", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/opentelemetry/util/_decorator.py\", line 71, in async_wrapper\n    return await func(*args, **kwargs)  # type: ignore\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/agents/ipc/job_proc_lazy_main.py\", line 240, in _traceable_entrypoint\n    await self._job_entrypoint_fnc(job_ctx)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 255, in entrypoint\n    @session.on(\"metrics_collected\")\n     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 172, in decorator\n    self.on(event, callback)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 161, in on\n    raise ValueError(\nValueError: Cannot register an async callback with `.on()`. Use `asyncio.create_task` within your synchronous callback instead."}
{"timestamp": "2025-11-17T16:22:19.303030", "level": "ERROR", "logger": "livekit.agents", "message": "unhandled exception while running the job task\nTraceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/opentelemetry/util/_decorator.py\", line 71, in async_wrapper\n    return await func(*args, **kwargs)  # type: ignore\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/agents/ipc/job_proc_lazy_main.py\", line 240, in _traceable_entrypoint\n    await self._job_entrypoint_fnc(job_ctx)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 255, in entrypoint\n    @session.on(\"metrics_collected\")\n     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 172, in decorator\n    self.on(event, callback)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 161, in on\n    raise ValueError(\nValueError: Cannot register an async callback with `.on()`. Use `asyncio.create_task` within your synchronous callback instead."}
{"timestamp": "2025-11-17T16:22:19.317168", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'get', 'url': '/'}"}
{"timestamp": "2025-11-17T16:22:19.318495", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: GET https://api.openai.com/v1/"}
{"timestamp": "2025-11-17T16:22:19.324826", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=15.0 socket_options=None"}
{"timestamp": "2025-11-17T16:22:19.431165", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x131f0b1d0>"}
{"timestamp": "2025-11-17T16:22:19.431315", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x134e240e0> server_hostname='api.openai.com' timeout=15.0"}
{"timestamp": "2025-11-17T16:22:19.441792", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x134ebd0d0>"}
{"timestamp": "2025-11-17T16:22:19.442120", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'GET']>"}
{"timestamp": "2025-11-17T16:22:19.442427", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-17T16:22:19.442493", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'GET']>"}
{"timestamp": "2025-11-17T16:22:19.442595", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-17T16:22:19.442703", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'GET']>"}
{"timestamp": "2025-11-17T16:22:20.372060", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'Date', b'Mon, 17 Nov 2025 16:22:20 GMT'), (b'Content-Type', b'text/html'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=SMSLHuEGnRvVi0wCee4xjmI7cnXduNyeulmVPi1JIcs-1763396540-1.0.1.1-ImzLAjRX3X3iibxDxO.7dCoobFnNuAP1xg_HfTF4BhxfqdsD9mHAB7Bo8UapGNdxZ3JlWiwYBaYnlXcrOVen7iT_Bj_J6_sCpor85gYuUhg; path=/; expires=Mon, 17-Nov-25 16:52:20 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=BKtOFcaxRzcvQJCyaAyc1zIuCdMMtko4_ngeMjy97c8-1763396540540-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a0090f4bd81e8c7-KHI'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-17T16:22:20.375010", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET https://api.openai.com/v1/ \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-11-17T16:22:20.375415", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'GET']>"}
{"timestamp": "2025-11-17T16:22:20.375915", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete"}
{"timestamp": "2025-11-17T16:22:20.376105", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-17T16:22:20.376354", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-17T16:22:20.376742", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: GET https://api.openai.com/v1/ \"404 Not Found\" Headers([('date', 'Mon, 17 Nov 2025 16:22:20 GMT'), ('content-type', 'text/html'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=SMSLHuEGnRvVi0wCee4xjmI7cnXduNyeulmVPi1JIcs-1763396540-1.0.1.1-ImzLAjRX3X3iibxDxO.7dCoobFnNuAP1xg_HfTF4BhxfqdsD9mHAB7Bo8UapGNdxZ3JlWiwYBaYnlXcrOVen7iT_Bj_J6_sCpor85gYuUhg; path=/; expires=Mon, 17-Nov-25 16:52:20 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=BKtOFcaxRzcvQJCyaAyc1zIuCdMMtko4_ngeMjy97c8-1763396540540-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '9a0090f4bd81e8c7-KHI'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-17T16:22:20.377167", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: None"}
{"timestamp": "2025-11-17T16:22:20.377452", "level": "DEBUG", "logger": "openai._base_client", "message": "Encountered httpx.HTTPStatusError", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/openai/_base_client.py\", line 1574, in request\n    response.raise_for_status()\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/httpx/_models.py\", line 829, in raise_for_status\n    raise HTTPStatusError(message, request=request, response=self)\nhttpx.HTTPStatusError: Client error '404 Not Found' for url 'https://api.openai.com/v1/'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404"}
{"timestamp": "2025-11-17T16:22:20.383354", "level": "DEBUG", "logger": "openai._base_client", "message": "Re-raising status error"}
{"timestamp": "2025-11-17T16:22:59.151106", "level": "INFO", "logger": "livekit.agents", "message": "closing agent session due to participant disconnect (disable via `RoomInputOptions.close_on_disconnect=False`)"}
{"timestamp": "2025-11-17T16:22:59.155191", "level": "DEBUG", "logger": "livekit.agents", "message": "stream closed"}
{"timestamp": "2025-11-17T16:22:59.155824", "level": "INFO", "logger": "livekit.agents", "message": "closing agent session due to participant disconnect (disable via `RoomInputOptions.close_on_disconnect=False`)"}
{"timestamp": "2025-11-17T16:22:59.157807", "level": "DEBUG", "logger": "livekit.agents", "message": "input stream detached"}
{"timestamp": "2025-11-17T16:23:01.168252", "level": "DEBUG", "logger": "livekit.agents", "message": "session closed"}
{"timestamp": "2025-11-17T16:23:05.812115", "level": "INFO", "logger": "livekit.agents", "message": "received job request"}
{"timestamp": "2025-11-17T16:23:05.982086", "level": "INFO", "logger": "livekit", "message": "livekit_ffi::server:139:livekit_ffi::server - initializing ffi server v0.12.39"}
{"timestamp": "2025-11-17T16:23:05.982889", "level": "INFO", "logger": "livekit", "message": "livekit_ffi::cabi:50:livekit_ffi::cabi - initializing ffi server v0.12.39"}
{"timestamp": "2025-11-17T16:23:05.984087", "level": "INFO", "logger": "livekit", "message": "livekit_api::signal_client::signal_stream:92:livekit_api::signal_client::signal_stream - connecting to wss://testing-mwtbjpwy.livekit.cloud/rtc?sdk=python&protocol=16&auto_subscribe=1&adaptive_stream=0&version=1.0.18"}
{"timestamp": "2025-11-17T16:23:06.138925", "level": "INFO", "logger": "livekit.agents", "message": "initializing process"}
{"timestamp": "2025-11-17T16:23:06.542476", "level": "DEBUG", "logger": "livekit", "message": "rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 153 valid and 0 invalid certs"}
{"timestamp": "2025-11-17T16:23:06.542666", "level": "DEBUG", "logger": "livekit", "message": "tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 153/153 native root certificates (ignored 0)"}
{"timestamp": "2025-11-17T16:23:06.542788", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::hs:73:rustls::client::hs - No cached session for DnsName(\"testing-mwtbjpwy.livekit.cloud\")"}
{"timestamp": "2025-11-17T16:23:06.542890", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::hs:132:rustls::client::hs - Not resuming any session"}
{"timestamp": "2025-11-17T16:23:06.809255", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256"}
{"timestamp": "2025-11-17T16:23:06.809497", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::tls13:142:rustls::client::tls13 - Not resuming"}
{"timestamp": "2025-11-17T16:23:06.809689", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []"}
{"timestamp": "2025-11-17T16:23:06.809803", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::hs:472:rustls::client::hs - ALPN protocol is None"}
{"timestamp": "2025-11-17T16:23:07.712838", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-17T16:23:07.713002", "level": "INFO", "logger": "livekit.agents", "message": "process initialized"}
{"timestamp": "2025-11-17T16:23:08.559698", "level": "DEBUG", "logger": "livekit", "message": "tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done."}
{"timestamp": "2025-11-17T16:23:12.113849", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udd0c Redis Connected: True"}
{"timestamp": "2025-11-17T16:23:12.114893", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Incoming call from: sip_+17194515279"}
{"timestamp": "2025-11-17T16:23:12.115260", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Caller Phone Detected (normalized): 17194515279"}
{"timestamp": "2025-11-17T16:23:12.115481", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udd0c Redis Connected: True"}
{"timestamp": "2025-11-17T16:23:12.115757", "level": "INFO", "logger": "telephony-agent", "message": "[Memory] \ud83e\udde0 Preloaded name from profile: Abdul Basit"}
{"timestamp": "2025-11-17T16:23:12.115863", "level": "INFO", "logger": "telephony-agent", "message": "[Memory] \ud83c\udd95 New SessionContext: BookingContext(name='Abdul Basit', phone='17194515279', date=None, time=None, suggested_slots=None, stage='start', status='Pending', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, created_at='2025-11-17T16:23:12.115411')"}
{"timestamp": "2025-11-17T16:23:12.116035", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Incoming call from: sip_+17194515279"}
{"timestamp": "2025-11-17T16:23:12.116125", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Caller Phone Detected (normalized): 17194515279"}
{"timestamp": "2025-11-17T16:23:12.116246", "level": "INFO", "logger": "telephony-agent", "message": "[Memory] \ud83e\udde0 Preloaded name from profile: Abdul Basit"}
{"timestamp": "2025-11-17T16:23:12.116929", "level": "INFO", "logger": "telephony-agent", "message": "[Memory] \ud83c\udd95 New SessionContext: BookingContext(name='Abdul Basit', phone='17194515279', date=None, time=None, suggested_slots=None, stage='start', status='Pending', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, created_at='2025-11-17T16:23:12.115411')"}
{"timestamp": "2025-11-17T16:23:12.303714", "level": "DEBUG", "logger": "livekit.agents", "message": "input stream attached"}
{"timestamp": "2025-11-17T16:23:12.309454", "level": "DEBUG", "logger": "livekit.agents", "message": "http_session(): creating a new httpclient ctx"}
{"timestamp": "2025-11-17T16:23:12.330164", "level": "DEBUG", "logger": "livekit.agents", "message": "start reading stream"}
{"timestamp": "2025-11-17T16:23:12.333771", "level": "DEBUG", "logger": "livekit.agents", "message": "using audio io: `RoomIO` -> `AgentSession` -> `TranscriptSynchronizer` -> `RoomIO`"}
{"timestamp": "2025-11-17T16:23:12.333960", "level": "DEBUG", "logger": "livekit.agents", "message": "using transcript io: `AgentSession` -> `TranscriptSynchronizer` -> `RoomIO`"}
{"timestamp": "2025-11-17T16:23:12.335907", "level": "ERROR", "logger": "livekit.agents", "message": "unhandled exception while running the job task", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/opentelemetry/util/_decorator.py\", line 71, in async_wrapper\n    return await func(*args, **kwargs)  # type: ignore\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/agents/ipc/job_proc_lazy_main.py\", line 240, in _traceable_entrypoint\n    await self._job_entrypoint_fnc(job_ctx)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 255, in entrypoint\n    @session.on(\"metrics_collected\")\n     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 172, in decorator\n    self.on(event, callback)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 161, in on\n    raise ValueError(\nValueError: Cannot register an async callback with `.on()`. Use `asyncio.create_task` within your synchronous callback instead."}
{"timestamp": "2025-11-17T16:23:12.349808", "level": "ERROR", "logger": "livekit.agents", "message": "unhandled exception while running the job task\nTraceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/opentelemetry/util/_decorator.py\", line 71, in async_wrapper\n    return await func(*args, **kwargs)  # type: ignore\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/agents/ipc/job_proc_lazy_main.py\", line 240, in _traceable_entrypoint\n    await self._job_entrypoint_fnc(job_ctx)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 255, in entrypoint\n    @session.on(\"metrics_collected\")\n     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 172, in decorator\n    self.on(event, callback)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 161, in on\n    raise ValueError(\nValueError: Cannot register an async callback with `.on()`. Use `asyncio.create_task` within your synchronous callback instead."}
{"timestamp": "2025-11-17T16:23:12.378058", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'get', 'url': '/'}"}
{"timestamp": "2025-11-17T16:23:12.379274", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: GET https://api.openai.com/v1/"}
{"timestamp": "2025-11-17T16:23:12.385185", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=15.0 socket_options=None"}
{"timestamp": "2025-11-17T16:23:12.562281", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x134fc9a90>"}
{"timestamp": "2025-11-17T16:23:12.562438", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x134f3c050> server_hostname='api.openai.com' timeout=15.0"}
{"timestamp": "2025-11-17T16:23:13.634686", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x12f3284d0>"}
{"timestamp": "2025-11-17T16:23:13.635884", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'GET']>"}
{"timestamp": "2025-11-17T16:23:13.636715", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-17T16:23:13.636865", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'GET']>"}
{"timestamp": "2025-11-17T16:23:13.637170", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-17T16:23:13.637316", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'GET']>"}
{"timestamp": "2025-11-17T16:23:14.258441", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'Date', b'Mon, 17 Nov 2025 16:23:14 GMT'), (b'Content-Type', b'text/html'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=ddz0ztz1kuw.3qe5aKXpaBbqtlJhDFK5fRWGANVaPKA-1763396594-1.0.1.1-q6Axwd1Hm4Te.NKQgYgse4G0RkT8cmhDr.LVTdSSzSecpSZ01QtMNcPIEZEbsFxLFUPfMVTC1dq8t1oZ.fN75gQAFYunZLp3fyKQ5fYTDds; path=/; expires=Mon, 17-Nov-25 16:53:14 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=F.HMJ3aDRaOrZnD7gHz5B.CyP3Alc7y4qvknmt4yMyc-1763396594354-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a0092494cbf096c-HKG'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-17T16:23:14.260928", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET https://api.openai.com/v1/ \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-11-17T16:23:14.261508", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'GET']>"}
{"timestamp": "2025-11-17T16:23:14.262579", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete"}
{"timestamp": "2025-11-17T16:23:14.263020", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-17T16:23:14.263304", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-17T16:23:14.263780", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: GET https://api.openai.com/v1/ \"404 Not Found\" Headers([('date', 'Mon, 17 Nov 2025 16:23:14 GMT'), ('content-type', 'text/html'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=ddz0ztz1kuw.3qe5aKXpaBbqtlJhDFK5fRWGANVaPKA-1763396594-1.0.1.1-q6Axwd1Hm4Te.NKQgYgse4G0RkT8cmhDr.LVTdSSzSecpSZ01QtMNcPIEZEbsFxLFUPfMVTC1dq8t1oZ.fN75gQAFYunZLp3fyKQ5fYTDds; path=/; expires=Mon, 17-Nov-25 16:53:14 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=F.HMJ3aDRaOrZnD7gHz5B.CyP3Alc7y4qvknmt4yMyc-1763396594354-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '9a0092494cbf096c-HKG'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-17T16:23:14.264113", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: None"}
{"timestamp": "2025-11-17T16:23:14.264267", "level": "DEBUG", "logger": "openai._base_client", "message": "Encountered httpx.HTTPStatusError", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/openai/_base_client.py\", line 1574, in request\n    response.raise_for_status()\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/httpx/_models.py\", line 829, in raise_for_status\n    raise HTTPStatusError(message, request=request, response=self)\nhttpx.HTTPStatusError: Client error '404 Not Found' for url 'https://api.openai.com/v1/'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404"}
{"timestamp": "2025-11-17T16:23:14.270370", "level": "DEBUG", "logger": "openai._base_client", "message": "Re-raising status error"}
{"timestamp": "2025-11-17T16:23:23.137178", "level": "DEBUG", "logger": "livekit", "message": "tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: \"\" })"}
{"timestamp": "2025-11-17T16:23:23.139609", "level": "INFO", "logger": "livekit", "message": "livekit::room:1400:livekit::room - disconnected from room with reason: RoomClosed"}
{"timestamp": "2025-11-17T16:23:23.140842", "level": "DEBUG", "logger": "livekit.agents", "message": "shutting down job task"}
{"timestamp": "2025-11-17T16:23:23.141490", "level": "INFO", "logger": "livekit.agents", "message": "process exiting"}
{"timestamp": "2025-11-17T16:23:23.142030", "level": "DEBUG", "logger": "livekit.agents", "message": "http_session(): closing the httpclient ctx"}
{"timestamp": "2025-11-17T16:23:44.027392", "level": "INFO", "logger": "livekit.agents", "message": "closing agent session due to participant disconnect (disable via `RoomInputOptions.close_on_disconnect=False`)"}
{"timestamp": "2025-11-17T16:23:44.032445", "level": "INFO", "logger": "livekit.agents", "message": "closing agent session due to participant disconnect (disable via `RoomInputOptions.close_on_disconnect=False`)"}
{"timestamp": "2025-11-17T16:23:44.033278", "level": "DEBUG", "logger": "livekit.agents", "message": "stream closed"}
{"timestamp": "2025-11-17T16:23:44.036673", "level": "DEBUG", "logger": "livekit.agents", "message": "input stream detached"}
{"timestamp": "2025-11-17T16:23:46.048728", "level": "DEBUG", "logger": "livekit.agents", "message": "session closed"}
{"timestamp": "2025-11-17T16:24:08.552397", "level": "DEBUG", "logger": "livekit", "message": "tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: \"\" })"}
{"timestamp": "2025-11-17T16:24:08.554758", "level": "DEBUG", "logger": "livekit", "message": "tungstenite::protocol:683:tungstenite::protocol - Replying to close with Frame { header: FrameHeader { is_final: true, rsv1: false, rsv2: false, rsv3: false, opcode: Control(Close), mask: None }, payload: [3, 232] }"}
{"timestamp": "2025-11-17T16:24:08.557946", "level": "INFO", "logger": "livekit", "message": "livekit::room:1400:livekit::room - disconnected from room with reason: RoomClosed"}
{"timestamp": "2025-11-17T16:24:08.560302", "level": "DEBUG", "logger": "livekit.agents", "message": "shutting down job task"}
{"timestamp": "2025-11-17T16:24:08.562304", "level": "DEBUG", "logger": "livekit.agents", "message": "http_session(): closing the httpclient ctx"}
{"timestamp": "2025-11-17T16:24:08.562451", "level": "INFO", "logger": "livekit.agents", "message": "process exiting"}
{"timestamp": "2025-11-17T16:24:24.523326", "level": "INFO", "logger": "livekit.agents", "message": "draining worker"}
{"timestamp": "2025-11-17T16:24:24.526159", "level": "INFO", "logger": "livekit.agents", "message": "shutting down worker"}
{"timestamp": "2025-11-17T16:24:24.726260", "level": "WARNING", "logger": "livekit.agents", "message": "exiting forcefully"}
{"timestamp": "2025-11-17T16:24:26.722532", "level": "INFO", "logger": "livekit.agents", "message": "starting worker"}
{"timestamp": "2025-11-17T16:24:26.748061", "level": "INFO", "logger": "livekit.agents", "message": "initializing process"}
{"timestamp": "2025-11-17T16:24:26.748436", "level": "INFO", "logger": "livekit.agents", "message": "initializing process"}
{"timestamp": "2025-11-17T16:24:26.748775", "level": "INFO", "logger": "livekit.agents", "message": "initializing process"}
{"timestamp": "2025-11-17T16:24:26.749379", "level": "INFO", "logger": "livekit.agents", "message": "initializing process"}
{"timestamp": "2025-11-17T16:24:28.002741", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-17T16:24:28.002752", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-17T16:24:28.003318", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-17T16:24:28.003579", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-17T16:24:28.004735", "level": "INFO", "logger": "livekit.agents", "message": "process initialized"}
{"timestamp": "2025-11-17T16:24:28.005300", "level": "INFO", "logger": "livekit.agents", "message": "process initialized"}
{"timestamp": "2025-11-17T16:24:28.006378", "level": "INFO", "logger": "livekit.agents", "message": "process initialized"}
{"timestamp": "2025-11-17T16:24:28.006499", "level": "INFO", "logger": "livekit.agents", "message": "process initialized"}
{"timestamp": "2025-11-17T16:24:29.101388", "level": "INFO", "logger": "livekit.agents", "message": "registered worker"}
{"timestamp": "2025-11-17T16:24:33.098166", "level": "INFO", "logger": "livekit.agents", "message": "received job request"}
{"timestamp": "2025-11-17T16:24:33.275577", "level": "INFO", "logger": "livekit", "message": "livekit_ffi::server:139:livekit_ffi::server - initializing ffi server v0.12.39"}
{"timestamp": "2025-11-17T16:24:33.276515", "level": "INFO", "logger": "livekit", "message": "livekit_ffi::cabi:50:livekit_ffi::cabi - initializing ffi server v0.12.39"}
{"timestamp": "2025-11-17T16:24:33.280560", "level": "INFO", "logger": "livekit", "message": "livekit_api::signal_client::signal_stream:92:livekit_api::signal_client::signal_stream - connecting to wss://testing-mwtbjpwy.livekit.cloud/rtc?sdk=python&protocol=16&auto_subscribe=1&adaptive_stream=0&version=1.0.18"}
{"timestamp": "2025-11-17T16:24:33.301384", "level": "INFO", "logger": "livekit.agents", "message": "initializing process"}
{"timestamp": "2025-11-17T16:24:33.715240", "level": "DEBUG", "logger": "livekit", "message": "rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 153 valid and 0 invalid certs"}
{"timestamp": "2025-11-17T16:24:33.715467", "level": "DEBUG", "logger": "livekit", "message": "tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 153/153 native root certificates (ignored 0)"}
{"timestamp": "2025-11-17T16:24:33.715626", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::hs:73:rustls::client::hs - No cached session for DnsName(\"testing-mwtbjpwy.livekit.cloud\")"}
{"timestamp": "2025-11-17T16:24:33.715850", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::hs:132:rustls::client::hs - Not resuming any session"}
{"timestamp": "2025-11-17T16:24:33.896350", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256"}
{"timestamp": "2025-11-17T16:24:33.896549", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::tls13:142:rustls::client::tls13 - Not resuming"}
{"timestamp": "2025-11-17T16:24:33.896707", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []"}
{"timestamp": "2025-11-17T16:24:33.896788", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::hs:472:rustls::client::hs - ALPN protocol is None"}
{"timestamp": "2025-11-17T16:24:34.410934", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-17T16:24:34.411222", "level": "INFO", "logger": "livekit.agents", "message": "process initialized"}
{"timestamp": "2025-11-17T16:24:34.769036", "level": "DEBUG", "logger": "livekit", "message": "tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done."}
{"timestamp": "2025-11-17T16:24:36.497474", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udd0c Redis Connected: True"}
{"timestamp": "2025-11-17T16:24:36.498424", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udd0c Redis Connected: True"}
{"timestamp": "2025-11-17T16:24:36.498928", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Incoming call from: sip_+17194515279"}
{"timestamp": "2025-11-17T16:24:36.499311", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Caller Phone Detected (normalized): 17194515279"}
{"timestamp": "2025-11-17T16:24:36.499408", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Incoming call from: sip_+17194515279"}
{"timestamp": "2025-11-17T16:24:36.499653", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Caller Phone Detected (normalized): 17194515279"}
{"timestamp": "2025-11-17T16:24:36.499831", "level": "INFO", "logger": "telephony-agent", "message": "[Memory] \ud83e\udde0 Preloaded name from profile: Abdul Basit"}
{"timestamp": "2025-11-17T16:24:36.499987", "level": "INFO", "logger": "telephony-agent", "message": "[Memory] \ud83c\udd95 New SessionContext: BookingContext(name='Abdul Basit', phone='17194515279', date=None, time=None, suggested_slots=None, stage='start', status='Pending', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, created_at='2025-11-17T16:24:36.499473')"}
{"timestamp": "2025-11-17T16:24:36.500085", "level": "INFO", "logger": "telephony-agent", "message": "[Memory] \ud83e\udde0 Preloaded name from profile: Abdul Basit"}
{"timestamp": "2025-11-17T16:24:36.501193", "level": "INFO", "logger": "telephony-agent", "message": "[Memory] \ud83c\udd95 New SessionContext: BookingContext(name='Abdul Basit', phone='17194515279', date=None, time=None, suggested_slots=None, stage='start', status='Pending', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, created_at='2025-11-17T16:24:36.499473')"}
{"timestamp": "2025-11-17T16:24:36.708879", "level": "DEBUG", "logger": "livekit.agents", "message": "input stream attached"}
{"timestamp": "2025-11-17T16:24:36.712276", "level": "DEBUG", "logger": "livekit.agents", "message": "http_session(): creating a new httpclient ctx"}
{"timestamp": "2025-11-17T16:24:36.717319", "level": "DEBUG", "logger": "livekit.agents", "message": "start reading stream"}
{"timestamp": "2025-11-17T16:24:36.721229", "level": "DEBUG", "logger": "livekit.agents", "message": "using audio io: `RoomIO` -> `AgentSession` -> `TranscriptSynchronizer` -> `RoomIO`"}
{"timestamp": "2025-11-17T16:24:36.721459", "level": "DEBUG", "logger": "livekit.agents", "message": "using transcript io: `AgentSession` -> `TranscriptSynchronizer` -> `RoomIO`"}
{"timestamp": "2025-11-17T16:24:36.846138", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'get', 'url': '/'}"}
{"timestamp": "2025-11-17T16:24:36.846832", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: GET https://api.openai.com/v1/"}
{"timestamp": "2025-11-17T16:24:36.850336", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'timeout': Timeout(timeout=10.0), 'files': None, 'idempotency_key': 'stainless-python-retry-0da1d9fd-7281-4b68-a48a-8e7c31cd1543', 'json_data': {'messages': [{'role': 'system', 'content': \"\\n        You are **Shifa Clinic\u2019s AI Receptionist**, answering calls in real time.\\n            Your role is to help callers with booking, confirming, or rescheduling appointments.\\n            Speak naturally, briefly, and professionally\u2014like an experienced clinic receptionist.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CORE BEHAVIOR\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            1. **Every call is fresh.**  \\n            Do not rely on previous session context. Use only:\\n            - caller name (if known)\\n            - caller phone (if known)\\n            - information spoken in THIS call\\n            \\n\\n            2. **One task at a time.**  \\n            Every reply must:\\n            - confirm the last thing the caller said\\n            - take one small step forward (ask ONE question)\\n            - be under **8 words**\\n                Always respond in under 8 words. Prioritize immediate tool calls. Do not speak long sentences.\\n\\n            3. **Never expose internal logic.**  \\n            Never say:\\n            - \u201ccalling a tool\u2026\u201d\\n            - \u201csaving memory\u2026\u201d\\n            - \u201cI detected your name\u2026\u201d\\n            - \u201cupdating the appointment\u2026\u201d\\n\\n            4. **Always stay polite, warm, and concise.**\\n            Examples:\\n            - \u201cSure, one moment.\u201d\\n            - \u201cGot it.\u201d\\n            - \u201cLet me check that.\u201d\\n\\n            5. **If caller seems confused, repeat slowly and simply.**\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### TOOL CALLING RULES\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            Use tools to perform actions.  \\n            After calling a tool, speak a short natural confirmation.\\n\\n            **Tools you may call:**\\n            - `save_name(name)`\\n            - `save_phone(phone)`\\n            - `available_slot()`\\n            - `booking_appointment()`\\n            - `get_date()`\\n            - `update_caller_profile(name?, phone?)`\\n            - `start_reschedule()`\\n            - `confirm_reschedule()`\\n            - `end_call()`\\n\\n            Tool usage guidelines:\\n            - Call **save_name** immediately when you hear a name.\\n            - Call **save_phone** when digits are spoken.  \\n            If partial, ask: \u201cCan you repeat that number slowly?\u201d\\n            - Call **available_slot** when caller expresses a time preference (morning, evening, 3pm, etc.)\\n            - Call **get_date** when caller gives a vague date (\u201cnext Monday\u201d).\\n            - Call **booking_appointment** only when BOTH date and time are known.\\n            - Call **update_caller_profile** if caller corrects name or phone.\\n            - After a booking or reschedule completes, ask:  \\n            \u201cAnything else I can help with?\u201d  \\n            If caller says \u201cno\u201d, use `end_call()`.\\n            If the phone number is unclear or has extra/missing digits, ask the caller to repeat it digit by digit.\\n                Do not guess phone numbers.\\n                Always confirm the final number by repeating it back.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESCHEDULE FLOW\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            When the caller says anything like \u201cchange\u201d, \u201cmove\u201d, \u201creschedule\u201d, \u201cshift\u201d:\\n            1. Call **start_reschedule**.\\n            2. Ask for the new date.\\n            3. Once date \u2192 ask for time.\\n            4. When BOTH are known \u2192 call **confirm_reschedule**.\\n            5. After confirmation \u2192 ask:  \\n            \u201cAnything else I can help with?\u201d\\n\\n            Never call `confirm_reschedule` early.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CONVERSATION STYLE\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Speak like a calm clinic receptionist.\\n            - Use short sentences.  \\n            - One question per turn.  \\n            - No filler like \u201cas an AI\u201d.  \\n            - No medical advice.  \\n            - Don't ask for information you already have.\\n\\n            **Good examples:**\\n            - \u201cSure. What day works for you?\u201d\\n            - \u201cGot it. And what time?\u201d\\n            - \u201cPerfect. One moment while I check.\u201d\\n\\n            **Bad examples:**\\n            - \u201cLet me call a tool.\u201d\\n            - \u201cProcessing your request.\u201d\\n            - \u201cI am updating your appointment in the database.\u201d\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESPONSE CONTROL\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Never output long paragraphs.  \\n            - Never output lists or explanations.  \\n            - Keep responses conversational and human.  \\n            - If caller pauses 5 seconds, use `end_call()`.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### ROLE REMINDER\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            You are the first point of contact for Shifa Clinic.  \\n            Be warm. Be efficient. Be human.\\n\\n            Now handle the caller.\\n\\n\\nGood evening! Hi Abdul Basit, how can I help you today?\"}], 'model': 'gpt-4o-mini', 'stream': True, 'stream_options': {'include_usage': True}, 'temperature': 0.7, 'tools': [{'type': 'function', 'function': {'name': 'save_name', 'strict': True, 'description': '', 'parameters': {'properties': {'name': {'type': 'string'}}, 'required': ['name'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'save_phone', 'strict': True, 'description': 'Store validated patient phone in Redis using existing BookingBase validator.', 'parameters': {'properties': {'phone': {'type': 'string'}}, 'required': ['phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'available_slot', 'strict': True, 'description': 'Suggest available appointment slots for a given day.\\n- Understands natural language (\"tomorrow\", \"morning\", \"after 2pm\")\\n- Always fetches fresh availability from DB.\\n- Returns top 3 free slots.\\n- Stores them in ctx.suggested_slots for booking_appointment.', 'parameters': {'properties': {'day': {'type': 'string'}, 'date': {'type': 'string'}, 'time': {'type': 'string'}}, 'required': ['day', 'date', 'time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'booking_appointment', 'strict': True, 'description': 'Create or reschedule an appointment.\\nClean, predictable, AI-friendly logic.\\nUses helper functions for DB safety.', 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'get_date', 'strict': True, 'description': 'Return system date and time.', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'end_call', 'strict': True, 'description': \"Gracefully end the call after confirming there's nothing else needed.\\nDoes not clear Redis; short-term memory expires via TTL.\", 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'update_caller_profile', 'strict': True, 'description': 'Persist caller profile (name/phone) for future calls without disrupting session.\\nIf phone not provided, uses current session phone if available.', 'parameters': {'properties': {'name': {'type': ['string', 'null']}, 'phone': {'type': ['string', 'null']}}, 'required': ['name', 'phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'start_reschedule', 'strict': True, 'description': '', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'confirm_reschedule', 'strict': True, 'description': \"Confirm and perform rescheduling to the selected date/time.\\nUse after start_reschedule + available_slot when the caller says 'yes'.\", 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}]}}"}
{"timestamp": "2025-11-17T16:24:36.851623", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions"}
{"timestamp": "2025-11-17T16:24:36.851923", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=15.0 socket_options=None"}
{"timestamp": "2025-11-17T16:24:36.853020", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=10.0 socket_options=None"}
{"timestamp": "2025-11-17T16:24:36.888210", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10ea7a850>"}
{"timestamp": "2025-11-17T16:24:36.888361", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x10e2240e0> server_hostname='api.openai.com' timeout=15.0"}
{"timestamp": "2025-11-17T16:24:36.888854", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10ea1a510>"}
{"timestamp": "2025-11-17T16:24:36.888932", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x10e224050> server_hostname='api.openai.com' timeout=10.0"}
{"timestamp": "2025-11-17T16:24:36.900004", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10ea60b10>"}
{"timestamp": "2025-11-17T16:24:36.900295", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'GET']>"}
{"timestamp": "2025-11-17T16:24:36.900743", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-17T16:24:36.900810", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'GET']>"}
{"timestamp": "2025-11-17T16:24:36.900900", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-17T16:24:36.900983", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'GET']>"}
{"timestamp": "2025-11-17T16:24:36.906417", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10e28ac50>"}
{"timestamp": "2025-11-17T16:24:36.906914", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:24:36.907344", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-17T16:24:36.907433", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:24:36.907648", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-17T16:24:36.907726", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:24:37.547223", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 17 Nov 2025 16:24:37 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'352'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'381'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'198636'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'409ms'), (b'x-request-id', b'req_e2b5f346bac04cedacc9f5b6d237dea9'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=m0eHftgsReA_3UfvjRIBazN_C9D4x66Z4iX1eWrZ31k-1763396677-1.0.1.1-4dK5p7mEwlHsCDyTf8SCpII9UthRvWC2CGSRlIFSexXMp0h_GnxYTvw0uC01QJAZR1_R.jt7TfIxzhp2AFQeZNXNK0i4E_MT7M7RNO4w9W8; path=/; expires=Mon, 17-Nov-25 16:54:37 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=_fmocRhmnOea5oWaN2tynMOLxRee8VbcQ7F4lt0xIho-1763396677717-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a00944fdabba41c-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-17T16:24:37.550410", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/chat/completions \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-17T16:24:37.551448", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers([('date', 'Mon, 17 Nov 2025 16:24:37 GMT'), ('content-type', 'text/event-stream; charset=utf-8'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'user-hef6qdiz1bsjendvhiay1uww'), ('openai-processing-ms', '352'), ('openai-project', 'proj_fFIktXLPrLlENFXwWG5Of7EI'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '381'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '200000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '198636'), ('x-ratelimit-reset-requests', '8.64s'), ('x-ratelimit-reset-tokens', '409ms'), ('x-request-id', 'req_e2b5f346bac04cedacc9f5b6d237dea9'), ('x-openai-proxy-wasm', 'v0.1'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=m0eHftgsReA_3UfvjRIBazN_C9D4x66Z4iX1eWrZ31k-1763396677-1.0.1.1-4dK5p7mEwlHsCDyTf8SCpII9UthRvWC2CGSRlIFSexXMp0h_GnxYTvw0uC01QJAZR1_R.jt7TfIxzhp2AFQeZNXNK0i4E_MT7M7RNO4w9W8; path=/; expires=Mon, 17-Nov-25 16:54:37 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=_fmocRhmnOea5oWaN2tynMOLxRee8VbcQ7F4lt0xIho-1763396677717-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '9a00944fdabba41c-KHI'), ('alt-svc', 'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-17T16:24:37.551922", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_e2b5f346bac04cedacc9f5b6d237dea9"}
{"timestamp": "2025-11-17T16:24:37.552592", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:24:37.764445", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396677.762607, 'idle_time': 1.0498559589905199, 'inference_duration_total': 0.06704145684489049, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:24:37.765755", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396677.762607, 'idle_time': 1.0498559589905199, 'inference_duration_total': 0.06704145684489049, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:24:37.784842", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream', 'X-Stainless-Raw-Response': 'stream'}, 'timeout': Timeout(connect=10.0, read=30, write=30, pool=30), 'files': None, 'idempotency_key': 'stainless-python-retry-736c528f-6958-491b-a168-e3555ff3b345', 'json_data': {'input': 'Good evening, Abdul Basit!', 'model': 'gpt-4o-mini-tts', 'voice': 'alloy', 'response_format': 'mp3', 'speed': 1.0}}"}
{"timestamp": "2025-11-17T16:24:37.785527", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/audio/speech"}
{"timestamp": "2025-11-17T16:24:37.786080", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=10.0 socket_options=None"}
{"timestamp": "2025-11-17T16:24:37.799988", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10eaa0110>"}
{"timestamp": "2025-11-17T16:24:37.800168", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x10e2240e0> server_hostname='api.openai.com' timeout=10.0"}
{"timestamp": "2025-11-17T16:24:37.811447", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10eaa9c10>"}
{"timestamp": "2025-11-17T16:24:37.811940", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:24:37.812462", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-17T16:24:37.812544", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:24:37.812813", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-17T16:24:37.812884", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:24:37.871281", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-17T16:24:37.871541", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-17T16:24:37.872515", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CcwJpeomlD5T1HKNZk2Qxp0bJQqXU', 'timestamp': 1763396677.871845, 'duration': 1.145391041005496, 'ttft': 0.869690499996068, 'cancelled': False, 'completion_tokens': 15, 'prompt_tokens': 1328, 'prompt_cached_tokens': 0, 'total_tokens': 1343, 'tokens_per_second': 13.095964140624028, 'speech_id': 'speech_6f0c06f8fa65', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:24:37.872675", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CcwJpeomlD5T1HKNZk2Qxp0bJQqXU', 'timestamp': 1763396677.871845, 'duration': 1.145391041005496, 'ttft': 0.869690499996068, 'cancelled': False, 'completion_tokens': 15, 'prompt_tokens': 1328, 'prompt_cached_tokens': 0, 'total_tokens': 1343, 'tokens_per_second': 13.095964140624028, 'speech_id': 'speech_6f0c06f8fa65', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:24:37.873284", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.failed exception=GeneratorExit()"}
{"timestamp": "2025-11-17T16:24:37.945716", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'Date', b'Mon, 17 Nov 2025 16:24:38 GMT'), (b'Content-Type', b'text/html'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=ygDYpunc3Yd9y5w_mJ0dnVR.yTFgQMmcZl0Zj2qFrpE-1763396678-1.0.1.1-2G627TyTUx05qCXp4NN0i.9By.ed1icISJtIpT0NjuvFB92XbBl9l7pYc.2grrzTXjFmrhE45.T.XA107OyLcwROa0gGwH1aCTuyygYL7.E; path=/; expires=Mon, 17-Nov-25 16:54:38 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=Hg.65q0nlntk2_e__2hjTVJc_LeFWPjMoqulLmLOdRk-1763396678118-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a00944fba59a41c-KHI'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-17T16:24:37.946308", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET https://api.openai.com/v1/ \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-11-17T16:24:37.946644", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'GET']>"}
{"timestamp": "2025-11-17T16:24:37.947244", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete"}
{"timestamp": "2025-11-17T16:24:37.947477", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-17T16:24:37.947722", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-17T16:24:37.948055", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: GET https://api.openai.com/v1/ \"404 Not Found\" Headers([('date', 'Mon, 17 Nov 2025 16:24:38 GMT'), ('content-type', 'text/html'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=ygDYpunc3Yd9y5w_mJ0dnVR.yTFgQMmcZl0Zj2qFrpE-1763396678-1.0.1.1-2G627TyTUx05qCXp4NN0i.9By.ed1icISJtIpT0NjuvFB92XbBl9l7pYc.2grrzTXjFmrhE45.T.XA107OyLcwROa0gGwH1aCTuyygYL7.E; path=/; expires=Mon, 17-Nov-25 16:54:38 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=Hg.65q0nlntk2_e__2hjTVJc_LeFWPjMoqulLmLOdRk-1763396678118-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '9a00944fba59a41c-KHI'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-17T16:24:37.948316", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: None"}
{"timestamp": "2025-11-17T16:24:37.948438", "level": "DEBUG", "logger": "openai._base_client", "message": "Encountered httpx.HTTPStatusError", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/openai/_base_client.py\", line 1574, in request\n    response.raise_for_status()\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/httpx/_models.py\", line 829, in raise_for_status\n    raise HTTPStatusError(message, request=request, response=self)\nhttpx.HTTPStatusError: Client error '404 Not Found' for url 'https://api.openai.com/v1/'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404"}
{"timestamp": "2025-11-17T16:24:37.962029", "level": "DEBUG", "logger": "openai._base_client", "message": "Re-raising status error"}
{"timestamp": "2025-11-17T16:24:38.769772", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396678.769569, 'idle_time': 2.0568204169976525, 'inference_duration_total': 0.029616081999847665, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:24:38.770508", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396678.769569, 'idle_time': 2.0568204169976525, 'inference_duration_total': 0.029616081999847665, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:24:38.830438", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 17 Nov 2025 16:24:38 GMT'), (b'Content-Type', b'audio/mpeg'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'444'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'457'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9998'), (b'x-ratelimit-remaining-tokens', b'199994'), (b'x-ratelimit-reset-requests', b'16.348s'), (b'x-ratelimit-reset-tokens', b'1ms'), (b'x-request-id', b'req_a7fd43343fdf4c2186036d992bb34ad0'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=EgQNXHnaNibIQimNvy1SWamMLzWRmN9xwkeM8lVy2Vo-1763396678-1.0.1.1-pki67gTmc7uFR5FYOHh7g.cn8xdgPRG6HOihbKyIKZttkVIdpF5oYkpK271_gFWpKydBKsQtqphUVZYEjrMRw290jsy0tHKw4Moax3u90VM; path=/; expires=Mon, 17-Nov-25 16:54:38 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=TSk8HEqEUJwuowlWZsBp51L3mBtY4i888M5vEndeYio-1763396678966-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a0094557b5ce89f-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-17T16:24:38.831353", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/audio/speech \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-17T16:24:38.831576", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/audio/speech \"200 OK\" Headers([('date', 'Mon, 17 Nov 2025 16:24:38 GMT'), ('content-type', 'audio/mpeg'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'user-hef6qdiz1bsjendvhiay1uww'), ('openai-processing-ms', '444'), ('openai-project', 'proj_fFIktXLPrLlENFXwWG5Of7EI'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '457'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '200000'), ('x-ratelimit-remaining-requests', '9998'), ('x-ratelimit-remaining-tokens', '199994'), ('x-ratelimit-reset-requests', '16.348s'), ('x-ratelimit-reset-tokens', '1ms'), ('x-request-id', 'req_a7fd43343fdf4c2186036d992bb34ad0'), ('x-openai-proxy-wasm', 'v0.1'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=EgQNXHnaNibIQimNvy1SWamMLzWRmN9xwkeM8lVy2Vo-1763396678-1.0.1.1-pki67gTmc7uFR5FYOHh7g.cn8xdgPRG6HOihbKyIKZttkVIdpF5oYkpK271_gFWpKydBKsQtqphUVZYEjrMRw290jsy0tHKw4Moax3u90VM; path=/; expires=Mon, 17-Nov-25 16:54:38 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=TSk8HEqEUJwuowlWZsBp51L3mBtY4i888M5vEndeYio-1763396678966-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '9a0094557b5ce89f-KHI'), ('alt-svc', 'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-17T16:24:38.832045", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_a7fd43343fdf4c2186036d992bb34ad0"}
{"timestamp": "2025-11-17T16:24:38.832487", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:24:39.032930", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete"}
{"timestamp": "2025-11-17T16:24:39.033236", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-17T16:24:39.033467", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-17T16:24:39.036991", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_a7fd43343fdf4c2186036d992bb34ad0', 'timestamp': 1763396679.036461, 'ttfb': 1.178452041989658, 'duration': 1.2527609169774223, 'audio_duration': 1.474, 'cancelled': False, 'characters_count': 26, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_6f0c06f8fa65', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:24:39.037354", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_a7fd43343fdf4c2186036d992bb34ad0', 'timestamp': 1763396679.036461, 'ttfb': 1.178452041989658, 'duration': 1.2527609169774223, 'audio_duration': 1.474, 'cancelled': False, 'characters_count': 26, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_6f0c06f8fa65', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:24:39.038192", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream', 'X-Stainless-Raw-Response': 'stream'}, 'timeout': Timeout(connect=10.0, read=30, write=30, pool=30), 'files': None, 'idempotency_key': 'stainless-python-retry-0802d8c4-fe36-4208-98cd-9f234a8761b6', 'json_data': {'input': 'How can I assist you today?', 'model': 'gpt-4o-mini-tts', 'voice': 'alloy', 'response_format': 'mp3', 'speed': 1.0}}"}
{"timestamp": "2025-11-17T16:24:39.038866", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/audio/speech"}
{"timestamp": "2025-11-17T16:24:39.039299", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:24:39.039638", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-17T16:24:39.039735", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:24:39.039932", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-17T16:24:39.039987", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:24:39.813016", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396679.812402, 'idle_time': 3.09965645900229, 'inference_duration_total': 0.019211459963116795, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:24:39.813828", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396679.812402, 'idle_time': 3.09965645900229, 'inference_duration_total': 0.019211459963116795, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:24:39.974528", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 17 Nov 2025 16:24:40 GMT'), (b'Content-Type', b'audio/mpeg'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'496'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'519'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9997'), (b'x-ratelimit-remaining-tokens', b'199994'), (b'x-ratelimit-reset-requests', b'23.707s'), (b'x-ratelimit-reset-tokens', b'1ms'), (b'x-request-id', b'req_6bbd644292ea4218beb23556f3de4921'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a00945d8c1ba41c-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-17T16:24:39.975153", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/audio/speech \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-17T16:24:39.975676", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/audio/speech \"200 OK\" Headers({'date': 'Mon, 17 Nov 2025 16:24:40 GMT', 'content-type': 'audio/mpeg', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '496', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '519', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9997', 'x-ratelimit-remaining-tokens': '199994', 'x-ratelimit-reset-requests': '23.707s', 'x-ratelimit-reset-tokens': '1ms', 'x-request-id': 'req_6bbd644292ea4218beb23556f3de4921', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a00945d8c1ba41c-KHI', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-17T16:24:39.975939", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_6bbd644292ea4218beb23556f3de4921"}
{"timestamp": "2025-11-17T16:24:39.976198", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:24:40.159909", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-17T16:24:40.249328", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete"}
{"timestamp": "2025-11-17T16:24:40.249638", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-17T16:24:40.250017", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-17T16:24:40.269198", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_6bbd644292ea4218beb23556f3de4921', 'timestamp': 1763396680.268995, 'ttfb': 0.9423409589799121, 'duration': 1.231462374998955, 'audio_duration': 1.7139999999999997, 'cancelled': False, 'characters_count': 27, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_6f0c06f8fa65', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:24:40.269500", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_6bbd644292ea4218beb23556f3de4921', 'timestamp': 1763396680.268995, 'ttfb': 0.9423409589799121, 'duration': 1.231462374998955, 'audio_duration': 1.7139999999999997, 'cancelled': False, 'characters_count': 27, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_6f0c06f8fa65', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:24:40.810902", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396680.810708, 'idle_time': 4.097965416993247, 'inference_duration_total': 0.021109041961608455, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:24:40.811303", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396680.810708, 'idle_time': 4.097965416993247, 'inference_duration_total': 0.021109041961608455, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:24:41.761247", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'f00de32b-7021-473f-84da-d4383b5786db', 'timestamp': 1763396681.7606971, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:24:41.762258", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'f00de32b-7021-473f-84da-d4383b5786db', 'timestamp': 1763396681.7606971, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:24:41.863845", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396681.863303, 'idle_time': 5.150563499977579, 'inference_duration_total': 0.02330129101756029, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:24:41.864603", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396681.863303, 'idle_time': 5.150563499977579, 'inference_duration_total': 0.02330129101756029, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:24:42.862954", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396682.8622222, 'idle_time': 6.149485249974532, 'inference_duration_total': 0.03297487596864812, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:24:42.863783", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396682.8622222, 'idle_time': 6.149485249974532, 'inference_duration_total': 0.03297487596864812, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:24:43.911098", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396683.910622, 'idle_time': 7.197887999995146, 'inference_duration_total': 0.031960789958247915, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:24:43.911711", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396683.910622, 'idle_time': 7.197887999995146, 'inference_duration_total': 0.031960789958247915, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:24:44.913247", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396684.9126651, 'idle_time': 8.199933625000995, 'inference_duration_total': 0.03268383097019978, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:24:44.914016", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396684.9126651, 'idle_time': 8.199933625000995, 'inference_duration_total': 0.03268383097019978, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:24:45.962663", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396685.961904, 'idle_time': 9.249175374978222, 'inference_duration_total': 0.029039290006039664, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:24:45.963698", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396685.961904, 'idle_time': 9.249175374978222, 'inference_duration_total': 0.029039290006039664, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:24:46.763351", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'f00de32b-7021-473f-84da-d4383b5786db', 'timestamp': 1763396686.7624938, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:24:46.764175", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'f00de32b-7021-473f-84da-d4383b5786db', 'timestamp': 1763396686.7624938, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:24:46.963717", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396686.9630878, 'idle_time': 10.250362249993486, 'inference_duration_total': 0.03692275201319717, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:24:46.964529", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396686.9630878, 'idle_time': 10.250362249993486, 'inference_duration_total': 0.03692275201319717, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:24:48.013209", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396688.012713, 'idle_time': 0.14918129201396368, 'inference_duration_total': 0.027742794976802543, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:24:48.013932", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396688.012713, 'idle_time': 0.14918129201396368, 'inference_duration_total': 0.027742794976802543, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:24:48.950414", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-17T16:24:48.964105", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763396688.9621692, 'end_of_utterance_delay': 0.5762968063354492, 'transcription_delay': 0.5654556751251221, 'on_user_turn_completed_delay': 4.0531158447265625e-06, 'last_speaking_time': 1763396688.3855093, 'speech_id': 'speech_1f05dbf696f6', 'metadata': None}}"}
{"timestamp": "2025-11-17T16:24:48.964720", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763396688.9621692, 'end_of_utterance_delay': 0.5762968063354492, 'transcription_delay': 0.5654556751251221, 'on_user_turn_completed_delay': 4.0531158447265625e-06, 'last_speaking_time': 1763396688.3855093, 'speech_id': 'speech_1f05dbf696f6', 'metadata': None}}"}
{"timestamp": "2025-11-17T16:24:48.975678", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'timeout': Timeout(timeout=10.0), 'files': None, 'idempotency_key': 'stainless-python-retry-aa75913a-8dd2-4206-8522-ed16ba3367f5', 'json_data': {'messages': [{'role': 'system', 'content': \"\\n        You are **Shifa Clinic\u2019s AI Receptionist**, answering calls in real time.\\n            Your role is to help callers with booking, confirming, or rescheduling appointments.\\n            Speak naturally, briefly, and professionally\u2014like an experienced clinic receptionist.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CORE BEHAVIOR\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            1. **Every call is fresh.**  \\n            Do not rely on previous session context. Use only:\\n            - caller name (if known)\\n            - caller phone (if known)\\n            - information spoken in THIS call\\n            \\n\\n            2. **One task at a time.**  \\n            Every reply must:\\n            - confirm the last thing the caller said\\n            - take one small step forward (ask ONE question)\\n            - be under **8 words**\\n                Always respond in under 8 words. Prioritize immediate tool calls. Do not speak long sentences.\\n\\n            3. **Never expose internal logic.**  \\n            Never say:\\n            - \u201ccalling a tool\u2026\u201d\\n            - \u201csaving memory\u2026\u201d\\n            - \u201cI detected your name\u2026\u201d\\n            - \u201cupdating the appointment\u2026\u201d\\n\\n            4. **Always stay polite, warm, and concise.**\\n            Examples:\\n            - \u201cSure, one moment.\u201d\\n            - \u201cGot it.\u201d\\n            - \u201cLet me check that.\u201d\\n\\n            5. **If caller seems confused, repeat slowly and simply.**\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### TOOL CALLING RULES\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            Use tools to perform actions.  \\n            After calling a tool, speak a short natural confirmation.\\n\\n            **Tools you may call:**\\n            - `save_name(name)`\\n            - `save_phone(phone)`\\n            - `available_slot()`\\n            - `booking_appointment()`\\n            - `get_date()`\\n            - `update_caller_profile(name?, phone?)`\\n            - `start_reschedule()`\\n            - `confirm_reschedule()`\\n            - `end_call()`\\n\\n            Tool usage guidelines:\\n            - Call **save_name** immediately when you hear a name.\\n            - Call **save_phone** when digits are spoken.  \\n            If partial, ask: \u201cCan you repeat that number slowly?\u201d\\n            - Call **available_slot** when caller expresses a time preference (morning, evening, 3pm, etc.)\\n            - Call **get_date** when caller gives a vague date (\u201cnext Monday\u201d).\\n            - Call **booking_appointment** only when BOTH date and time are known.\\n            - Call **update_caller_profile** if caller corrects name or phone.\\n            - After a booking or reschedule completes, ask:  \\n            \u201cAnything else I can help with?\u201d  \\n            If caller says \u201cno\u201d, use `end_call()`.\\n            If the phone number is unclear or has extra/missing digits, ask the caller to repeat it digit by digit.\\n                Do not guess phone numbers.\\n                Always confirm the final number by repeating it back.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESCHEDULE FLOW\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            When the caller says anything like \u201cchange\u201d, \u201cmove\u201d, \u201creschedule\u201d, \u201cshift\u201d:\\n            1. Call **start_reschedule**.\\n            2. Ask for the new date.\\n            3. Once date \u2192 ask for time.\\n            4. When BOTH are known \u2192 call **confirm_reschedule**.\\n            5. After confirmation \u2192 ask:  \\n            \u201cAnything else I can help with?\u201d\\n\\n            Never call `confirm_reschedule` early.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CONVERSATION STYLE\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Speak like a calm clinic receptionist.\\n            - Use short sentences.  \\n            - One question per turn.  \\n            - No filler like \u201cas an AI\u201d.  \\n            - No medical advice.  \\n            - Don't ask for information you already have.\\n\\n            **Good examples:**\\n            - \u201cSure. What day works for you?\u201d\\n            - \u201cGot it. And what time?\u201d\\n            - \u201cPerfect. One moment while I check.\u201d\\n\\n            **Bad examples:**\\n            - \u201cLet me call a tool.\u201d\\n            - \u201cProcessing your request.\u201d\\n            - \u201cI am updating your appointment in the database.\u201d\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESPONSE CONTROL\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Never output long paragraphs.  \\n            - Never output lists or explanations.  \\n            - Keep responses conversational and human.  \\n            - If caller pauses 5 seconds, use `end_call()`.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### ROLE REMINDER\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            You are the first point of contact for Shifa Clinic.  \\n            Be warm. Be efficient. Be human.\\n\\n            Now handle the caller.\\n\\n\"}, {'role': 'assistant', 'content': 'Good evening, Abdul Basit! How can I assist you today?'}, {'role': 'user', 'content': 'I want to book an appointment for tomorrow morning.'}], 'model': 'gpt-4o-mini', 'stream': True, 'stream_options': {'include_usage': True}, 'temperature': 0.7, 'tools': [{'type': 'function', 'function': {'name': 'save_name', 'strict': True, 'description': '', 'parameters': {'properties': {'name': {'type': 'string'}}, 'required': ['name'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'save_phone', 'strict': True, 'description': 'Store validated patient phone in Redis using existing BookingBase validator.', 'parameters': {'properties': {'phone': {'type': 'string'}}, 'required': ['phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'available_slot', 'strict': True, 'description': 'Suggest available appointment slots for a given day.\\n- Understands natural language (\"tomorrow\", \"morning\", \"after 2pm\")\\n- Always fetches fresh availability from DB.\\n- Returns top 3 free slots.\\n- Stores them in ctx.suggested_slots for booking_appointment.', 'parameters': {'properties': {'day': {'type': 'string'}, 'date': {'type': 'string'}, 'time': {'type': 'string'}}, 'required': ['day', 'date', 'time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'booking_appointment', 'strict': True, 'description': 'Create or reschedule an appointment.\\nClean, predictable, AI-friendly logic.\\nUses helper functions for DB safety.', 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'get_date', 'strict': True, 'description': 'Return system date and time.', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'end_call', 'strict': True, 'description': \"Gracefully end the call after confirming there's nothing else needed.\\nDoes not clear Redis; short-term memory expires via TTL.\", 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'update_caller_profile', 'strict': True, 'description': 'Persist caller profile (name/phone) for future calls without disrupting session.\\nIf phone not provided, uses current session phone if available.', 'parameters': {'properties': {'name': {'type': ['string', 'null']}, 'phone': {'type': ['string', 'null']}}, 'required': ['name', 'phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'start_reschedule', 'strict': True, 'description': '', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'confirm_reschedule', 'strict': True, 'description': \"Confirm and perform rescheduling to the selected date/time.\\nUse after start_reschedule + available_slot when the caller says 'yes'.\", 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}]}}"}
{"timestamp": "2025-11-17T16:24:48.977555", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions"}
{"timestamp": "2025-11-17T16:24:48.978153", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=10.0 socket_options=None"}
{"timestamp": "2025-11-17T16:24:48.998626", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10ea8e150>"}
{"timestamp": "2025-11-17T16:24:48.998786", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x10e224050> server_hostname='api.openai.com' timeout=10.0"}
{"timestamp": "2025-11-17T16:24:49.011181", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396689.011007, 'idle_time': 0.049217250023502856, 'inference_duration_total': 0.034181335038738325, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:24:49.011438", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396689.011007, 'idle_time': 0.049217250023502856, 'inference_duration_total': 0.034181335038738325, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:24:49.023257", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x10d41a310>"}
{"timestamp": "2025-11-17T16:24:49.023592", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:24:49.024026", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-17T16:24:49.024111", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:24:49.024406", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-17T16:24:49.024465", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:24:50.018681", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 17 Nov 2025 16:24:50 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'526'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'681'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9998'), (b'x-ratelimit-remaining-tokens', b'198622'), (b'x-ratelimit-reset-requests', b'14.544s'), (b'x-ratelimit-reset-tokens', b'413ms'), (b'x-request-id', b'req_5c988ac3eab2488e9970c44c9fa640cc'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a00949b999fe8c7-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-17T16:24:50.020185", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/chat/completions \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-17T16:24:50.020422", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Mon, 17 Nov 2025 16:24:50 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '526', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '681', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9998', 'x-ratelimit-remaining-tokens': '198622', 'x-ratelimit-reset-requests': '14.544s', 'x-ratelimit-reset-tokens': '413ms', 'x-request-id': 'req_5c988ac3eab2488e9970c44c9fa640cc', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a00949b999fe8c7-KHI', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-17T16:24:50.020745", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_5c988ac3eab2488e9970c44c9fa640cc"}
{"timestamp": "2025-11-17T16:24:50.021288", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:24:50.062312", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396690.061783, 'idle_time': 1.0999969160184264, 'inference_duration_total': 0.04090783407445997, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:24:50.063350", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396690.061783, 'idle_time': 1.0999969160184264, 'inference_duration_total': 0.04090783407445997, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:24:50.772305", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream', 'X-Stainless-Raw-Response': 'stream'}, 'timeout': Timeout(connect=10.0, read=30, write=30, pool=30), 'files': None, 'idempotency_key': 'stainless-python-retry-7c011ad7-f2f8-471c-88ce-6396a85ad15c', 'json_data': {'input': 'Got it! Let me check available slots.', 'model': 'gpt-4o-mini-tts', 'voice': 'alloy', 'response_format': 'mp3', 'speed': 1.0}}"}
{"timestamp": "2025-11-17T16:24:50.774785", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/audio/speech"}
{"timestamp": "2025-11-17T16:24:50.775684", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:24:50.776246", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-17T16:24:50.776421", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:24:50.776809", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-17T16:24:50.776974", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:24:50.778148", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-17T16:24:50.778688", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-17T16:24:50.780309", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CcwK1kmy16ugoufZIOtJwHzrotpwH', 'timestamp': 1763396690.7798579, 'duration': 1.8134862909791991, 'ttft': 1.2055364999978337, 'cancelled': False, 'completion_tokens': 13, 'prompt_tokens': 1345, 'prompt_cached_tokens': 1024, 'total_tokens': 1358, 'tokens_per_second': 7.16851297121226, 'speech_id': 'speech_1f05dbf696f6', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:24:50.780687", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CcwK1kmy16ugoufZIOtJwHzrotpwH', 'timestamp': 1763396690.7798579, 'duration': 1.8134862909791991, 'ttft': 1.2055364999978337, 'cancelled': False, 'completion_tokens': 13, 'prompt_tokens': 1345, 'prompt_cached_tokens': 1024, 'total_tokens': 1358, 'tokens_per_second': 7.16851297121226, 'speech_id': 'speech_1f05dbf696f6', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:24:50.781654", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.failed exception=GeneratorExit()"}
{"timestamp": "2025-11-17T16:24:51.062938", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396691.06227, 'idle_time': 2.100486458017258, 'inference_duration_total': 0.03884062706492841, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:24:51.063671", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396691.06227, 'idle_time': 2.100486458017258, 'inference_duration_total': 0.03884062706492841, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:24:51.808628", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 17 Nov 2025 16:24:51 GMT'), (b'Content-Type', b'audio/mpeg'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'563'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'583'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9996'), (b'x-ratelimit-remaining-tokens', b'199991'), (b'x-ratelimit-reset-requests', b'29.148s'), (b'x-ratelimit-reset-tokens', b'2ms'), (b'x-request-id', b'req_322e6bb826db490190bb0c6a460b71af'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a0094a7de80a41c-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-17T16:24:51.809404", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/audio/speech \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-17T16:24:51.809653", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/audio/speech \"200 OK\" Headers({'date': 'Mon, 17 Nov 2025 16:24:51 GMT', 'content-type': 'audio/mpeg', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '563', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '583', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9996', 'x-ratelimit-remaining-tokens': '199991', 'x-ratelimit-reset-requests': '29.148s', 'x-ratelimit-reset-tokens': '2ms', 'x-request-id': 'req_322e6bb826db490190bb0c6a460b71af', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a0094a7de80a41c-KHI', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-17T16:24:51.810118", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_322e6bb826db490190bb0c6a460b71af"}
{"timestamp": "2025-11-17T16:24:51.810491", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:24:51.813200", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'f00de32b-7021-473f-84da-d4383b5786db', 'timestamp': 1763396691.8129852, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:24:51.813818", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'f00de32b-7021-473f-84da-d4383b5786db', 'timestamp': 1763396691.8129852, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:24:52.111896", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396692.111331, 'idle_time': 3.1495506660139654, 'inference_duration_total': 0.03603220701916143, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:24:52.112921", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396692.111331, 'idle_time': 3.1495506660139654, 'inference_duration_total': 0.03603220701916143, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:24:52.267133", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete"}
{"timestamp": "2025-11-17T16:24:52.267435", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-17T16:24:52.267663", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-17T16:24:52.277009", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_322e6bb826db490190bb0c6a460b71af', 'timestamp': 1763396692.2768, 'ttfb': 1.0871554169862065, 'duration': 1.50556766698719, 'audio_duration': 3.898000000000001, 'cancelled': False, 'characters_count': 37, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_1f05dbf696f6', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:24:52.277320", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_322e6bb826db490190bb0c6a460b71af', 'timestamp': 1763396692.2768, 'ttfb': 1.0871554169862065, 'duration': 1.50556766698719, 'audio_duration': 3.898000000000001, 'cancelled': False, 'characters_count': 37, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_1f05dbf696f6', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:24:52.277678", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream', 'X-Stainless-Raw-Response': 'stream'}, 'timeout': Timeout(connect=10.0, read=30, write=30, pool=30), 'files': None, 'idempotency_key': 'stainless-python-retry-508178cc-f15e-4af7-b9d5-c93953451914', 'json_data': {'input': 'One moment.', 'model': 'gpt-4o-mini-tts', 'voice': 'alloy', 'response_format': 'mp3', 'speed': 1.0}}"}
{"timestamp": "2025-11-17T16:24:52.278174", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/audio/speech"}
{"timestamp": "2025-11-17T16:24:52.279116", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:24:52.279409", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-17T16:24:52.279480", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:24:52.279644", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-17T16:24:52.279706", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:24:53.113681", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396693.113, 'idle_time': 4.1512225000187755, 'inference_duration_total': 0.03620141599094495, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:24:53.114499", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396693.113, 'idle_time': 4.1512225000187755, 'inference_duration_total': 0.03620141599094495, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:24:54.162897", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396694.1623611, 'idle_time': 5.200586541002849, 'inference_duration_total': 0.032008291920647025, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:24:54.163824", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396694.1623611, 'idle_time': 5.200586541002849, 'inference_duration_total': 0.032008291920647025, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:24:55.163157", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396695.162503, 'idle_time': 6.200730875018053, 'inference_duration_total': 0.037705538008594885, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:24:55.163936", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396695.162503, 'idle_time': 6.200730875018053, 'inference_duration_total': 0.037705538008594885, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:24:56.209927", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396696.2096472, 'idle_time': 7.247877500019968, 'inference_duration_total': 0.027368956041755155, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:24:56.210466", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396696.2096472, 'idle_time': 7.247877500019968, 'inference_duration_total': 0.027368956041755155, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:24:56.859319", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'f00de32b-7021-473f-84da-d4383b5786db', 'timestamp': 1763396696.8588119, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:24:56.860041", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'f00de32b-7021-473f-84da-d4383b5786db', 'timestamp': 1763396696.8588119, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:24:57.213533", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396697.212905, 'idle_time': 8.251138040999649, 'inference_duration_total': 0.02820562696433626, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:24:57.214965", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396697.212905, 'idle_time': 8.251138040999649, 'inference_duration_total': 0.02820562696433626, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:24:58.262787", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396698.2622359, 'idle_time': 9.300472458009608, 'inference_duration_total': 0.029457167023792863, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:24:58.263548", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396698.2622359, 'idle_time': 9.300472458009608, 'inference_duration_total': 0.029457167023792863, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:24:59.147801", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 17 Nov 2025 16:24:59 GMT'), (b'Content-Type', b'audio/mpeg'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'359'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'381'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9995'), (b'x-ratelimit-remaining-tokens', b'199998'), (b'x-ratelimit-reset-requests', b'36.499s'), (b'x-ratelimit-reset-tokens', b'0s'), (b'x-request-id', b'req_7c4bff7b178d43bc969b5e4754ccba72'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a0094afdc2aa41c-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-17T16:24:59.149098", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/audio/speech \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-17T16:24:59.149487", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/audio/speech \"200 OK\" Headers({'date': 'Mon, 17 Nov 2025 16:24:59 GMT', 'content-type': 'audio/mpeg', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '359', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '381', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9995', 'x-ratelimit-remaining-tokens': '199998', 'x-ratelimit-reset-requests': '36.499s', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_7c4bff7b178d43bc969b5e4754ccba72', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a0094afdc2aa41c-KHI', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-17T16:24:59.149882", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_7c4bff7b178d43bc969b5e4754ccba72"}
{"timestamp": "2025-11-17T16:24:59.150420", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:24:59.261746", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396699.261455, 'idle_time': 10.299694415996782, 'inference_duration_total': 0.03523117193253711, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:24:59.262226", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396699.261455, 'idle_time': 10.299694415996782, 'inference_duration_total': 0.03523117193253711, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:24:59.399730", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete"}
{"timestamp": "2025-11-17T16:24:59.400186", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-17T16:24:59.400522", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-17T16:24:59.406970", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_7c4bff7b178d43bc969b5e4754ccba72', 'timestamp': 1763396699.4066749, 'ttfb': 7.125825167022413, 'duration': 7.129303042020183, 'audio_duration': 0.7540000000000001, 'cancelled': False, 'characters_count': 11, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_1f05dbf696f6', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:24:59.407360", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_7c4bff7b178d43bc969b5e4754ccba72', 'timestamp': 1763396699.4066749, 'ttfb': 7.125825167022413, 'duration': 7.129303042020183, 'audio_duration': 0.7540000000000001, 'cancelled': False, 'characters_count': 11, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_1f05dbf696f6', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:25:00.310970", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396700.310685, 'idle_time': 11.348927333019674, 'inference_duration_total': 0.02395524494932033, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:25:00.311470", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396700.310685, 'idle_time': 11.348927333019674, 'inference_duration_total': 0.02395524494932033, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:25:01.310665", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396701.3103309, 'idle_time': 12.348575541022, 'inference_duration_total': 0.0210454570769798, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:25:01.311103", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396701.3103309, 'idle_time': 12.348575541022, 'inference_duration_total': 0.0210454570769798, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:25:01.864029", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'f00de32b-7021-473f-84da-d4383b5786db', 'timestamp': 1763396701.863534, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:25:01.864906", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'f00de32b-7021-473f-84da-d4383b5786db', 'timestamp': 1763396701.863534, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:25:02.361512", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396702.3609989, 'idle_time': 13.399247082998045, 'inference_duration_total': 0.019948461034800857, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:25:02.362377", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396702.3609989, 'idle_time': 13.399247082998045, 'inference_duration_total': 0.019948461034800857, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:25:03.364157", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396703.363401, 'idle_time': 14.401651166001102, 'inference_duration_total': 0.04182379299891181, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:25:03.365164", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396703.363401, 'idle_time': 14.401651166001102, 'inference_duration_total': 0.04182379299891181, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:25:04.361365", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396704.361134, 'idle_time': 15.399387375015067, 'inference_duration_total': 0.02830904404981993, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:25:04.361776", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396704.361134, 'idle_time': 15.399387375015067, 'inference_duration_total': 0.02830904404981993, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:25:05.413347", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396705.41277, 'idle_time': 16.451025832997402, 'inference_duration_total': 0.02289287294843234, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:25:05.414828", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396705.41277, 'idle_time': 16.451025832997402, 'inference_duration_total': 0.02289287294843234, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:25:06.411379", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396706.411068, 'idle_time': 17.44932704101666, 'inference_duration_total': 0.017154705885332078, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:25:06.411880", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396706.411068, 'idle_time': 17.44932704101666, 'inference_duration_total': 0.017154705885332078, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:25:06.924075", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'f00de32b-7021-473f-84da-d4383b5786db', 'timestamp': 1763396706.923729, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:25:06.925300", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'f00de32b-7021-473f-84da-d4383b5786db', 'timestamp': 1763396706.923729, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:25:07.460902", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396707.460479, 'idle_time': 18.498740583017934, 'inference_duration_total': 0.021584706963039935, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:25:07.461407", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396707.460479, 'idle_time': 18.498740583017934, 'inference_duration_total': 0.021584706963039935, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:25:08.462653", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396708.4621189, 'idle_time': 19.500384000013582, 'inference_duration_total': 0.0263675429741852, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:25:08.463656", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396708.4621189, 'idle_time': 19.500384000013582, 'inference_duration_total': 0.0263675429741852, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:25:09.510276", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396709.5095959, 'idle_time': 20.547863750020042, 'inference_duration_total': 0.034032370924251154, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:25:09.512057", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396709.5095959, 'idle_time': 20.547863750020042, 'inference_duration_total': 0.034032370924251154, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:25:10.511494", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396710.51114, 'idle_time': 21.549410250008805, 'inference_duration_total': 0.03232954497798346, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:25:10.512025", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396710.51114, 'idle_time': 21.549410250008805, 'inference_duration_total': 0.03232954497798346, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:25:11.563311", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396711.56264, 'idle_time': 22.60091295800521, 'inference_duration_total': 0.04246216590399854, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:25:11.564325", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396711.56264, 'idle_time': 22.60091295800521, 'inference_duration_total': 0.04246216590399854, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:25:11.961803", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'f00de32b-7021-473f-84da-d4383b5786db', 'timestamp': 1763396711.961283, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:25:11.962888", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'f00de32b-7021-473f-84da-d4383b5786db', 'timestamp': 1763396711.961283, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:25:12.564182", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396712.563321, 'idle_time': 23.601596749998862, 'inference_duration_total': 0.04018021092633717, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:25:12.565009", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396712.563321, 'idle_time': 23.601596749998862, 'inference_duration_total': 0.04018021092633717, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:25:13.613814", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396713.613253, 'idle_time': 24.651532165997196, 'inference_duration_total': 0.036243416980141774, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:25:13.614659", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396713.613253, 'idle_time': 24.651532165997196, 'inference_duration_total': 0.036243416980141774, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:25:14.611432", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396714.611138, 'idle_time': 25.649419082998065, 'inference_duration_total': 0.03200216815457679, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:25:14.611978", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396714.611138, 'idle_time': 25.649419082998065, 'inference_duration_total': 0.03200216815457679, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:25:15.660379", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396715.660126, 'idle_time': 26.698410125012742, 'inference_duration_total': 0.03388053987873718, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:25:15.660735", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396715.660126, 'idle_time': 26.698410125012742, 'inference_duration_total': 0.03388053987873718, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:25:16.663207", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396716.662594, 'idle_time': 27.700880875025177, 'inference_duration_total': 0.031370622920803726, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:25:16.664563", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396716.662594, 'idle_time': 27.700880875025177, 'inference_duration_total': 0.031370622920803726, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:25:17.010476", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'f00de32b-7021-473f-84da-d4383b5786db', 'timestamp': 1763396717.010151, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:25:17.011178", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'f00de32b-7021-473f-84da-d4383b5786db', 'timestamp': 1763396717.010151, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:25:17.710559", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396717.71035, 'idle_time': 28.748640125006204, 'inference_duration_total': 0.03243870704318397, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:25:17.710914", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396717.71035, 'idle_time': 28.748640125006204, 'inference_duration_total': 0.03243870704318397, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:25:18.712719", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396718.712099, 'idle_time': 29.75039216602454, 'inference_duration_total': 0.02551183514879085, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:25:18.713541", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396718.712099, 'idle_time': 29.75039216602454, 'inference_duration_total': 0.02551183514879085, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:25:19.763954", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396719.763121, 'idle_time': 30.801416916016024, 'inference_duration_total': 0.0454244599386584, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:25:19.765087", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396719.763121, 'idle_time': 30.801416916016024, 'inference_duration_total': 0.0454244599386584, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:25:20.761971", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396720.761549, 'idle_time': 31.799847791000502, 'inference_duration_total': 0.0333231670956593, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:25:20.762532", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396720.761549, 'idle_time': 31.799847791000502, 'inference_duration_total': 0.0333231670956593, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:25:21.811108", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396721.810709, 'idle_time': 32.849010458012344, 'inference_duration_total': 0.034732832020381466, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:25:21.811745", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396721.810709, 'idle_time': 32.849010458012344, 'inference_duration_total': 0.034732832020381466, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:25:22.011301", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'f00de32b-7021-473f-84da-d4383b5786db', 'timestamp': 1763396722.0107882, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:25:22.012237", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'f00de32b-7021-473f-84da-d4383b5786db', 'timestamp': 1763396722.0107882, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:25:22.810499", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396722.810248, 'idle_time': 33.84855270801927, 'inference_duration_total': 0.035411747958278283, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:25:22.812210", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763396722.810248, 'idle_time': 33.84855270801927, 'inference_duration_total': 0.035411747958278283, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:25:23.614016", "level": "INFO", "logger": "livekit.agents", "message": "closing agent session due to participant disconnect (disable via `RoomInputOptions.close_on_disconnect=False`)"}
{"timestamp": "2025-11-17T16:25:23.615004", "level": "INFO", "logger": "livekit.agents", "message": "closing agent session due to participant disconnect (disable via `RoomInputOptions.close_on_disconnect=False`)"}
{"timestamp": "2025-11-17T16:25:23.615122", "level": "DEBUG", "logger": "livekit.agents", "message": "stream closed"}
{"timestamp": "2025-11-17T16:25:23.616802", "level": "DEBUG", "logger": "livekit.agents", "message": "input stream detached"}
{"timestamp": "2025-11-17T16:25:25.623839", "level": "DEBUG", "logger": "livekit.agents", "message": "session closed"}
{"timestamp": "2025-11-17T16:25:48.360336", "level": "DEBUG", "logger": "livekit.agents", "message": "shutting down job task"}
{"timestamp": "2025-11-17T16:25:48.364164", "level": "INFO", "logger": "livekit.agents", "message": "process exiting"}
{"timestamp": "2025-11-17T16:25:48.366639", "level": "DEBUG", "logger": "livekit.agents", "message": "http_session(): closing the httpclient ctx"}
{"timestamp": "2025-11-17T16:31:07.676200", "level": "INFO", "logger": "livekit.agents", "message": "received job request"}
{"timestamp": "2025-11-17T16:31:07.902485", "level": "INFO", "logger": "livekit", "message": "livekit_ffi::server:139:livekit_ffi::server - initializing ffi server v0.12.39"}
{"timestamp": "2025-11-17T16:31:07.905623", "level": "INFO", "logger": "livekit", "message": "livekit_ffi::cabi:50:livekit_ffi::cabi - initializing ffi server v0.12.39"}
{"timestamp": "2025-11-17T16:31:07.932311", "level": "INFO", "logger": "livekit", "message": "livekit_api::signal_client::signal_stream:92:livekit_api::signal_client::signal_stream - connecting to wss://testing-mwtbjpwy.livekit.cloud/rtc?sdk=python&protocol=16&auto_subscribe=1&adaptive_stream=0&version=1.0.18"}
{"timestamp": "2025-11-17T16:31:08.424507", "level": "DEBUG", "logger": "livekit", "message": "rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 153 valid and 0 invalid certs"}
{"timestamp": "2025-11-17T16:31:08.424693", "level": "DEBUG", "logger": "livekit", "message": "tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 153/153 native root certificates (ignored 0)"}
{"timestamp": "2025-11-17T16:31:08.424793", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::hs:73:rustls::client::hs - No cached session for DnsName(\"testing-mwtbjpwy.livekit.cloud\")"}
{"timestamp": "2025-11-17T16:31:08.424941", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::hs:132:rustls::client::hs - Not resuming any session"}
{"timestamp": "2025-11-17T16:31:08.594272", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256"}
{"timestamp": "2025-11-17T16:31:08.594535", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::tls13:142:rustls::client::tls13 - Not resuming"}
{"timestamp": "2025-11-17T16:31:08.594812", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []"}
{"timestamp": "2025-11-17T16:31:08.595201", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::hs:472:rustls::client::hs - ALPN protocol is None"}
{"timestamp": "2025-11-17T16:31:09.341769", "level": "DEBUG", "logger": "livekit", "message": "tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done."}
{"timestamp": "2025-11-17T16:31:09.985378", "level": "INFO", "logger": "livekit.agents", "message": "initializing process"}
{"timestamp": "2025-11-17T16:31:11.726487", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-17T16:31:11.726609", "level": "INFO", "logger": "livekit.agents", "message": "process initialized"}
{"timestamp": "2025-11-17T16:31:12.801547", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udd0c Redis Connected: True"}
{"timestamp": "2025-11-17T16:31:12.802022", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udd0c Redis Connected: True"}
{"timestamp": "2025-11-17T16:31:12.802298", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Incoming call from: sip_+17194515279"}
{"timestamp": "2025-11-17T16:31:12.802926", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Caller Phone Detected (normalized): 17194515279"}
{"timestamp": "2025-11-17T16:31:12.803013", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Incoming call from: sip_+17194515279"}
{"timestamp": "2025-11-17T16:31:12.803362", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Caller Phone Detected (normalized): 17194515279"}
{"timestamp": "2025-11-17T16:31:12.807001", "level": "INFO", "logger": "telephony-agent", "message": "[Memory] \ud83e\udde0 Preloaded name from profile: Abdul Basit"}
{"timestamp": "2025-11-17T16:31:12.807552", "level": "INFO", "logger": "telephony-agent", "message": "[Memory] \ud83c\udd95 New SessionContext: BookingContext(name='Abdul Basit', phone='17194515279', date=None, time=None, suggested_slots=None, stage='start', status='Pending', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, created_at='2025-11-17T16:31:12.803051')"}
{"timestamp": "2025-11-17T16:31:12.807637", "level": "INFO", "logger": "telephony-agent", "message": "[Memory] \ud83e\udde0 Preloaded name from profile: Abdul Basit"}
{"timestamp": "2025-11-17T16:31:12.808905", "level": "INFO", "logger": "telephony-agent", "message": "[Memory] \ud83c\udd95 New SessionContext: BookingContext(name='Abdul Basit', phone='17194515279', date=None, time=None, suggested_slots=None, stage='start', status='Pending', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, created_at='2025-11-17T16:31:12.803051')"}
{"timestamp": "2025-11-17T16:31:13.039263", "level": "DEBUG", "logger": "livekit.agents", "message": "input stream attached"}
{"timestamp": "2025-11-17T16:31:13.044132", "level": "DEBUG", "logger": "livekit.agents", "message": "http_session(): creating a new httpclient ctx"}
{"timestamp": "2025-11-17T16:31:13.052590", "level": "DEBUG", "logger": "livekit.agents", "message": "start reading stream"}
{"timestamp": "2025-11-17T16:31:13.055014", "level": "DEBUG", "logger": "livekit.agents", "message": "using audio io: `RoomIO` -> `AgentSession` -> `TranscriptSynchronizer` -> `RoomIO`"}
{"timestamp": "2025-11-17T16:31:13.055188", "level": "DEBUG", "logger": "livekit.agents", "message": "using transcript io: `AgentSession` -> `TranscriptSynchronizer` -> `RoomIO`"}
{"timestamp": "2025-11-17T16:31:13.182083", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'get', 'url': '/'}"}
{"timestamp": "2025-11-17T16:31:13.182634", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: GET https://api.openai.com/v1/"}
{"timestamp": "2025-11-17T16:31:13.186445", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'timeout': Timeout(timeout=10.0), 'files': None, 'idempotency_key': 'stainless-python-retry-4d47ca3f-994d-4daa-8c54-f20b4d461cad', 'json_data': {'messages': [{'role': 'system', 'content': \"\\n        You are **Shifa Clinic\u2019s AI Receptionist**, answering calls in real time.\\n            Your role is to help callers with booking, confirming, or rescheduling appointments.\\n            Speak naturally, briefly, and professionally\u2014like an experienced clinic receptionist.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CORE BEHAVIOR\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            1. **Every call is fresh.**  \\n            Do not rely on previous session context. Use only:\\n            - caller name (if known)\\n            - caller phone (if known)\\n            - information spoken in THIS call\\n            \\n\\n            2. **One task at a time.**  \\n            Every reply must:\\n            - confirm the last thing the caller said\\n            - take one small step forward (ask ONE question)\\n            - be under **8 words**\\n                Always respond in under 8 words. Prioritize immediate tool calls. Do not speak long sentences.\\n\\n            3. **Never expose internal logic.**  \\n            Never say:\\n            - \u201ccalling a tool\u2026\u201d\\n            - \u201csaving memory\u2026\u201d\\n            - \u201cI detected your name\u2026\u201d\\n            - \u201cupdating the appointment\u2026\u201d\\n\\n            4. **Always stay polite, warm, and concise.**\\n            Examples:\\n            - \u201cSure, one moment.\u201d\\n            - \u201cGot it.\u201d\\n            - \u201cLet me check that.\u201d\\n\\n            5. **If caller seems confused, repeat slowly and simply.**\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### TOOL CALLING RULES\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            Use tools to perform actions.  \\n            After calling a tool, speak a short natural confirmation.\\n\\n            **Tools you may call:**\\n            - `save_name(name)`\\n            - `save_phone(phone)`\\n            - `available_slot()`\\n            - `booking_appointment()`\\n            - `get_date()`\\n            - `update_caller_profile(name?, phone?)`\\n            - `start_reschedule()`\\n            - `confirm_reschedule()`\\n            - `end_call()`\\n\\n            Tool usage guidelines:\\n            - Call **save_name** immediately when you hear a name.\\n            - Call **save_phone** when digits are spoken.  \\n            If partial, ask: \u201cCan you repeat that number slowly?\u201d\\n            - Call **available_slot** when caller expresses a time preference (morning, evening, 3pm, etc.)\\n            - Call **get_date** when caller gives a vague date (\u201cnext Monday\u201d).\\n            - Call **booking_appointment** only when BOTH date and time are known.\\n            - Call **update_caller_profile** if caller corrects name or phone.\\n            - After a booking or reschedule completes, ask:  \\n            \u201cAnything else I can help with?\u201d  \\n            If caller says \u201cno\u201d, use `end_call()`.\\n            If the phone number is unclear or has extra/missing digits, ask the caller to repeat it digit by digit.\\n                Do not guess phone numbers.\\n                Always confirm the final number by repeating it back.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESCHEDULE FLOW\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            When the caller says anything like \u201cchange\u201d, \u201cmove\u201d, \u201creschedule\u201d, \u201cshift\u201d:\\n            1. Call **start_reschedule**.\\n            2. Ask for the new date.\\n            3. Once date \u2192 ask for time.\\n            4. When BOTH are known \u2192 call **confirm_reschedule**.\\n            5. After confirmation \u2192 ask:  \\n            \u201cAnything else I can help with?\u201d\\n\\n            Never call `confirm_reschedule` early.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CONVERSATION STYLE\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Speak like a calm clinic receptionist.\\n            - Use short sentences.  \\n            - One question per turn.  \\n            - No filler like \u201cas an AI\u201d.  \\n            - No medical advice.  \\n            - Don't ask for information you already have.\\n\\n            **Good examples:**\\n            - \u201cSure. What day works for you?\u201d\\n            - \u201cGot it. And what time?\u201d\\n            - \u201cPerfect. One moment while I check.\u201d\\n\\n            **Bad examples:**\\n            - \u201cLet me call a tool.\u201d\\n            - \u201cProcessing your request.\u201d\\n            - \u201cI am updating your appointment in the database.\u201d\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESPONSE CONTROL\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Never output long paragraphs.  \\n            - Never output lists or explanations.  \\n            - Keep responses conversational and human.  \\n            - If caller pauses 5 seconds, use `end_call()`.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### ROLE REMINDER\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            You are the first point of contact for Shifa Clinic.  \\n            Be warm. Be efficient. Be human.\\n\\n            Now handle the caller.\\n\\n\\nGood evening! Hi Abdul Basit, how can I help you today?\"}], 'model': 'gpt-4o-mini', 'stream': True, 'stream_options': {'include_usage': True}, 'temperature': 0.7, 'tools': [{'type': 'function', 'function': {'name': 'save_name', 'strict': True, 'description': '', 'parameters': {'properties': {'name': {'type': 'string'}}, 'required': ['name'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'save_phone', 'strict': True, 'description': 'Store validated patient phone in Redis using existing BookingBase validator.', 'parameters': {'properties': {'phone': {'type': 'string'}}, 'required': ['phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'available_slot', 'strict': True, 'description': 'Suggest available appointment slots for a given day.\\n- Understands natural language (\"tomorrow\", \"morning\", \"after 2pm\")\\n- Always fetches fresh availability from DB.\\n- Returns top 3 free slots.\\n- Stores them in ctx.suggested_slots for booking_appointment.', 'parameters': {'properties': {'day': {'type': 'string'}, 'date': {'type': 'string'}, 'time': {'type': 'string'}}, 'required': ['day', 'date', 'time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'booking_appointment', 'strict': True, 'description': 'Create or reschedule an appointment.\\nClean, predictable, AI-friendly logic.\\nUses helper functions for DB safety.', 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'get_date', 'strict': True, 'description': 'Return system date and time.', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'end_call', 'strict': True, 'description': \"Gracefully end the call after confirming there's nothing else needed.\\nDoes not clear Redis; short-term memory expires via TTL.\", 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'update_caller_profile', 'strict': True, 'description': 'Persist caller profile (name/phone) for future calls without disrupting session.\\nIf phone not provided, uses current session phone if available.', 'parameters': {'properties': {'name': {'type': ['string', 'null']}, 'phone': {'type': ['string', 'null']}}, 'required': ['name', 'phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'start_reschedule', 'strict': True, 'description': '', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'confirm_reschedule', 'strict': True, 'description': \"Confirm and perform rescheduling to the selected date/time.\\nUse after start_reschedule + available_slot when the caller says 'yes'.\", 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}]}}"}
{"timestamp": "2025-11-17T16:31:13.187623", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions"}
{"timestamp": "2025-11-17T16:31:13.187976", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=15.0 socket_options=None"}
{"timestamp": "2025-11-17T16:31:13.188240", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=10.0 socket_options=None"}
{"timestamp": "2025-11-17T16:31:13.230298", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x123c7ea90>"}
{"timestamp": "2025-11-17T16:31:13.230460", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x123424050> server_hostname='api.openai.com' timeout=10.0"}
{"timestamp": "2025-11-17T16:31:13.250061", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x123488590>"}
{"timestamp": "2025-11-17T16:31:13.250437", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:31:13.250923", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-17T16:31:13.251174", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:31:13.251527", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-17T16:31:13.251607", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:31:13.349667", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x123c18850>"}
{"timestamp": "2025-11-17T16:31:13.349806", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x1234240e0> server_hostname='api.openai.com' timeout=15.0"}
{"timestamp": "2025-11-17T16:31:13.988862", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x12348ad90>"}
{"timestamp": "2025-11-17T16:31:13.989424", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'GET']>"}
{"timestamp": "2025-11-17T16:31:13.989979", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-17T16:31:13.990107", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'GET']>"}
{"timestamp": "2025-11-17T16:31:13.990356", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-17T16:31:13.990502", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'GET']>"}
{"timestamp": "2025-11-17T16:31:14.085908", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397074.084929, 'idle_time': 1.0338526659761555, 'inference_duration_total': 0.029382919950876385, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:14.086392", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397074.084929, 'idle_time': 1.0338526659761555, 'inference_duration_total': 0.029382919950876385, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:14.142031", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 17 Nov 2025 16:31:14 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'385'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'567'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'198636'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'409ms'), (b'x-request-id', b'req_8e40bed15e72497b9499ce766bcf1f6a'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=CoVo6aBcSEXmheYgXgfKDAaylxYIDG7oA3itW9MRBdQ-1763397074-1.0.1.1-Wdt0xW8R3kVokos0EqBJWKGbiGBtGhW0KJCcCZGW2CEiAqjbzzRqWziKjEsxRDhdNXatrqyJxuh7ZYstgDzX.ta.r5b4bhCEU5dPMgr.lTA; path=/; expires=Mon, 17-Nov-25 17:01:14 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=zy3SbhtDeZQf882DWOzj6mrtVasfg18IK44I70oCpZ4-1763397074259-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a009dfcad719083-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-17T16:31:14.143466", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/chat/completions \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-17T16:31:14.143665", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers([('date', 'Mon, 17 Nov 2025 16:31:14 GMT'), ('content-type', 'text/event-stream; charset=utf-8'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'user-hef6qdiz1bsjendvhiay1uww'), ('openai-processing-ms', '385'), ('openai-project', 'proj_fFIktXLPrLlENFXwWG5Of7EI'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '567'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '200000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '198636'), ('x-ratelimit-reset-requests', '8.64s'), ('x-ratelimit-reset-tokens', '409ms'), ('x-request-id', 'req_8e40bed15e72497b9499ce766bcf1f6a'), ('x-openai-proxy-wasm', 'v0.1'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=CoVo6aBcSEXmheYgXgfKDAaylxYIDG7oA3itW9MRBdQ-1763397074-1.0.1.1-Wdt0xW8R3kVokos0EqBJWKGbiGBtGhW0KJCcCZGW2CEiAqjbzzRqWziKjEsxRDhdNXatrqyJxuh7ZYstgDzX.ta.r5b4bhCEU5dPMgr.lTA; path=/; expires=Mon, 17-Nov-25 17:01:14 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=zy3SbhtDeZQf882DWOzj6mrtVasfg18IK44I70oCpZ4-1763397074259-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '9a009dfcad719083-KHI'), ('alt-svc', 'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-17T16:31:14.144031", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_8e40bed15e72497b9499ce766bcf1f6a"}
{"timestamp": "2025-11-17T16:31:14.144336", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:31:14.239372", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream', 'X-Stainless-Raw-Response': 'stream'}, 'timeout': Timeout(connect=10.0, read=30, write=30, pool=30), 'files': None, 'idempotency_key': 'stainless-python-retry-e6bd5ca5-0f4b-46b0-b746-81e6594c8905', 'json_data': {'input': 'Good evening, Abdul Basit!', 'model': 'gpt-4o-mini-tts', 'voice': 'alloy', 'response_format': 'mp3', 'speed': 1.0}}"}
{"timestamp": "2025-11-17T16:31:14.239991", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/audio/speech"}
{"timestamp": "2025-11-17T16:31:14.240423", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=10.0 socket_options=None"}
{"timestamp": "2025-11-17T16:31:14.370967", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-17T16:31:14.372203", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-17T16:31:14.376417", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CcwQDPsjJE07RNYYVQSNRLYROdDNb', 'timestamp': 1763397074.373296, 'duration': 1.3132772500102874, 'ttft': 1.0902439579949714, 'cancelled': False, 'completion_tokens': 15, 'prompt_tokens': 1328, 'prompt_cached_tokens': 1280, 'total_tokens': 1343, 'tokens_per_second': 11.421807542834157, 'speech_id': 'speech_ccf282fd8170', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:31:14.376875", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x123c09fd0>"}
{"timestamp": "2025-11-17T16:31:14.377235", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CcwQDPsjJE07RNYYVQSNRLYROdDNb', 'timestamp': 1763397074.373296, 'duration': 1.3132772500102874, 'ttft': 1.0902439579949714, 'cancelled': False, 'completion_tokens': 15, 'prompt_tokens': 1328, 'prompt_cached_tokens': 1280, 'total_tokens': 1343, 'tokens_per_second': 11.421807542834157, 'speech_id': 'speech_ccf282fd8170', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:31:14.377673", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x1234240e0> server_hostname='api.openai.com' timeout=10.0"}
{"timestamp": "2025-11-17T16:31:14.380231", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.failed exception=GeneratorExit()"}
{"timestamp": "2025-11-17T16:31:14.525444", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'Date', b'Mon, 17 Nov 2025 16:31:14 GMT'), (b'Content-Type', b'text/html'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=vGnFtjB7Zoj1bilXttoRgYXhOziyTJU3dls0clf1NS0-1763397074-1.0.1.1-0GcyPQVyBZSt7ZTHS12s8eQUEoLyIf9P_XbNDJLh4RHfYcLOuO2JRXSKdalCiYN9BCc_WI2YXMfpaxQP430X4hgNfnjEF4RvF9rwMp5Sy9Y; path=/; expires=Mon, 17-Nov-25 17:01:14 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=lU5ewj8w0xKFYTgVgx6m_jH0Tl2e.AADWij5DtR0WCs-1763397074409-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a009e01ce06097c-HKG'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-17T16:31:14.527164", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET https://api.openai.com/v1/ \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-11-17T16:31:14.527530", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'GET']>"}
{"timestamp": "2025-11-17T16:31:14.528309", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete"}
{"timestamp": "2025-11-17T16:31:14.528556", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-17T16:31:14.528800", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-17T16:31:14.529260", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: GET https://api.openai.com/v1/ \"404 Not Found\" Headers([('date', 'Mon, 17 Nov 2025 16:31:14 GMT'), ('content-type', 'text/html'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=vGnFtjB7Zoj1bilXttoRgYXhOziyTJU3dls0clf1NS0-1763397074-1.0.1.1-0GcyPQVyBZSt7ZTHS12s8eQUEoLyIf9P_XbNDJLh4RHfYcLOuO2JRXSKdalCiYN9BCc_WI2YXMfpaxQP430X4hgNfnjEF4RvF9rwMp5Sy9Y; path=/; expires=Mon, 17-Nov-25 17:01:14 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=lU5ewj8w0xKFYTgVgx6m_jH0Tl2e.AADWij5DtR0WCs-1763397074409-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '9a009e01ce06097c-HKG'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-17T16:31:14.529656", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: None"}
{"timestamp": "2025-11-17T16:31:14.529848", "level": "DEBUG", "logger": "openai._base_client", "message": "Encountered httpx.HTTPStatusError", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/openai/_base_client.py\", line 1574, in request\n    response.raise_for_status()\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/httpx/_models.py\", line 829, in raise_for_status\n    raise HTTPStatusError(message, request=request, response=self)\nhttpx.HTTPStatusError: Client error '404 Not Found' for url 'https://api.openai.com/v1/'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404"}
{"timestamp": "2025-11-17T16:31:14.535820", "level": "DEBUG", "logger": "openai._base_client", "message": "Re-raising status error"}
{"timestamp": "2025-11-17T16:31:15.086737", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397075.0860522, 'idle_time': 2.03497174999211, 'inference_duration_total': 0.024930915067670867, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:15.087538", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397075.0860522, 'idle_time': 2.03497174999211, 'inference_duration_total': 0.024930915067670867, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:15.432343", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x12103f290>"}
{"timestamp": "2025-11-17T16:31:15.433323", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:31:15.434215", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-17T16:31:15.434382", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:31:15.434949", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-17T16:31:15.435097", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:31:16.136786", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397076.1361542, 'idle_time': 3.085069124994334, 'inference_duration_total': 0.03267554298508912, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:16.137566", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397076.1361542, 'idle_time': 3.085069124994334, 'inference_duration_total': 0.03267554298508912, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:16.447095", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 17 Nov 2025 16:31:16 GMT'), (b'Content-Type', b'audio/mpeg'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'642'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'665'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9998'), (b'x-ratelimit-remaining-tokens', b'199994'), (b'x-ratelimit-reset-requests', b'15.209s'), (b'x-ratelimit-reset-tokens', b'1ms'), (b'x-request-id', b'req_64b942c672d8493fa95950c49f83a791'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=iasOw_uuR6SCwVJhD1UO2j1y1PgMnkD7Vah5w9Ge_d4-1763397076-1.0.1.1-ez1rg3_vMlIxSZaf3ComkDGeaWiHIumyk6nzd3immzP0P3MLGOu0iEoXuVHKCB.aiHoBozD7Jv_OjdMnGJFQ0ScqsLfCgWhgaen4n_bC10Y; path=/; expires=Mon, 17-Nov-25 17:01:16 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=W0bLzQbN5utjVTTpJkA9zF_KufWaLJs0AxFm4uj49zI-1763397076508-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a009e0aafb820ff-HKG'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-17T16:31:16.448699", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/audio/speech \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-17T16:31:16.448941", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/audio/speech \"200 OK\" Headers([('date', 'Mon, 17 Nov 2025 16:31:16 GMT'), ('content-type', 'audio/mpeg'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'user-hef6qdiz1bsjendvhiay1uww'), ('openai-processing-ms', '642'), ('openai-project', 'proj_fFIktXLPrLlENFXwWG5Of7EI'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '665'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '200000'), ('x-ratelimit-remaining-requests', '9998'), ('x-ratelimit-remaining-tokens', '199994'), ('x-ratelimit-reset-requests', '15.209s'), ('x-ratelimit-reset-tokens', '1ms'), ('x-request-id', 'req_64b942c672d8493fa95950c49f83a791'), ('x-openai-proxy-wasm', 'v0.1'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=iasOw_uuR6SCwVJhD1UO2j1y1PgMnkD7Vah5w9Ge_d4-1763397076-1.0.1.1-ez1rg3_vMlIxSZaf3ComkDGeaWiHIumyk6nzd3immzP0P3MLGOu0iEoXuVHKCB.aiHoBozD7Jv_OjdMnGJFQ0ScqsLfCgWhgaen4n_bC10Y; path=/; expires=Mon, 17-Nov-25 17:01:16 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=W0bLzQbN5utjVTTpJkA9zF_KufWaLJs0AxFm4uj49zI-1763397076508-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '9a009e0aafb820ff-HKG'), ('alt-svc', 'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-17T16:31:16.449267", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_64b942c672d8493fa95950c49f83a791"}
{"timestamp": "2025-11-17T16:31:16.449913", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:31:17.135446", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397077.135086, 'idle_time': 4.083997957990505, 'inference_duration_total': 0.021149540087208152, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:17.135977", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397077.135086, 'idle_time': 4.083997957990505, 'inference_duration_total': 0.021149540087208152, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:17.391397", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete"}
{"timestamp": "2025-11-17T16:31:17.392004", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-17T16:31:17.392353", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-17T16:31:17.400593", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_64b942c672d8493fa95950c49f83a791', 'timestamp': 1763397077.3999958, 'ttfb': 2.3374872079875786, 'duration': 3.1616323750058655, 'audio_duration': 1.8339999999999999, 'cancelled': False, 'characters_count': 26, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_ccf282fd8170', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:31:17.401098", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_64b942c672d8493fa95950c49f83a791', 'timestamp': 1763397077.3999958, 'ttfb': 2.3374872079875786, 'duration': 3.1616323750058655, 'audio_duration': 1.8339999999999999, 'cancelled': False, 'characters_count': 26, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_ccf282fd8170', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:31:17.402118", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream', 'X-Stainless-Raw-Response': 'stream'}, 'timeout': Timeout(connect=10.0, read=30, write=30, pool=30), 'files': None, 'idempotency_key': 'stainless-python-retry-18f5fd70-4003-4fee-adab-dab4ac72f4c8', 'json_data': {'input': 'How can I assist you today?', 'model': 'gpt-4o-mini-tts', 'voice': 'alloy', 'response_format': 'mp3', 'speed': 1.0}}"}
{"timestamp": "2025-11-17T16:31:17.402868", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/audio/speech"}
{"timestamp": "2025-11-17T16:31:17.403410", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:31:17.403862", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-17T16:31:17.403993", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:31:17.404251", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-17T16:31:17.404347", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:31:18.086634", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'da8f26ba-a63e-4eb8-9d71-0a4263e435b8', 'timestamp': 1763397078.0851579, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:31:18.087678", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'da8f26ba-a63e-4eb8-9d71-0a4263e435b8', 'timestamp': 1763397078.0851579, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:31:18.186167", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397078.1855621, 'idle_time': 5.134469707991229, 'inference_duration_total': 0.036600916035240516, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:18.186975", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397078.1855621, 'idle_time': 5.134469707991229, 'inference_duration_total': 0.036600916035240516, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:19.187451", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397079.186878, 'idle_time': 6.135781290999148, 'inference_duration_total': 0.02650383597938344, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:19.188780", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397079.186878, 'idle_time': 6.135781290999148, 'inference_duration_total': 0.02650383597938344, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:19.261758", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 17 Nov 2025 16:31:18 GMT'), (b'Content-Type', b'audio/mpeg'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'868'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'1041'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9997'), (b'x-ratelimit-remaining-tokens', b'199993'), (b'x-ratelimit-reset-requests', b'21.72s'), (b'x-ratelimit-reset-tokens', b'1ms'), (b'x-request-id', b'req_be54033fee434a1aab44529206c8ef07'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a009e16fa57097c-HKG'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-17T16:31:19.262910", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/audio/speech \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-17T16:31:19.263142", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/audio/speech \"200 OK\" Headers({'date': 'Mon, 17 Nov 2025 16:31:18 GMT', 'content-type': 'audio/mpeg', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '868', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '1041', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9997', 'x-ratelimit-remaining-tokens': '199993', 'x-ratelimit-reset-requests': '21.72s', 'x-ratelimit-reset-tokens': '1ms', 'x-request-id': 'req_be54033fee434a1aab44529206c8ef07', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a009e16fa57097c-HKG', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-17T16:31:19.263436", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_be54033fee434a1aab44529206c8ef07"}
{"timestamp": "2025-11-17T16:31:19.263914", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:31:19.454108", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-17T16:31:19.649690", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-17T16:31:19.832682", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-17T16:31:20.235910", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397080.2353542, 'idle_time': 7.184253124985844, 'inference_duration_total': 0.03332170896464959, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:20.236632", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397080.2353542, 'idle_time': 7.184253124985844, 'inference_duration_total': 0.03332170896464959, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:21.237416", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397081.236864, 'idle_time': 8.185759415995562, 'inference_duration_total': 0.024472123943269253, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:21.238106", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397081.236864, 'idle_time': 8.185759415995562, 'inference_duration_total': 0.024472123943269253, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:22.287794", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397082.2865431, 'idle_time': 9.235434790985892, 'inference_duration_total': 0.036634374962886795, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:22.289344", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397082.2865431, 'idle_time': 9.235434790985892, 'inference_duration_total': 0.036634374962886795, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:23.134125", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'da8f26ba-a63e-4eb8-9d71-0a4263e435b8', 'timestamp': 1763397083.1339011, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:31:23.134454", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'da8f26ba-a63e-4eb8-9d71-0a4263e435b8', 'timestamp': 1763397083.1339011, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:31:23.286997", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397083.28643, 'idle_time': 10.235317332990235, 'inference_duration_total': 0.03149208097602241, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:23.287687", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397083.28643, 'idle_time': 10.235317332990235, 'inference_duration_total': 0.03149208097602241, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:24.337381", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397084.336921, 'idle_time': 11.28580441599479, 'inference_duration_total': 0.04409750198828988, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:24.338271", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397084.336921, 'idle_time': 11.28580441599479, 'inference_duration_total': 0.04409750198828988, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:25.337203", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397085.33625, 'idle_time': 12.285129665979184, 'inference_duration_total': 0.030377211107406765, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:25.338928", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397085.33625, 'idle_time': 12.285129665979184, 'inference_duration_total': 0.030377211107406765, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:26.390154", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397086.389753, 'idle_time': 13.33862866598065, 'inference_duration_total': 0.03540816996246576, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:26.390784", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397086.389753, 'idle_time': 13.33862866598065, 'inference_duration_total': 0.03540816996246576, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:27.384631", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397087.384458, 'idle_time': 14.33332954099751, 'inference_duration_total': 0.024981542897876352, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:27.384941", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397087.384458, 'idle_time': 14.33332954099751, 'inference_duration_total': 0.024981542897876352, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:28.136834", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'da8f26ba-a63e-4eb8-9d71-0a4263e435b8', 'timestamp': 1763397088.136257, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:31:28.137803", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'da8f26ba-a63e-4eb8-9d71-0a4263e435b8', 'timestamp': 1763397088.136257, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:31:28.436501", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397088.435934, 'idle_time': 15.384801582986256, 'inference_duration_total': 0.030673253029817715, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:28.437299", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397088.435934, 'idle_time': 15.384801582986256, 'inference_duration_total': 0.030673253029817715, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:29.435724", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397089.435273, 'idle_time': 16.38413633298478, 'inference_duration_total': 0.02711353902122937, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:29.436321", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397089.435273, 'idle_time': 16.38413633298478, 'inference_duration_total': 0.02711353902122937, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:30.487195", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397090.486634, 'idle_time': 17.43549358297605, 'inference_duration_total': 0.03343624889384955, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:30.489871", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397090.486634, 'idle_time': 17.43549358297605, 'inference_duration_total': 0.03343624889384955, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:30.984176", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete"}
{"timestamp": "2025-11-17T16:31:30.985328", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-17T16:31:30.985676", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-17T16:31:30.996833", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_be54033fee434a1aab44529206c8ef07', 'timestamp': 1763397090.996503, 'ttfb': 1.867292125010863, 'duration': 13.595195041008992, 'audio_duration': 1.57, 'cancelled': False, 'characters_count': 27, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_ccf282fd8170', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:31:30.997250", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_be54033fee434a1aab44529206c8ef07', 'timestamp': 1763397090.996503, 'ttfb': 1.867292125010863, 'duration': 13.595195041008992, 'audio_duration': 1.57, 'cancelled': False, 'characters_count': 27, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_ccf282fd8170', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:31:31.485221", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397091.484965, 'idle_time': 18.433820332982577, 'inference_duration_total': 0.028108662052545696, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:31.485619", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397091.484965, 'idle_time': 18.433820332982577, 'inference_duration_total': 0.028108662052545696, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:32.537851", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397092.537326, 'idle_time': 19.486177832994144, 'inference_duration_total': 0.04090091789839789, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:32.538882", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397092.537326, 'idle_time': 19.486177832994144, 'inference_duration_total': 0.04090091789839789, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:33.185869", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'da8f26ba-a63e-4eb8-9d71-0a4263e435b8', 'timestamp': 1763397093.1852741, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:31:33.186754", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'da8f26ba-a63e-4eb8-9d71-0a4263e435b8', 'timestamp': 1763397093.1852741, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:31:33.533889", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397093.5336561, 'idle_time': 20.482502915983787, 'inference_duration_total': 0.029644292051671073, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:33.534242", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397093.5336561, 'idle_time': 20.482502915983787, 'inference_duration_total': 0.029644292051671073, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:34.587094", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397094.586575, 'idle_time': 21.535418707993813, 'inference_duration_total': 0.024498042184859514, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:34.588218", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397094.586575, 'idle_time': 21.535418707993813, 'inference_duration_total': 0.024498042184859514, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:35.584647", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397095.584254, 'idle_time': 22.533093374979217, 'inference_duration_total': 0.029919376072939485, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:35.585046", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397095.584254, 'idle_time': 22.533093374979217, 'inference_duration_total': 0.029919376072939485, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:36.636322", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397096.635763, 'idle_time': 23.584598332992755, 'inference_duration_total': 0.030962247954448685, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:36.637337", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397096.635763, 'idle_time': 23.584598332992755, 'inference_duration_total': 0.030962247954448685, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:37.634767", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397097.63451, 'idle_time': 24.583341165998718, 'inference_duration_total': 0.02611200010869652, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:37.635131", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397097.63451, 'idle_time': 24.583341165998718, 'inference_duration_total': 0.02611200010869652, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:38.234730", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'da8f26ba-a63e-4eb8-9d71-0a4263e435b8', 'timestamp': 1763397098.2343302, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:31:38.235182", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'da8f26ba-a63e-4eb8-9d71-0a4263e435b8', 'timestamp': 1763397098.2343302, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:31:38.685643", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397098.685365, 'idle_time': 0.29964616597862914, 'inference_duration_total': 0.025184544967487454, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:38.686074", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397098.685365, 'idle_time': 0.29964616597862914, 'inference_duration_total': 0.025184544967487454, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:39.684478", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397099.6842911, 'idle_time': 1.2985681659774855, 'inference_duration_total': 0.033356995962094516, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:39.684748", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397099.6842911, 'idle_time': 1.2985681659774855, 'inference_duration_total': 0.033356995962094516, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:40.263984", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-17T16:31:40.271226", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763397100.268405, 'end_of_utterance_delay': 2.429358959197998, 'transcription_delay': 2.427962064743042, 'on_user_turn_completed_delay': 7.152557373046875e-07, 'last_speaking_time': 1763397097.8363109, 'speech_id': 'speech_5b20751eed48', 'metadata': None}}"}
{"timestamp": "2025-11-17T16:31:40.272431", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763397100.268405, 'end_of_utterance_delay': 2.429358959197998, 'transcription_delay': 2.427962064743042, 'on_user_turn_completed_delay': 7.152557373046875e-07, 'last_speaking_time': 1763397097.8363109, 'speech_id': 'speech_5b20751eed48', 'metadata': None}}"}
{"timestamp": "2025-11-17T16:31:40.288501", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'timeout': Timeout(timeout=10.0), 'files': None, 'idempotency_key': 'stainless-python-retry-9ec31875-850f-4d1e-9c58-69c0242efb49', 'json_data': {'messages': [{'role': 'system', 'content': \"\\n        You are **Shifa Clinic\u2019s AI Receptionist**, answering calls in real time.\\n            Your role is to help callers with booking, confirming, or rescheduling appointments.\\n            Speak naturally, briefly, and professionally\u2014like an experienced clinic receptionist.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CORE BEHAVIOR\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            1. **Every call is fresh.**  \\n            Do not rely on previous session context. Use only:\\n            - caller name (if known)\\n            - caller phone (if known)\\n            - information spoken in THIS call\\n            \\n\\n            2. **One task at a time.**  \\n            Every reply must:\\n            - confirm the last thing the caller said\\n            - take one small step forward (ask ONE question)\\n            - be under **8 words**\\n                Always respond in under 8 words. Prioritize immediate tool calls. Do not speak long sentences.\\n\\n            3. **Never expose internal logic.**  \\n            Never say:\\n            - \u201ccalling a tool\u2026\u201d\\n            - \u201csaving memory\u2026\u201d\\n            - \u201cI detected your name\u2026\u201d\\n            - \u201cupdating the appointment\u2026\u201d\\n\\n            4. **Always stay polite, warm, and concise.**\\n            Examples:\\n            - \u201cSure, one moment.\u201d\\n            - \u201cGot it.\u201d\\n            - \u201cLet me check that.\u201d\\n\\n            5. **If caller seems confused, repeat slowly and simply.**\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### TOOL CALLING RULES\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            Use tools to perform actions.  \\n            After calling a tool, speak a short natural confirmation.\\n\\n            **Tools you may call:**\\n            - `save_name(name)`\\n            - `save_phone(phone)`\\n            - `available_slot()`\\n            - `booking_appointment()`\\n            - `get_date()`\\n            - `update_caller_profile(name?, phone?)`\\n            - `start_reschedule()`\\n            - `confirm_reschedule()`\\n            - `end_call()`\\n\\n            Tool usage guidelines:\\n            - Call **save_name** immediately when you hear a name.\\n            - Call **save_phone** when digits are spoken.  \\n            If partial, ask: \u201cCan you repeat that number slowly?\u201d\\n            - Call **available_slot** when caller expresses a time preference (morning, evening, 3pm, etc.)\\n            - Call **get_date** when caller gives a vague date (\u201cnext Monday\u201d).\\n            - Call **booking_appointment** only when BOTH date and time are known.\\n            - Call **update_caller_profile** if caller corrects name or phone.\\n            - After a booking or reschedule completes, ask:  \\n            \u201cAnything else I can help with?\u201d  \\n            If caller says \u201cno\u201d, use `end_call()`.\\n            If the phone number is unclear or has extra/missing digits, ask the caller to repeat it digit by digit.\\n                Do not guess phone numbers.\\n                Always confirm the final number by repeating it back.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESCHEDULE FLOW\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            When the caller says anything like \u201cchange\u201d, \u201cmove\u201d, \u201creschedule\u201d, \u201cshift\u201d:\\n            1. Call **start_reschedule**.\\n            2. Ask for the new date.\\n            3. Once date \u2192 ask for time.\\n            4. When BOTH are known \u2192 call **confirm_reschedule**.\\n            5. After confirmation \u2192 ask:  \\n            \u201cAnything else I can help with?\u201d\\n\\n            Never call `confirm_reschedule` early.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CONVERSATION STYLE\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Speak like a calm clinic receptionist.\\n            - Use short sentences.  \\n            - One question per turn.  \\n            - No filler like \u201cas an AI\u201d.  \\n            - No medical advice.  \\n            - Don't ask for information you already have.\\n\\n            **Good examples:**\\n            - \u201cSure. What day works for you?\u201d\\n            - \u201cGot it. And what time?\u201d\\n            - \u201cPerfect. One moment while I check.\u201d\\n\\n            **Bad examples:**\\n            - \u201cLet me call a tool.\u201d\\n            - \u201cProcessing your request.\u201d\\n            - \u201cI am updating your appointment in the database.\u201d\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESPONSE CONTROL\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Never output long paragraphs.  \\n            - Never output lists or explanations.  \\n            - Keep responses conversational and human.  \\n            - If caller pauses 5 seconds, use `end_call()`.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### ROLE REMINDER\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            You are the first point of contact for Shifa Clinic.  \\n            Be warm. Be efficient. Be human.\\n\\n            Now handle the caller.\\n\\n\"}, {'role': 'assistant', 'content': 'Good evening, Abdul Basit! How can I assist you today?'}, {'role': 'user', 'content': 'Can you'}], 'model': 'gpt-4o-mini', 'stream': True, 'stream_options': {'include_usage': True}, 'temperature': 0.7, 'tools': [{'type': 'function', 'function': {'name': 'save_name', 'strict': True, 'description': '', 'parameters': {'properties': {'name': {'type': 'string'}}, 'required': ['name'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'save_phone', 'strict': True, 'description': 'Store validated patient phone in Redis using existing BookingBase validator.', 'parameters': {'properties': {'phone': {'type': 'string'}}, 'required': ['phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'available_slot', 'strict': True, 'description': 'Suggest available appointment slots for a given day.\\n- Understands natural language (\"tomorrow\", \"morning\", \"after 2pm\")\\n- Always fetches fresh availability from DB.\\n- Returns top 3 free slots.\\n- Stores them in ctx.suggested_slots for booking_appointment.', 'parameters': {'properties': {'day': {'type': 'string'}, 'date': {'type': 'string'}, 'time': {'type': 'string'}}, 'required': ['day', 'date', 'time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'booking_appointment', 'strict': True, 'description': 'Create or reschedule an appointment.\\nClean, predictable, AI-friendly logic.\\nUses helper functions for DB safety.', 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'get_date', 'strict': True, 'description': 'Return system date and time.', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'end_call', 'strict': True, 'description': \"Gracefully end the call after confirming there's nothing else needed.\\nDoes not clear Redis; short-term memory expires via TTL.\", 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'update_caller_profile', 'strict': True, 'description': 'Persist caller profile (name/phone) for future calls without disrupting session.\\nIf phone not provided, uses current session phone if available.', 'parameters': {'properties': {'name': {'type': ['string', 'null']}, 'phone': {'type': ['string', 'null']}}, 'required': ['name', 'phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'start_reschedule', 'strict': True, 'description': '', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'confirm_reschedule', 'strict': True, 'description': \"Confirm and perform rescheduling to the selected date/time.\\nUse after start_reschedule + available_slot when the caller says 'yes'.\", 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}]}}"}
{"timestamp": "2025-11-17T16:31:40.290253", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions"}
{"timestamp": "2025-11-17T16:31:40.290971", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=10.0 socket_options=None"}
{"timestamp": "2025-11-17T16:31:40.329442", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x123c84850>"}
{"timestamp": "2025-11-17T16:31:40.329594", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x123424050> server_hostname='api.openai.com' timeout=10.0"}
{"timestamp": "2025-11-17T16:31:40.356749", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x12344db50>"}
{"timestamp": "2025-11-17T16:31:40.357239", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:31:40.357661", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-17T16:31:40.357760", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:31:40.358003", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-17T16:31:40.358078", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:31:40.687342", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397100.686701, 'idle_time': 2.300975082995137, 'inference_duration_total': 0.031793499016202986, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:40.688032", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397100.686701, 'idle_time': 2.300975082995137, 'inference_duration_total': 0.031793499016202986, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:41.122281", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 17 Nov 2025 16:31:41 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'418'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'442'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'198633'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'410ms'), (b'x-request-id', b'req_9331cbbab9924238b65e69cc36098346'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a009ea62f41d055-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-17T16:31:41.123864", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/chat/completions \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-17T16:31:41.124177", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Mon, 17 Nov 2025 16:31:41 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '418', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '442', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '198633', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '410ms', 'x-request-id': 'req_9331cbbab9924238b65e69cc36098346', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a009ea62f41d055-KHI', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-17T16:31:41.124540", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_9331cbbab9924238b65e69cc36098346"}
{"timestamp": "2025-11-17T16:31:41.125229", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:31:41.384854", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream', 'X-Stainless-Raw-Response': 'stream'}, 'timeout': Timeout(connect=10.0, read=30, write=30, pool=30), 'files': None, 'idempotency_key': 'stainless-python-retry-9dca0cd9-4fb0-46ee-b55c-62018411f643', 'json_data': {'input': \"I didn't catch that.\", 'model': 'gpt-4o-mini-tts', 'voice': 'alloy', 'response_format': 'mp3', 'speed': 1.0}}"}
{"timestamp": "2025-11-17T16:31:41.386538", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/audio/speech"}
{"timestamp": "2025-11-17T16:31:41.387629", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:31:41.388509", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-17T16:31:41.388673", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:31:41.389046", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-17T16:31:41.389161", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:31:41.487814", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-17T16:31:41.488758", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-17T16:31:41.489950", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CcwQeyiLvz6CSPPfTpfRS8cwZq95d', 'timestamp': 1763397101.489389, 'duration': 1.2156535839894786, 'ttft': 0.9073122089903336, 'cancelled': False, 'completion_tokens': 12, 'prompt_tokens': 1337, 'prompt_cached_tokens': 0, 'total_tokens': 1349, 'tokens_per_second': 9.871233185212951, 'speech_id': 'speech_5b20751eed48', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:31:41.490298", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CcwQeyiLvz6CSPPfTpfRS8cwZq95d', 'timestamp': 1763397101.489389, 'duration': 1.2156535839894786, 'ttft': 0.9073122089903336, 'cancelled': False, 'completion_tokens': 12, 'prompt_tokens': 1337, 'prompt_cached_tokens': 0, 'total_tokens': 1349, 'tokens_per_second': 9.871233185212951, 'speech_id': 'speech_5b20751eed48', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:31:41.491401", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.failed exception=GeneratorExit()"}
{"timestamp": "2025-11-17T16:31:41.734482", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397101.734318, 'idle_time': 3.3485874999896623, 'inference_duration_total': 0.031843208154896274, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:41.734730", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397101.734318, 'idle_time': 3.3485874999896623, 'inference_duration_total': 0.031843208154896274, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:42.248037", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 17 Nov 2025 16:31:42 GMT'), (b'Content-Type', b'audio/mpeg'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'409'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'421'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'199995'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'1ms'), (b'x-request-id', b'req_d7a7acd458f747df9c580cf560459603'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a009ead1a08097c-HKG'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-17T16:31:42.249692", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/audio/speech \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-17T16:31:42.250077", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/audio/speech \"200 OK\" Headers({'date': 'Mon, 17 Nov 2025 16:31:42 GMT', 'content-type': 'audio/mpeg', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '409', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '421', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '199995', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '1ms', 'x-request-id': 'req_d7a7acd458f747df9c580cf560459603', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a009ead1a08097c-HKG', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-17T16:31:42.250520", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_d7a7acd458f747df9c580cf560459603"}
{"timestamp": "2025-11-17T16:31:42.250926", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:31:42.677620", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete"}
{"timestamp": "2025-11-17T16:31:42.678016", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-17T16:31:42.678327", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-17T16:31:42.683577", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_d7a7acd458f747df9c580cf560459603', 'timestamp': 1763397102.683155, 'ttfb': 1.2310255829943344, 'duration': 1.299528833013028, 'audio_duration': 1.042, 'cancelled': False, 'characters_count': 20, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_5b20751eed48', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:31:42.684223", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_d7a7acd458f747df9c580cf560459603', 'timestamp': 1763397102.683155, 'ttfb': 1.2310255829943344, 'duration': 1.299528833013028, 'audio_duration': 1.042, 'cancelled': False, 'characters_count': 20, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_5b20751eed48', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:31:42.684773", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream', 'X-Stainless-Raw-Response': 'stream'}, 'timeout': Timeout(connect=10.0, read=30, write=30, pool=30), 'files': None, 'idempotency_key': 'stainless-python-retry-f78d7dff-783f-4812-895a-e0c0f81dbc4c', 'json_data': {'input': 'Can you repeat, please?', 'model': 'gpt-4o-mini-tts', 'voice': 'alloy', 'response_format': 'mp3', 'speed': 1.0}}"}
{"timestamp": "2025-11-17T16:31:42.685949", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/audio/speech"}
{"timestamp": "2025-11-17T16:31:42.689301", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:31:42.690233", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-17T16:31:42.690480", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:31:42.691163", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-17T16:31:42.691333", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:31:42.735090", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397102.7348852, 'idle_time': 4.349149916000897, 'inference_duration_total': 0.029225625010440126, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:42.735367", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397102.7348852, 'idle_time': 4.349149916000897, 'inference_duration_total': 0.029225625010440126, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:43.236252", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'da8f26ba-a63e-4eb8-9d71-0a4263e435b8', 'timestamp': 1763397103.235563, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:31:43.237351", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'da8f26ba-a63e-4eb8-9d71-0a4263e435b8', 'timestamp': 1763397103.235563, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:31:43.784692", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397103.784522, 'idle_time': 5.398783082986483, 'inference_duration_total': 0.02764441692852415, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:43.784950", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397103.784522, 'idle_time': 5.398783082986483, 'inference_duration_total': 0.02764441692852415, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:43.822079", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 17 Nov 2025 16:31:43 GMT'), (b'Content-Type', b'audio/mpeg'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'411'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'429'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9998'), (b'x-ratelimit-remaining-tokens', b'199995'), (b'x-ratelimit-reset-requests', b'14.884s'), (b'x-ratelimit-reset-tokens', b'1ms'), (b'x-request-id', b'req_a36d5778002543dea0fde0ff44d51765'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a009eb53c1e097c-HKG'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-17T16:31:43.822479", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/audio/speech \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-17T16:31:43.822613", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/audio/speech \"200 OK\" Headers({'date': 'Mon, 17 Nov 2025 16:31:43 GMT', 'content-type': 'audio/mpeg', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '411', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '429', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9998', 'x-ratelimit-remaining-tokens': '199995', 'x-ratelimit-reset-requests': '14.884s', 'x-ratelimit-reset-tokens': '1ms', 'x-request-id': 'req_a36d5778002543dea0fde0ff44d51765', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a009eb53c1e097c-HKG', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-17T16:31:43.822861", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_a36d5778002543dea0fde0ff44d51765"}
{"timestamp": "2025-11-17T16:31:43.823069", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:31:44.006534", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-17T16:31:44.188247", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-17T16:31:44.785763", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397104.785533, 'idle_time': 6.3997898749948945, 'inference_duration_total': 0.02415512508014217, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:44.786115", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397104.785533, 'idle_time': 6.3997898749948945, 'inference_duration_total': 0.02415512508014217, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:45.338728", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete"}
{"timestamp": "2025-11-17T16:31:45.338992", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-17T16:31:45.339225", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-17T16:31:45.348693", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_a36d5778002543dea0fde0ff44d51765', 'timestamp': 1763397105.3483891, 'ttfb': 1.1411849169817287, 'duration': 2.6640839589817915, 'audio_duration': 1.33, 'cancelled': False, 'characters_count': 23, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_5b20751eed48', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:31:45.349011", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_a36d5778002543dea0fde0ff44d51765', 'timestamp': 1763397105.3483891, 'ttfb': 1.1411849169817287, 'duration': 2.6640839589817915, 'audio_duration': 1.33, 'cancelled': False, 'characters_count': 23, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_5b20751eed48', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:31:45.834579", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397105.834398, 'idle_time': 7.448650707985507, 'inference_duration_total': 0.01833950393483974, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:45.834820", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397105.834398, 'idle_time': 7.448650707985507, 'inference_duration_total': 0.01833950393483974, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:46.837457", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397106.8368452, 'idle_time': 8.451093999989098, 'inference_duration_total': 0.021104623039718717, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:46.838379", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397106.8368452, 'idle_time': 8.451093999989098, 'inference_duration_total': 0.021104623039718717, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:47.884597", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397107.8844318, 'idle_time': 9.498677124996902, 'inference_duration_total': 0.031003584037534893, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:47.884871", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397107.8844318, 'idle_time': 9.498677124996902, 'inference_duration_total': 0.031003584037534893, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:48.285163", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'da8f26ba-a63e-4eb8-9d71-0a4263e435b8', 'timestamp': 1763397108.28462, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:31:48.285869", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'da8f26ba-a63e-4eb8-9d71-0a4263e435b8', 'timestamp': 1763397108.28462, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:31:48.886304", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397108.886006, 'idle_time': 10.500246790994424, 'inference_duration_total': 0.02690837610862218, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:48.886759", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397108.886006, 'idle_time': 10.500246790994424, 'inference_duration_total': 0.02690837610862218, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:49.934702", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397109.9344409, 'idle_time': 11.548677915998269, 'inference_duration_total': 0.03611812202143483, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:49.935366", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397109.9344409, 'idle_time': 11.548677915998269, 'inference_duration_total': 0.03611812202143483, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:50.937452", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397110.936807, 'idle_time': 12.551040207996266, 'inference_duration_total': 0.029989828006364405, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:50.938198", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397110.936807, 'idle_time': 12.551040207996266, 'inference_duration_total': 0.029989828006364405, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:51.985136", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397111.984864, 'idle_time': 13.599092874996131, 'inference_duration_total': 0.0358539150620345, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:51.985624", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397111.984864, 'idle_time': 13.599092874996131, 'inference_duration_total': 0.0358539150620345, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:52.987758", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397112.987204, 'idle_time': 14.601429125003051, 'inference_duration_total': 0.03242091884021647, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:52.988659", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397112.987204, 'idle_time': 14.601429125003051, 'inference_duration_total': 0.03242091884021647, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:53.286382", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'da8f26ba-a63e-4eb8-9d71-0a4263e435b8', 'timestamp': 1763397113.285845, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:31:53.287269", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'da8f26ba-a63e-4eb8-9d71-0a4263e435b8', 'timestamp': 1763397113.285845, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:31:54.037045", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397114.036513, 'idle_time': 15.650734458002262, 'inference_duration_total': 0.031043167895404622, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:54.037915", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397114.036513, 'idle_time': 15.650734458002262, 'inference_duration_total': 0.031043167895404622, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:55.038371", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397115.037859, 'idle_time': 16.652076290978584, 'inference_duration_total': 0.032219917949987575, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:55.039463", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397115.037859, 'idle_time': 16.652076290978584, 'inference_duration_total': 0.032219917949987575, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:56.087228", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397116.086823, 'idle_time': 17.70103666599607, 'inference_duration_total': 0.03939000001992099, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:56.088324", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397116.086823, 'idle_time': 17.70103666599607, 'inference_duration_total': 0.03939000001992099, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:57.088466", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397117.087766, 'idle_time': 18.701975749980193, 'inference_duration_total': 0.03557812309009023, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:57.089609", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397117.087766, 'idle_time': 18.701975749980193, 'inference_duration_total': 0.03557812309009023, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:58.136861", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397118.136275, 'idle_time': 19.750480082992, 'inference_duration_total': 0.04086600200389512, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:58.137679", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397118.136275, 'idle_time': 19.750480082992, 'inference_duration_total': 0.04086600200389512, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:58.334190", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'da8f26ba-a63e-4eb8-9d71-0a4263e435b8', 'timestamp': 1763397118.3339598, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:31:58.334581", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'da8f26ba-a63e-4eb8-9d71-0a4263e435b8', 'timestamp': 1763397118.3339598, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:31:59.137063", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397119.13641, 'idle_time': 20.75061087499489, 'inference_duration_total': 0.027769832056947052, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:31:59.137818", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397119.13641, 'idle_time': 20.75061087499489, 'inference_duration_total': 0.027769832056947052, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:00.187684", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397120.186862, 'idle_time': 21.801058874989394, 'inference_duration_total': 0.03181687599862926, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:00.190003", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397120.186862, 'idle_time': 21.801058874989394, 'inference_duration_total': 0.03181687599862926, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:01.185337", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397121.185007, 'idle_time': 22.79919962497661, 'inference_duration_total': 0.03346966387471184, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:01.185878", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397121.185007, 'idle_time': 22.79919962497661, 'inference_duration_total': 0.03346966387471184, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:02.237948", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397122.237192, 'idle_time': 23.851381374988705, 'inference_duration_total': 0.037006375030614436, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:02.240121", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397122.237192, 'idle_time': 23.851381374988705, 'inference_duration_total': 0.037006375030614436, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:03.237440", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397123.236898, 'idle_time': 24.85108283298905, 'inference_duration_total': 0.029268042067997158, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:03.238323", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397123.236898, 'idle_time': 24.85108283298905, 'inference_duration_total': 0.029268042067997158, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:03.336072", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'da8f26ba-a63e-4eb8-9d71-0a4263e435b8', 'timestamp': 1763397123.335522, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:32:03.337087", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'da8f26ba-a63e-4eb8-9d71-0a4263e435b8', 'timestamp': 1763397123.335522, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:32:04.286521", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397124.2860212, 'idle_time': 25.900201540993294, 'inference_duration_total': 0.031685163907241076, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:04.287408", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397124.2860212, 'idle_time': 25.900201540993294, 'inference_duration_total': 0.031685163907241076, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:05.287073", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397125.2858791, 'idle_time': 26.90005649998784, 'inference_duration_total': 0.03676583603373729, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:05.287835", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397125.2858791, 'idle_time': 26.90005649998784, 'inference_duration_total': 0.03676583603373729, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:06.285514", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397126.285125, 'idle_time': 27.899297832977027, 'inference_duration_total': 0.034014498960459605, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:06.286045", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397126.285125, 'idle_time': 27.899297832977027, 'inference_duration_total': 0.034014498960459605, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:07.336310", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397127.335777, 'idle_time': 28.949945790984202, 'inference_duration_total': 0.019253418984590098, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:07.336783", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397127.335777, 'idle_time': 28.949945790984202, 'inference_duration_total': 0.019253418984590098, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:08.337258", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397128.3363688, 'idle_time': 29.950533957977314, 'inference_duration_total': 0.040475207089912146, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:08.337926", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397128.3363688, 'idle_time': 29.950533957977314, 'inference_duration_total': 0.040475207089912146, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:08.398792", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'da8f26ba-a63e-4eb8-9d71-0a4263e435b8', 'timestamp': 1763397128.395238, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:32:08.403585", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'da8f26ba-a63e-4eb8-9d71-0a4263e435b8', 'timestamp': 1763397128.395238, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:32:09.385097", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397129.3847501, 'idle_time': 30.998910957976477, 'inference_duration_total': 0.030075870919972658, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:09.385589", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397129.3847501, 'idle_time': 30.998910957976477, 'inference_duration_total': 0.030075870919972658, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:10.387507", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397130.386886, 'idle_time': 32.00104304100387, 'inference_duration_total': 0.027206124999793246, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:10.388655", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397130.386886, 'idle_time': 32.00104304100387, 'inference_duration_total': 0.027206124999793246, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:11.435216", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397131.434858, 'idle_time': 33.04901037499076, 'inference_duration_total': 0.027933245000895113, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:11.435771", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397131.434858, 'idle_time': 33.04901037499076, 'inference_duration_total': 0.027933245000895113, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:12.434959", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397132.434528, 'idle_time': 34.04867670798558, 'inference_duration_total': 0.02716212294762954, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:12.435393", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397132.434528, 'idle_time': 34.04867670798558, 'inference_duration_total': 0.02716212294762954, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:13.434426", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'da8f26ba-a63e-4eb8-9d71-0a4263e435b8', 'timestamp': 1763397133.434241, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:32:13.434782", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'da8f26ba-a63e-4eb8-9d71-0a4263e435b8', 'timestamp': 1763397133.434241, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:32:13.484725", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397133.48457, 'idle_time': 35.09871445799945, 'inference_duration_total': 0.01448479201644659, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:13.484990", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397133.48457, 'idle_time': 35.09871445799945, 'inference_duration_total': 0.01448479201644659, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:14.488418", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397134.487731, 'idle_time': 36.10187162499642, 'inference_duration_total': 0.01927837691619061, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:14.490470", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397134.487731, 'idle_time': 36.10187162499642, 'inference_duration_total': 0.01927837691619061, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:15.537953", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397135.537442, 'idle_time': 37.15157929097768, 'inference_duration_total': 0.032279291946906596, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:15.539527", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397135.537442, 'idle_time': 37.15157929097768, 'inference_duration_total': 0.032279291946906596, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:16.539210", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397136.538383, 'idle_time': 38.152515833004145, 'inference_duration_total': 0.03634187305578962, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:16.540088", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397136.538383, 'idle_time': 38.152515833004145, 'inference_duration_total': 0.03634187305578962, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:17.588377", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397137.5873768, 'idle_time': 39.20150549997925, 'inference_duration_total': 0.0284142529417295, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:17.589447", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397137.5873768, 'idle_time': 39.20150549997925, 'inference_duration_total': 0.0284142529417295, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:18.434831", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'da8f26ba-a63e-4eb8-9d71-0a4263e435b8', 'timestamp': 1763397138.434537, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:32:18.435283", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'da8f26ba-a63e-4eb8-9d71-0a4263e435b8', 'timestamp': 1763397138.434537, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:32:18.587901", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397138.58737, 'idle_time': 40.20149516599486, 'inference_duration_total': 0.02878783011692576, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:18.588939", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397138.58737, 'idle_time': 40.20149516599486, 'inference_duration_total': 0.02878783011692576, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:19.634435", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397139.634177, 'idle_time': 41.248297707992606, 'inference_duration_total': 0.022540041973115876, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:19.634914", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397139.634177, 'idle_time': 41.248297707992606, 'inference_duration_total': 0.022540041973115876, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:20.638465", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397140.637873, 'idle_time': 0.05024645899538882, 'inference_duration_total': 0.024301586992805824, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:20.639360", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397140.637873, 'idle_time': 0.05024645899538882, 'inference_duration_total': 0.024301586992805824, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:21.687528", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397141.687158, 'idle_time': 0.35125649999827147, 'inference_duration_total': 0.020189169968944043, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:21.688238", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397141.687158, 'idle_time': 0.35125649999827147, 'inference_duration_total': 0.020189169968944043, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:22.688998", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397142.688297, 'idle_time': 1.352392582979519, 'inference_duration_total': 0.03036420902935788, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:22.689854", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397142.688297, 'idle_time': 1.352392582979519, 'inference_duration_total': 0.03036420902935788, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:23.434778", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'da8f26ba-a63e-4eb8-9d71-0a4263e435b8', 'timestamp': 1763397143.43454, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:32:23.435287", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'da8f26ba-a63e-4eb8-9d71-0a4263e435b8', 'timestamp': 1763397143.43454, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:32:23.735668", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397143.7353878, 'idle_time': 2.3994786249822937, 'inference_duration_total': 0.024479502113536, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:23.736126", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397143.7353878, 'idle_time': 2.3994786249822937, 'inference_duration_total': 0.024479502113536, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:24.736137", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397144.735484, 'idle_time': 3.3995711249881424, 'inference_duration_total': 0.023545789008494467, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:24.736894", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397144.735484, 'idle_time': 3.3995711249881424, 'inference_duration_total': 0.023545789008494467, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:25.786947", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397145.7861838, 'idle_time': 4.4502671669761185, 'inference_duration_total': 0.029500123084289953, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:25.789296", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397145.7861838, 'idle_time': 4.4502671669761185, 'inference_duration_total': 0.029500123084289953, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:26.604186", "level": "INFO", "logger": "livekit.agents", "message": "closing agent session due to participant disconnect (disable via `RoomInputOptions.close_on_disconnect=False`)"}
{"timestamp": "2025-11-17T16:32:26.606354", "level": "DEBUG", "logger": "livekit.agents", "message": "stream closed"}
{"timestamp": "2025-11-17T16:32:26.606557", "level": "INFO", "logger": "livekit.agents", "message": "closing agent session due to participant disconnect (disable via `RoomInputOptions.close_on_disconnect=False`)"}
{"timestamp": "2025-11-17T16:32:26.610785", "level": "DEBUG", "logger": "livekit.agents", "message": "input stream detached"}
{"timestamp": "2025-11-17T16:32:28.617821", "level": "DEBUG", "logger": "livekit.agents", "message": "session closed"}
{"timestamp": "2025-11-17T16:32:38.109161", "level": "INFO", "logger": "livekit.agents", "message": "received job request"}
{"timestamp": "2025-11-17T16:32:38.110006", "level": "INFO", "logger": "livekit.agents", "message": "received job request"}
{"timestamp": "2025-11-17T16:32:38.282058", "level": "INFO", "logger": "livekit", "message": "livekit_ffi::server:139:livekit_ffi::server - initializing ffi server v0.12.39"}
{"timestamp": "2025-11-17T16:32:38.284508", "level": "INFO", "logger": "livekit", "message": "livekit_ffi::cabi:50:livekit_ffi::cabi - initializing ffi server v0.12.39"}
{"timestamp": "2025-11-17T16:32:38.286123", "level": "INFO", "logger": "livekit", "message": "livekit_ffi::server:139:livekit_ffi::server - initializing ffi server v0.12.39"}
{"timestamp": "2025-11-17T16:32:38.287403", "level": "INFO", "logger": "livekit", "message": "livekit_ffi::cabi:50:livekit_ffi::cabi - initializing ffi server v0.12.39"}
{"timestamp": "2025-11-17T16:32:38.291155", "level": "INFO", "logger": "livekit", "message": "livekit_api::signal_client::signal_stream:92:livekit_api::signal_client::signal_stream - connecting to wss://testing-mwtbjpwy.livekit.cloud/rtc?sdk=python&protocol=16&auto_subscribe=1&adaptive_stream=0&version=1.0.18"}
{"timestamp": "2025-11-17T16:32:38.299837", "level": "INFO", "logger": "livekit", "message": "livekit_api::signal_client::signal_stream:92:livekit_api::signal_client::signal_stream - connecting to wss://testing-mwtbjpwy.livekit.cloud/rtc?sdk=python&protocol=16&auto_subscribe=1&adaptive_stream=0&version=1.0.18"}
{"timestamp": "2025-11-17T16:32:38.349301", "level": "INFO", "logger": "livekit.agents", "message": "initializing process"}
{"timestamp": "2025-11-17T16:32:38.647876", "level": "INFO", "logger": "livekit.agents", "message": "initializing process"}
{"timestamp": "2025-11-17T16:32:38.883738", "level": "DEBUG", "logger": "livekit", "message": "rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 153 valid and 0 invalid certs"}
{"timestamp": "2025-11-17T16:32:38.883906", "level": "DEBUG", "logger": "livekit", "message": "tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 153/153 native root certificates (ignored 0)"}
{"timestamp": "2025-11-17T16:32:38.884073", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::hs:73:rustls::client::hs - No cached session for DnsName(\"testing-mwtbjpwy.livekit.cloud\")"}
{"timestamp": "2025-11-17T16:32:38.884345", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::hs:132:rustls::client::hs - Not resuming any session"}
{"timestamp": "2025-11-17T16:32:38.886695", "level": "DEBUG", "logger": "livekit", "message": "rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 153 valid and 0 invalid certs"}
{"timestamp": "2025-11-17T16:32:38.886849", "level": "DEBUG", "logger": "livekit", "message": "tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 153/153 native root certificates (ignored 0)"}
{"timestamp": "2025-11-17T16:32:38.886985", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::hs:73:rustls::client::hs - No cached session for DnsName(\"testing-mwtbjpwy.livekit.cloud\")"}
{"timestamp": "2025-11-17T16:32:38.887105", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::hs:132:rustls::client::hs - Not resuming any session"}
{"timestamp": "2025-11-17T16:32:39.056397", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256"}
{"timestamp": "2025-11-17T16:32:39.056551", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::tls13:142:rustls::client::tls13 - Not resuming"}
{"timestamp": "2025-11-17T16:32:39.056692", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []"}
{"timestamp": "2025-11-17T16:32:39.056832", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::hs:472:rustls::client::hs - ALPN protocol is None"}
{"timestamp": "2025-11-17T16:32:39.105504", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256"}
{"timestamp": "2025-11-17T16:32:39.105720", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::tls13:142:rustls::client::tls13 - Not resuming"}
{"timestamp": "2025-11-17T16:32:39.105912", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []"}
{"timestamp": "2025-11-17T16:32:39.106032", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::hs:472:rustls::client::hs - ALPN protocol is None"}
{"timestamp": "2025-11-17T16:32:39.848377", "level": "DEBUG", "logger": "livekit", "message": "tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done."}
{"timestamp": "2025-11-17T16:32:40.464807", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-17T16:32:40.465416", "level": "INFO", "logger": "livekit.agents", "message": "process initialized"}
{"timestamp": "2025-11-17T16:32:40.466417", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-17T16:32:40.467025", "level": "INFO", "logger": "livekit.agents", "message": "process initialized"}
{"timestamp": "2025-11-17T16:32:41.452641", "level": "DEBUG", "logger": "livekit", "message": "tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done."}
{"timestamp": "2025-11-17T16:32:43.286134", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udd0c Redis Connected: True"}
{"timestamp": "2025-11-17T16:32:43.288010", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udd0c Redis Connected: True"}
{"timestamp": "2025-11-17T16:32:43.291855", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Incoming call from: sip_+17194515279"}
{"timestamp": "2025-11-17T16:32:43.292843", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Caller Phone Detected (normalized): 17194515279"}
{"timestamp": "2025-11-17T16:32:43.293211", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Incoming call from: sip_+17194515279"}
{"timestamp": "2025-11-17T16:32:43.294374", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Caller Phone Detected (normalized): 17194515279"}
{"timestamp": "2025-11-17T16:32:43.296216", "level": "INFO", "logger": "telephony-agent", "message": "[Memory] \ud83e\udde0 Preloaded name from profile: Abdul Basit"}
{"timestamp": "2025-11-17T16:32:43.296347", "level": "INFO", "logger": "telephony-agent", "message": "[Memory] \ud83c\udd95 New SessionContext: BookingContext(name='Abdul Basit', phone='17194515279', date=None, time=None, suggested_slots=None, stage='start', status='Pending', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, created_at='2025-11-17T16:32:43.293633')"}
{"timestamp": "2025-11-17T16:32:43.303071", "level": "INFO", "logger": "telephony-agent", "message": "[Memory] \ud83e\udde0 Preloaded name from profile: Abdul Basit"}
{"timestamp": "2025-11-17T16:32:43.303354", "level": "INFO", "logger": "telephony-agent", "message": "[Memory] \ud83c\udd95 New SessionContext: BookingContext(name='Abdul Basit', phone='17194515279', date=None, time=None, suggested_slots=None, stage='start', status='Pending', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, created_at='2025-11-17T16:32:43.293633')"}
{"timestamp": "2025-11-17T16:32:43.595784", "level": "DEBUG", "logger": "livekit.agents", "message": "input stream attached"}
{"timestamp": "2025-11-17T16:32:43.605951", "level": "DEBUG", "logger": "livekit.agents", "message": "http_session(): creating a new httpclient ctx"}
{"timestamp": "2025-11-17T16:32:43.616423", "level": "DEBUG", "logger": "livekit.agents", "message": "start reading stream"}
{"timestamp": "2025-11-17T16:32:43.629090", "level": "DEBUG", "logger": "livekit.agents", "message": "using audio io: `RoomIO` -> `AgentSession` -> `TranscriptSynchronizer` -> `RoomIO`"}
{"timestamp": "2025-11-17T16:32:43.629492", "level": "DEBUG", "logger": "livekit.agents", "message": "using transcript io: `AgentSession` -> `TranscriptSynchronizer` -> `RoomIO`"}
{"timestamp": "2025-11-17T16:32:43.768147", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'get', 'url': '/'}"}
{"timestamp": "2025-11-17T16:32:43.768758", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: GET https://api.openai.com/v1/"}
{"timestamp": "2025-11-17T16:32:43.772448", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=15.0 socket_options=None"}
{"timestamp": "2025-11-17T16:32:43.772877", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'timeout': Timeout(timeout=10.0), 'files': None, 'idempotency_key': 'stainless-python-retry-49bce7f4-536d-453d-ba3e-803a1efffbb6', 'json_data': {'messages': [{'role': 'system', 'content': \"\\n        You are **Shifa Clinic\u2019s AI Receptionist**, answering calls in real time.\\n            Your role is to help callers with booking, confirming, or rescheduling appointments.\\n            Speak naturally, briefly, and professionally\u2014like an experienced clinic receptionist.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CORE BEHAVIOR\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            1. **Every call is fresh.**  \\n            Do not rely on previous session context. Use only:\\n            - caller name (if known)\\n            - caller phone (if known)\\n            - information spoken in THIS call\\n            \\n\\n            2. **One task at a time.**  \\n            Every reply must:\\n            - confirm the last thing the caller said\\n            - take one small step forward (ask ONE question)\\n            - be under **8 words**\\n                Always respond in under 8 words. Prioritize immediate tool calls. Do not speak long sentences.\\n\\n            3. **Never expose internal logic.**  \\n            Never say:\\n            - \u201ccalling a tool\u2026\u201d\\n            - \u201csaving memory\u2026\u201d\\n            - \u201cI detected your name\u2026\u201d\\n            - \u201cupdating the appointment\u2026\u201d\\n\\n            4. **Always stay polite, warm, and concise.**\\n            Examples:\\n            - \u201cSure, one moment.\u201d\\n            - \u201cGot it.\u201d\\n            - \u201cLet me check that.\u201d\\n\\n            5. **If caller seems confused, repeat slowly and simply.**\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### TOOL CALLING RULES\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            Use tools to perform actions.  \\n            After calling a tool, speak a short natural confirmation.\\n\\n            **Tools you may call:**\\n            - `save_name(name)`\\n            - `save_phone(phone)`\\n            - `available_slot()`\\n            - `booking_appointment()`\\n            - `get_date()`\\n            - `update_caller_profile(name?, phone?)`\\n            - `start_reschedule()`\\n            - `confirm_reschedule()`\\n            - `end_call()`\\n\\n            Tool usage guidelines:\\n            - Call **save_name** immediately when you hear a name.\\n            - Call **save_phone** when digits are spoken.  \\n            If partial, ask: \u201cCan you repeat that number slowly?\u201d\\n            - Call **available_slot** when caller expresses a time preference (morning, evening, 3pm, etc.)\\n            - Call **get_date** when caller gives a vague date (\u201cnext Monday\u201d).\\n            - Call **booking_appointment** only when BOTH date and time are known.\\n            - Call **update_caller_profile** if caller corrects name or phone.\\n            - After a booking or reschedule completes, ask:  \\n            \u201cAnything else I can help with?\u201d  \\n            If caller says \u201cno\u201d, use `end_call()`.\\n            If the phone number is unclear or has extra/missing digits, ask the caller to repeat it digit by digit.\\n                Do not guess phone numbers.\\n                Always confirm the final number by repeating it back.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESCHEDULE FLOW\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            When the caller says anything like \u201cchange\u201d, \u201cmove\u201d, \u201creschedule\u201d, \u201cshift\u201d:\\n            1. Call **start_reschedule**.\\n            2. Ask for the new date.\\n            3. Once date \u2192 ask for time.\\n            4. When BOTH are known \u2192 call **confirm_reschedule**.\\n            5. After confirmation \u2192 ask:  \\n            \u201cAnything else I can help with?\u201d\\n\\n            Never call `confirm_reschedule` early.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CONVERSATION STYLE\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Speak like a calm clinic receptionist.\\n            - Use short sentences.  \\n            - One question per turn.  \\n            - No filler like \u201cas an AI\u201d.  \\n            - No medical advice.  \\n            - Don't ask for information you already have.\\n\\n            **Good examples:**\\n            - \u201cSure. What day works for you?\u201d\\n            - \u201cGot it. And what time?\u201d\\n            - \u201cPerfect. One moment while I check.\u201d\\n\\n            **Bad examples:**\\n            - \u201cLet me call a tool.\u201d\\n            - \u201cProcessing your request.\u201d\\n            - \u201cI am updating your appointment in the database.\u201d\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESPONSE CONTROL\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Never output long paragraphs.  \\n            - Never output lists or explanations.  \\n            - Keep responses conversational and human.  \\n            - If caller pauses 5 seconds, use `end_call()`.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### ROLE REMINDER\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            You are the first point of contact for Shifa Clinic.  \\n            Be warm. Be efficient. Be human.\\n\\n            Now handle the caller.\\n\\n\\nGood evening! Hi Abdul Basit, how can I help you today?\"}], 'model': 'gpt-4o-mini', 'stream': True, 'stream_options': {'include_usage': True}, 'temperature': 0.7, 'tools': [{'type': 'function', 'function': {'name': 'save_name', 'strict': True, 'description': '', 'parameters': {'properties': {'name': {'type': 'string'}}, 'required': ['name'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'save_phone', 'strict': True, 'description': 'Store validated patient phone in Redis using existing BookingBase validator.', 'parameters': {'properties': {'phone': {'type': 'string'}}, 'required': ['phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'available_slot', 'strict': True, 'description': 'Suggest available appointment slots for a given day.\\n- Understands natural language (\"tomorrow\", \"morning\", \"after 2pm\")\\n- Always fetches fresh availability from DB.\\n- Returns top 3 free slots.\\n- Stores them in ctx.suggested_slots for booking_appointment.', 'parameters': {'properties': {'day': {'type': 'string'}, 'date': {'type': 'string'}, 'time': {'type': 'string'}}, 'required': ['day', 'date', 'time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'booking_appointment', 'strict': True, 'description': 'Create or reschedule an appointment.\\nClean, predictable, AI-friendly logic.\\nUses helper functions for DB safety.', 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'get_date', 'strict': True, 'description': 'Return system date and time.', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'end_call', 'strict': True, 'description': \"Gracefully end the call after confirming there's nothing else needed.\\nDoes not clear Redis; short-term memory expires via TTL.\", 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'update_caller_profile', 'strict': True, 'description': 'Persist caller profile (name/phone) for future calls without disrupting session.\\nIf phone not provided, uses current session phone if available.', 'parameters': {'properties': {'name': {'type': ['string', 'null']}, 'phone': {'type': ['string', 'null']}}, 'required': ['name', 'phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'start_reschedule', 'strict': True, 'description': '', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'confirm_reschedule', 'strict': True, 'description': \"Confirm and perform rescheduling to the selected date/time.\\nUse after start_reschedule + available_slot when the caller says 'yes'.\", 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}]}}"}
{"timestamp": "2025-11-17T16:32:43.773902", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions"}
{"timestamp": "2025-11-17T16:32:43.775178", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=10.0 socket_options=None"}
{"timestamp": "2025-11-17T16:32:43.841349", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x12b94d0d0>"}
{"timestamp": "2025-11-17T16:32:43.841521", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x12b9240e0> server_hostname='api.openai.com' timeout=15.0"}
{"timestamp": "2025-11-17T16:32:43.842447", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x12c21b590>"}
{"timestamp": "2025-11-17T16:32:43.842532", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x12b924050> server_hostname='api.openai.com' timeout=10.0"}
{"timestamp": "2025-11-17T16:32:43.873441", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x12c260d90>"}
{"timestamp": "2025-11-17T16:32:43.873851", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'GET']>"}
{"timestamp": "2025-11-17T16:32:43.874254", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-17T16:32:43.874356", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'GET']>"}
{"timestamp": "2025-11-17T16:32:43.874478", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-17T16:32:43.874538", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'GET']>"}
{"timestamp": "2025-11-17T16:32:43.878261", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x12c20e850>"}
{"timestamp": "2025-11-17T16:32:43.878490", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:32:43.878849", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-17T16:32:43.878946", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:32:43.879344", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-17T16:32:43.879413", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:32:44.644058", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397164.6431308, 'idle_time': 1.032834042009199, 'inference_duration_total': 0.021248375036520883, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:44.644430", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397164.6431308, 'idle_time': 1.032834042009199, 'inference_duration_total': 0.021248375036520883, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:44.752544", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 17 Nov 2025 16:32:44 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'528'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'543'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'198636'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'409ms'), (b'x-request-id', b'req_f60c4c01d7c04f6e9828fedfa52c7d53'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=6TYbc9_BfQ_aZXi37yfeN5eQdRYIpWnGJToNyrSjP5w-1763397164-1.0.1.1-toD3nX5GZI33.CUWzKp9PrVoUYFfEjM.rZRX.R4Z.FtpBrRCVcS84OMEyRY76Pw6DXgGFi3Nh9gaPT0hOahH6ZZ.5Zxyszgy_m6upsOKFEc; path=/; expires=Mon, 17-Nov-25 17:02:44 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=CuZbP8hdkBRM_k0PinLswgvDy42tUp2tF7zsbyQmGXs-1763397164829-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a00a0332a0d90aa-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-17T16:32:44.753516", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/chat/completions \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-17T16:32:44.753653", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers([('date', 'Mon, 17 Nov 2025 16:32:44 GMT'), ('content-type', 'text/event-stream; charset=utf-8'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'user-hef6qdiz1bsjendvhiay1uww'), ('openai-processing-ms', '528'), ('openai-project', 'proj_fFIktXLPrLlENFXwWG5Of7EI'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '543'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '200000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '198636'), ('x-ratelimit-reset-requests', '8.64s'), ('x-ratelimit-reset-tokens', '409ms'), ('x-request-id', 'req_f60c4c01d7c04f6e9828fedfa52c7d53'), ('x-openai-proxy-wasm', 'v0.1'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=6TYbc9_BfQ_aZXi37yfeN5eQdRYIpWnGJToNyrSjP5w-1763397164-1.0.1.1-toD3nX5GZI33.CUWzKp9PrVoUYFfEjM.rZRX.R4Z.FtpBrRCVcS84OMEyRY76Pw6DXgGFi3Nh9gaPT0hOahH6ZZ.5Zxyszgy_m6upsOKFEc; path=/; expires=Mon, 17-Nov-25 17:02:44 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=CuZbP8hdkBRM_k0PinLswgvDy42tUp2tF7zsbyQmGXs-1763397164829-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '9a00a0332a0d90aa-KHI'), ('alt-svc', 'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-17T16:32:44.753920", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_f60c4c01d7c04f6e9828fedfa52c7d53"}
{"timestamp": "2025-11-17T16:32:44.754125", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:32:45.010176", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream', 'X-Stainless-Raw-Response': 'stream'}, 'timeout': Timeout(connect=10.0, read=30, write=30, pool=30), 'files': None, 'idempotency_key': 'stainless-python-retry-999afe4d-8411-4c48-9521-b226be1637a8', 'json_data': {'input': 'Good evening, Abdul Basit!', 'model': 'gpt-4o-mini-tts', 'voice': 'alloy', 'response_format': 'mp3', 'speed': 1.0}}"}
{"timestamp": "2025-11-17T16:32:45.010715", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/audio/speech"}
{"timestamp": "2025-11-17T16:32:45.011091", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=10.0 socket_options=None"}
{"timestamp": "2025-11-17T16:32:45.018523", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'Date', b'Mon, 17 Nov 2025 16:32:45 GMT'), (b'Content-Type', b'text/html'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=AVBhaLumzL5V6HfXvdj0sdQPlCk2bJ6Qc5XKtcXoe2I-1763397165-1.0.1.1-Ak.jxs8DLu6Bedn5aF3iI4BPB7ZfwCYF5jqvXUJHTXQOx1j.cjyIfiQ5PtXmooyi1q4s4eCWQ.Pmw4EjQ4S7coZK.PtFlWxQ3Qpqkt1HA9A; path=/; expires=Mon, 17-Nov-25 17:02:45 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=F9uvT9mBlGiw_xRsa6E.gNNXdGYzXYloN1jSPnig8Vs-1763397165141-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a00a0332cd3c976-KHI'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-17T16:32:45.019113", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET https://api.openai.com/v1/ \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-11-17T16:32:45.019310", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'GET']>"}
{"timestamp": "2025-11-17T16:32:45.019548", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete"}
{"timestamp": "2025-11-17T16:32:45.019660", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-17T16:32:45.019791", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-17T16:32:45.020012", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: GET https://api.openai.com/v1/ \"404 Not Found\" Headers([('date', 'Mon, 17 Nov 2025 16:32:45 GMT'), ('content-type', 'text/html'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=AVBhaLumzL5V6HfXvdj0sdQPlCk2bJ6Qc5XKtcXoe2I-1763397165-1.0.1.1-Ak.jxs8DLu6Bedn5aF3iI4BPB7ZfwCYF5jqvXUJHTXQOx1j.cjyIfiQ5PtXmooyi1q4s4eCWQ.Pmw4EjQ4S7coZK.PtFlWxQ3Qpqkt1HA9A; path=/; expires=Mon, 17-Nov-25 17:02:45 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=F9uvT9mBlGiw_xRsa6E.gNNXdGYzXYloN1jSPnig8Vs-1763397165141-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '9a00a0332cd3c976-KHI'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-17T16:32:45.020226", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: None"}
{"timestamp": "2025-11-17T16:32:45.020331", "level": "DEBUG", "logger": "openai._base_client", "message": "Encountered httpx.HTTPStatusError", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/openai/_base_client.py\", line 1574, in request\n    response.raise_for_status()\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/httpx/_models.py\", line 829, in raise_for_status\n    raise HTTPStatusError(message, request=request, response=self)\nhttpx.HTTPStatusError: Client error '404 Not Found' for url 'https://api.openai.com/v1/'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404"}
{"timestamp": "2025-11-17T16:32:45.024626", "level": "DEBUG", "logger": "openai._base_client", "message": "Re-raising status error"}
{"timestamp": "2025-11-17T16:32:45.072730", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udd0c Redis Connected: True"}
{"timestamp": "2025-11-17T16:32:45.073398", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Incoming call from: sip_+17194515279"}
{"timestamp": "2025-11-17T16:32:45.074534", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Caller Phone Detected (normalized): 17194515279"}
{"timestamp": "2025-11-17T16:32:45.074644", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udd0c Redis Connected: True"}
{"timestamp": "2025-11-17T16:32:45.074799", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Incoming call from: sip_+17194515279"}
{"timestamp": "2025-11-17T16:32:45.074873", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Caller Phone Detected (normalized): 17194515279"}
{"timestamp": "2025-11-17T16:32:45.075285", "level": "INFO", "logger": "telephony-agent", "message": "[Memory] \ud83e\udde0 Preloaded name from profile: Abdul Basit"}
{"timestamp": "2025-11-17T16:32:45.075376", "level": "INFO", "logger": "telephony-agent", "message": "[Memory] \ud83c\udd95 New SessionContext: BookingContext(name='Abdul Basit', phone='17194515279', date=None, time=None, suggested_slots=None, stage='start', status='Pending', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, created_at='2025-11-17T16:32:45.074630')"}
{"timestamp": "2025-11-17T16:32:45.075412", "level": "INFO", "logger": "telephony-agent", "message": "[Memory] \ud83e\udde0 Preloaded name from profile: Abdul Basit"}
{"timestamp": "2025-11-17T16:32:45.079654", "level": "INFO", "logger": "telephony-agent", "message": "[Memory] \ud83c\udd95 New SessionContext: BookingContext(name='Abdul Basit', phone='17194515279', date=None, time=None, suggested_slots=None, stage='start', status='Pending', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, created_at='2025-11-17T16:32:45.074630')"}
{"timestamp": "2025-11-17T16:32:45.091756", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-17T16:32:45.092192", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-17T16:32:45.093555", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CcwRg1Oi5ICmZrpljr2EQEI0PLpSY', 'timestamp': 1763397165.092942, 'duration': 1.4578563749964815, 'ttft': 1.1586010000028182, 'cancelled': False, 'completion_tokens': 15, 'prompt_tokens': 1328, 'prompt_cached_tokens': 0, 'total_tokens': 1343, 'tokens_per_second': 10.289079402651172, 'speech_id': 'speech_b538581206ce', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:32:45.093940", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CcwRg1Oi5ICmZrpljr2EQEI0PLpSY', 'timestamp': 1763397165.092942, 'duration': 1.4578563749964815, 'ttft': 1.1586010000028182, 'cancelled': False, 'completion_tokens': 15, 'prompt_tokens': 1328, 'prompt_cached_tokens': 0, 'total_tokens': 1343, 'tokens_per_second': 10.289079402651172, 'speech_id': 'speech_b538581206ce', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:32:45.094572", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.failed exception=GeneratorExit()"}
{"timestamp": "2025-11-17T16:32:45.141783", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x12b94f690>"}
{"timestamp": "2025-11-17T16:32:45.141939", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x12b9240e0> server_hostname='api.openai.com' timeout=10.0"}
{"timestamp": "2025-11-17T16:32:45.286581", "level": "DEBUG", "logger": "livekit.agents", "message": "input stream attached"}
{"timestamp": "2025-11-17T16:32:45.293594", "level": "DEBUG", "logger": "livekit.agents", "message": "http_session(): creating a new httpclient ctx"}
{"timestamp": "2025-11-17T16:32:45.304202", "level": "DEBUG", "logger": "livekit.agents", "message": "start reading stream"}
{"timestamp": "2025-11-17T16:32:45.306986", "level": "DEBUG", "logger": "livekit.agents", "message": "using audio io: `RoomIO` -> `AgentSession` -> `TranscriptSynchronizer` -> `RoomIO`"}
{"timestamp": "2025-11-17T16:32:45.307179", "level": "DEBUG", "logger": "livekit.agents", "message": "using transcript io: `AgentSession` -> `TranscriptSynchronizer` -> `RoomIO`"}
{"timestamp": "2025-11-17T16:32:45.357683", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x12b94f150>"}
{"timestamp": "2025-11-17T16:32:45.357957", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:32:45.358232", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-17T16:32:45.358325", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:32:45.358528", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-17T16:32:45.358630", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:32:45.418946", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'get', 'url': '/'}"}
{"timestamp": "2025-11-17T16:32:45.419567", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: GET https://api.openai.com/v1/"}
{"timestamp": "2025-11-17T16:32:45.422625", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'timeout': Timeout(timeout=10.0), 'files': None, 'idempotency_key': 'stainless-python-retry-f70f645f-d91d-4d87-abc8-34a0f9c56a7e', 'json_data': {'messages': [{'role': 'system', 'content': \"\\n        You are **Shifa Clinic\u2019s AI Receptionist**, answering calls in real time.\\n            Your role is to help callers with booking, confirming, or rescheduling appointments.\\n            Speak naturally, briefly, and professionally\u2014like an experienced clinic receptionist.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CORE BEHAVIOR\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            1. **Every call is fresh.**  \\n            Do not rely on previous session context. Use only:\\n            - caller name (if known)\\n            - caller phone (if known)\\n            - information spoken in THIS call\\n            \\n\\n            2. **One task at a time.**  \\n            Every reply must:\\n            - confirm the last thing the caller said\\n            - take one small step forward (ask ONE question)\\n            - be under **8 words**\\n                Always respond in under 8 words. Prioritize immediate tool calls. Do not speak long sentences.\\n\\n            3. **Never expose internal logic.**  \\n            Never say:\\n            - \u201ccalling a tool\u2026\u201d\\n            - \u201csaving memory\u2026\u201d\\n            - \u201cI detected your name\u2026\u201d\\n            - \u201cupdating the appointment\u2026\u201d\\n\\n            4. **Always stay polite, warm, and concise.**\\n            Examples:\\n            - \u201cSure, one moment.\u201d\\n            - \u201cGot it.\u201d\\n            - \u201cLet me check that.\u201d\\n\\n            5. **If caller seems confused, repeat slowly and simply.**\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### TOOL CALLING RULES\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            Use tools to perform actions.  \\n            After calling a tool, speak a short natural confirmation.\\n\\n            **Tools you may call:**\\n            - `save_name(name)`\\n            - `save_phone(phone)`\\n            - `available_slot()`\\n            - `booking_appointment()`\\n            - `get_date()`\\n            - `update_caller_profile(name?, phone?)`\\n            - `start_reschedule()`\\n            - `confirm_reschedule()`\\n            - `end_call()`\\n\\n            Tool usage guidelines:\\n            - Call **save_name** immediately when you hear a name.\\n            - Call **save_phone** when digits are spoken.  \\n            If partial, ask: \u201cCan you repeat that number slowly?\u201d\\n            - Call **available_slot** when caller expresses a time preference (morning, evening, 3pm, etc.)\\n            - Call **get_date** when caller gives a vague date (\u201cnext Monday\u201d).\\n            - Call **booking_appointment** only when BOTH date and time are known.\\n            - Call **update_caller_profile** if caller corrects name or phone.\\n            - After a booking or reschedule completes, ask:  \\n            \u201cAnything else I can help with?\u201d  \\n            If caller says \u201cno\u201d, use `end_call()`.\\n            If the phone number is unclear or has extra/missing digits, ask the caller to repeat it digit by digit.\\n                Do not guess phone numbers.\\n                Always confirm the final number by repeating it back.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESCHEDULE FLOW\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            When the caller says anything like \u201cchange\u201d, \u201cmove\u201d, \u201creschedule\u201d, \u201cshift\u201d:\\n            1. Call **start_reschedule**.\\n            2. Ask for the new date.\\n            3. Once date \u2192 ask for time.\\n            4. When BOTH are known \u2192 call **confirm_reschedule**.\\n            5. After confirmation \u2192 ask:  \\n            \u201cAnything else I can help with?\u201d\\n\\n            Never call `confirm_reschedule` early.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CONVERSATION STYLE\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Speak like a calm clinic receptionist.\\n            - Use short sentences.  \\n            - One question per turn.  \\n            - No filler like \u201cas an AI\u201d.  \\n            - No medical advice.  \\n            - Don't ask for information you already have.\\n\\n            **Good examples:**\\n            - \u201cSure. What day works for you?\u201d\\n            - \u201cGot it. And what time?\u201d\\n            - \u201cPerfect. One moment while I check.\u201d\\n\\n            **Bad examples:**\\n            - \u201cLet me call a tool.\u201d\\n            - \u201cProcessing your request.\u201d\\n            - \u201cI am updating your appointment in the database.\u201d\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESPONSE CONTROL\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Never output long paragraphs.  \\n            - Never output lists or explanations.  \\n            - Keep responses conversational and human.  \\n            - If caller pauses 5 seconds, use `end_call()`.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### ROLE REMINDER\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            You are the first point of contact for Shifa Clinic.  \\n            Be warm. Be efficient. Be human.\\n\\n            Now handle the caller.\\n\\n\\nGood evening! Hi Abdul Basit, how can I help you today?\"}], 'model': 'gpt-4o-mini', 'stream': True, 'stream_options': {'include_usage': True}, 'temperature': 0.7, 'tools': [{'type': 'function', 'function': {'name': 'save_name', 'strict': True, 'description': '', 'parameters': {'properties': {'name': {'type': 'string'}}, 'required': ['name'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'save_phone', 'strict': True, 'description': 'Store validated patient phone in Redis using existing BookingBase validator.', 'parameters': {'properties': {'phone': {'type': 'string'}}, 'required': ['phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'available_slot', 'strict': True, 'description': 'Suggest available appointment slots for a given day.\\n- Understands natural language (\"tomorrow\", \"morning\", \"after 2pm\")\\n- Always fetches fresh availability from DB.\\n- Returns top 3 free slots.\\n- Stores them in ctx.suggested_slots for booking_appointment.', 'parameters': {'properties': {'day': {'type': 'string'}, 'date': {'type': 'string'}, 'time': {'type': 'string'}}, 'required': ['day', 'date', 'time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'booking_appointment', 'strict': True, 'description': 'Create or reschedule an appointment.\\nClean, predictable, AI-friendly logic.\\nUses helper functions for DB safety.', 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'get_date', 'strict': True, 'description': 'Return system date and time.', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'end_call', 'strict': True, 'description': \"Gracefully end the call after confirming there's nothing else needed.\\nDoes not clear Redis; short-term memory expires via TTL.\", 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'update_caller_profile', 'strict': True, 'description': 'Persist caller profile (name/phone) for future calls without disrupting session.\\nIf phone not provided, uses current session phone if available.', 'parameters': {'properties': {'name': {'type': ['string', 'null']}, 'phone': {'type': ['string', 'null']}}, 'required': ['name', 'phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'start_reschedule', 'strict': True, 'description': '', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'confirm_reschedule', 'strict': True, 'description': \"Confirm and perform rescheduling to the selected date/time.\\nUse after start_reschedule + available_slot when the caller says 'yes'.\", 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}]}}"}
{"timestamp": "2025-11-17T16:32:45.425177", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions"}
{"timestamp": "2025-11-17T16:32:45.425503", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=15.0 socket_options=None"}
{"timestamp": "2025-11-17T16:32:45.425720", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=10.0 socket_options=None"}
{"timestamp": "2025-11-17T16:32:45.482673", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x12427ed10>"}
{"timestamp": "2025-11-17T16:32:45.484179", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x123b28050> server_hostname='api.openai.com' timeout=15.0"}
{"timestamp": "2025-11-17T16:32:45.509621", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x122b14290>"}
{"timestamp": "2025-11-17T16:32:45.510362", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'GET']>"}
{"timestamp": "2025-11-17T16:32:45.511337", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-17T16:32:45.511729", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'GET']>"}
{"timestamp": "2025-11-17T16:32:45.512112", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-17T16:32:45.512271", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'GET']>"}
{"timestamp": "2025-11-17T16:32:45.592993", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x122b3f910>"}
{"timestamp": "2025-11-17T16:32:45.593170", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x1234e7f50> server_hostname='api.openai.com' timeout=10.0"}
{"timestamp": "2025-11-17T16:32:45.645761", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397165.64558, 'idle_time': 2.0352794589998666, 'inference_duration_total': 0.021677834913134575, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:45.647947", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397165.64558, 'idle_time': 2.0352794589998666, 'inference_duration_total': 0.021677834913134575, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:45.737106", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x123551250>"}
{"timestamp": "2025-11-17T16:32:45.737491", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:32:45.737787", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-17T16:32:45.737859", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:32:45.738047", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-17T16:32:45.738106", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:32:46.270272", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'Date', b'Mon, 17 Nov 2025 16:32:46 GMT'), (b'Content-Type', b'text/html'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=Tw2D5HAbVHT.HjDs4qVUdizU6ZJiw7CoifdRa3diAOw-1763397166-1.0.1.1-ekt31NO09sWcmfviouIKGaG9H92EhKPn3Zw0.vkC8_YXiCZpjNjky9RMVzGAyD1JsIlyXoNGZ0YvTsOs6mMlDl9do4pnAdBnVF8qv6K8ROE; path=/; expires=Mon, 17-Nov-25 17:02:46 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=mWlXX4_lcz3NYx8SrdNEDZFB2MuFPT01YfjXydV9bW4-1763397166393-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a00a03d488990aa-KHI'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-17T16:32:46.271405", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET https://api.openai.com/v1/ \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-11-17T16:32:46.271583", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'GET']>"}
{"timestamp": "2025-11-17T16:32:46.271815", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete"}
{"timestamp": "2025-11-17T16:32:46.271913", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-17T16:32:46.272056", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-17T16:32:46.272481", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: GET https://api.openai.com/v1/ \"404 Not Found\" Headers([('date', 'Mon, 17 Nov 2025 16:32:46 GMT'), ('content-type', 'text/html'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=Tw2D5HAbVHT.HjDs4qVUdizU6ZJiw7CoifdRa3diAOw-1763397166-1.0.1.1-ekt31NO09sWcmfviouIKGaG9H92EhKPn3Zw0.vkC8_YXiCZpjNjky9RMVzGAyD1JsIlyXoNGZ0YvTsOs6mMlDl9do4pnAdBnVF8qv6K8ROE; path=/; expires=Mon, 17-Nov-25 17:02:46 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=mWlXX4_lcz3NYx8SrdNEDZFB2MuFPT01YfjXydV9bW4-1763397166393-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '9a00a03d488990aa-KHI'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-17T16:32:46.272710", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: None"}
{"timestamp": "2025-11-17T16:32:46.272801", "level": "DEBUG", "logger": "openai._base_client", "message": "Encountered httpx.HTTPStatusError", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/openai/_base_client.py\", line 1574, in request\n    response.raise_for_status()\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/httpx/_models.py\", line 829, in raise_for_status\n    raise HTTPStatusError(message, request=request, response=self)\nhttpx.HTTPStatusError: Client error '404 Not Found' for url 'https://api.openai.com/v1/'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404"}
{"timestamp": "2025-11-17T16:32:46.274324", "level": "DEBUG", "logger": "openai._base_client", "message": "Re-raising status error"}
{"timestamp": "2025-11-17T16:32:46.336112", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397166.33469, 'idle_time': 1.0387925000104588, 'inference_duration_total': 0.021889209165237844, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:46.336337", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397166.33469, 'idle_time': 1.0387925000104588, 'inference_duration_total': 0.021889209165237844, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:46.416794", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 17 Nov 2025 16:32:46 GMT'), (b'Content-Type', b'audio/mpeg'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'482'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'584'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9998'), (b'x-ratelimit-remaining-tokens', b'199994'), (b'x-ratelimit-reset-requests', b'15.66s'), (b'x-ratelimit-reset-tokens', b'1ms'), (b'x-request-id', b'req_eabc284302ed470397962062afa927b2'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=V5hXygu44ieqG22gUjrrspL.0hYp12RiBbKniTNcUJU-1763397166-1.0.1.1-nJvldxMqTaOZ.zWnMnC4xNCu6PlS8fQUGh1LUvQdCSeG4_6TQiRyntyVplh81CpwQspdSOtt4mrbtE9I4bttd1PF6a7fWRPzMXJSlIEOGk4; path=/; expires=Mon, 17-Nov-25 17:02:46 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=wOzxrnjAwuVKXjjvB2TTAV1IzelzU0Zb4utn64dS4c4-1763397166339-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a00a03cace185c1-HKG'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-17T16:32:46.417338", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/audio/speech \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-17T16:32:46.417463", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/audio/speech \"200 OK\" Headers([('date', 'Mon, 17 Nov 2025 16:32:46 GMT'), ('content-type', 'audio/mpeg'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'user-hef6qdiz1bsjendvhiay1uww'), ('openai-processing-ms', '482'), ('openai-project', 'proj_fFIktXLPrLlENFXwWG5Of7EI'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '584'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '200000'), ('x-ratelimit-remaining-requests', '9998'), ('x-ratelimit-remaining-tokens', '199994'), ('x-ratelimit-reset-requests', '15.66s'), ('x-ratelimit-reset-tokens', '1ms'), ('x-request-id', 'req_eabc284302ed470397962062afa927b2'), ('x-openai-proxy-wasm', 'v0.1'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=V5hXygu44ieqG22gUjrrspL.0hYp12RiBbKniTNcUJU-1763397166-1.0.1.1-nJvldxMqTaOZ.zWnMnC4xNCu6PlS8fQUGh1LUvQdCSeG4_6TQiRyntyVplh81CpwQspdSOtt4mrbtE9I4bttd1PF6a7fWRPzMXJSlIEOGk4; path=/; expires=Mon, 17-Nov-25 17:02:46 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=wOzxrnjAwuVKXjjvB2TTAV1IzelzU0Zb4utn64dS4c4-1763397166339-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '9a00a03cace185c1-HKG'), ('alt-svc', 'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-17T16:32:46.417731", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_eabc284302ed470397962062afa927b2"}
{"timestamp": "2025-11-17T16:32:46.417955", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:32:46.694769", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397166.69453, 'idle_time': 3.084225167025579, 'inference_duration_total': 0.014779497985728085, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:46.695269", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397166.69453, 'idle_time': 3.084225167025579, 'inference_duration_total': 0.014779497985728085, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:46.923981", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete"}
{"timestamp": "2025-11-17T16:32:46.924384", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-17T16:32:46.924664", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-17T16:32:46.925001", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 17 Nov 2025 16:32:46 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'403'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'589'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9998'), (b'x-ratelimit-remaining-tokens', b'198636'), (b'x-ratelimit-reset-requests', b'15.135s'), (b'x-ratelimit-reset-tokens', b'409ms'), (b'x-request-id', b'req_f80d6a5577e546d49f634eb3787b2286'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=1LdemNoRqxnbsy3J_2Ox.xDYnBOLruxXtac7Q..9XiA-1763397166-1.0.1.1-wS_QGoeUTvCTvIdJ8lSKZjvvdRKC1d1nk.LhIGsiuU2Hn1.OgVbHxTSmHp80JVMya5WQTqiZoX0W.JSWy2fOAq2pDDrlEhzZO4eemS.rfwc; path=/; expires=Mon, 17-Nov-25 17:02:46 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=x3AG9xA8stiRPB3EOvBA5gpwjHAnM63KAF2aUEzQLjI-1763397166805-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a00a03f4c8c85a3-HKG'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-17T16:32:46.925588", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/chat/completions \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-17T16:32:46.925800", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers([('date', 'Mon, 17 Nov 2025 16:32:46 GMT'), ('content-type', 'text/event-stream; charset=utf-8'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'user-hef6qdiz1bsjendvhiay1uww'), ('openai-processing-ms', '403'), ('openai-project', 'proj_fFIktXLPrLlENFXwWG5Of7EI'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '589'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '200000'), ('x-ratelimit-remaining-requests', '9998'), ('x-ratelimit-remaining-tokens', '198636'), ('x-ratelimit-reset-requests', '15.135s'), ('x-ratelimit-reset-tokens', '409ms'), ('x-request-id', 'req_f80d6a5577e546d49f634eb3787b2286'), ('x-openai-proxy-wasm', 'v0.1'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=1LdemNoRqxnbsy3J_2Ox.xDYnBOLruxXtac7Q..9XiA-1763397166-1.0.1.1-wS_QGoeUTvCTvIdJ8lSKZjvvdRKC1d1nk.LhIGsiuU2Hn1.OgVbHxTSmHp80JVMya5WQTqiZoX0W.JSWy2fOAq2pDDrlEhzZO4eemS.rfwc; path=/; expires=Mon, 17-Nov-25 17:02:46 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=x3AG9xA8stiRPB3EOvBA5gpwjHAnM63KAF2aUEzQLjI-1763397166805-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '9a00a03f4c8c85a3-HKG'), ('alt-svc', 'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-17T16:32:46.926270", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_f80d6a5577e546d49f634eb3787b2286"}
{"timestamp": "2025-11-17T16:32:46.926576", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:32:46.928386", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_eabc284302ed470397962062afa927b2', 'timestamp': 1763397166.92768, 'ttfb': 1.6121920839941595, 'duration': 1.918592499976512, 'audio_duration': 1.882, 'cancelled': False, 'characters_count': 26, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_b538581206ce', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:32:46.928645", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_eabc284302ed470397962062afa927b2', 'timestamp': 1763397166.92768, 'ttfb': 1.6121920839941595, 'duration': 1.918592499976512, 'audio_duration': 1.882, 'cancelled': False, 'characters_count': 26, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_b538581206ce', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:32:46.929688", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream', 'X-Stainless-Raw-Response': 'stream'}, 'timeout': Timeout(connect=10.0, read=30, write=30, pool=30), 'files': None, 'idempotency_key': 'stainless-python-retry-f4bb9505-c23d-4370-b87c-3017c0e87f90', 'json_data': {'input': 'How can I assist you today?', 'model': 'gpt-4o-mini-tts', 'voice': 'alloy', 'response_format': 'mp3', 'speed': 1.0}}"}
{"timestamp": "2025-11-17T16:32:46.930321", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/audio/speech"}
{"timestamp": "2025-11-17T16:32:46.931057", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:32:46.931470", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-17T16:32:46.931541", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:32:46.931724", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-17T16:32:46.931831", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:32:47.177711", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream', 'X-Stainless-Raw-Response': 'stream'}, 'timeout': Timeout(connect=10.0, read=30, write=30, pool=30), 'files': None, 'idempotency_key': 'stainless-python-retry-da981b94-4601-44e3-b384-7473a41f7d54', 'json_data': {'input': 'Good evening, Abdul Basit!', 'model': 'gpt-4o-mini-tts', 'voice': 'alloy', 'response_format': 'mp3', 'speed': 1.0}}"}
{"timestamp": "2025-11-17T16:32:47.178276", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/audio/speech"}
{"timestamp": "2025-11-17T16:32:47.180558", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:32:47.182243", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-17T16:32:47.182305", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:32:47.182514", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-17T16:32:47.183159", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:32:47.245887", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-17T16:32:47.249276", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-17T16:32:47.249969", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CcwRiZGFD8bpVPpXMLCBGiChDS4tx', 'timestamp': 1763397167.249623, 'duration': 1.9376251669891644, 'ttft': 1.6542289170029107, 'cancelled': False, 'completion_tokens': 15, 'prompt_tokens': 1328, 'prompt_cached_tokens': 1280, 'total_tokens': 1343, 'tokens_per_second': 7.741435369209303, 'speech_id': 'speech_a221933d4cf3', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:32:47.250405", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CcwRiZGFD8bpVPpXMLCBGiChDS4tx', 'timestamp': 1763397167.249623, 'duration': 1.9376251669891644, 'ttft': 1.6542289170029107, 'cancelled': False, 'completion_tokens': 15, 'prompt_tokens': 1328, 'prompt_cached_tokens': 1280, 'total_tokens': 1343, 'tokens_per_second': 7.741435369209303, 'speech_id': 'speech_a221933d4cf3', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:32:47.250794", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.failed exception=GeneratorExit()"}
{"timestamp": "2025-11-17T16:32:47.335376", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397167.335192, 'idle_time': 2.0392904590116814, 'inference_duration_total': 0.018018711038166657, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:47.335931", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397167.335192, 'idle_time': 2.0392904590116814, 'inference_duration_total': 0.018018711038166657, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:47.696484", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397167.695819, 'idle_time': 4.085510292003164, 'inference_duration_total': 0.02114483594777994, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:47.697168", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397167.695819, 'idle_time': 4.085510292003164, 'inference_duration_total': 0.02114483594777994, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:48.159146", "level": "INFO", "logger": "livekit.agents", "message": "closing agent session due to participant disconnect (disable via `RoomInputOptions.close_on_disconnect=False`)"}
{"timestamp": "2025-11-17T16:32:48.159645", "level": "DEBUG", "logger": "livekit.agents", "message": "stream closed"}
{"timestamp": "2025-11-17T16:32:48.159677", "level": "INFO", "logger": "livekit.agents", "message": "closing agent session due to participant disconnect (disable via `RoomInputOptions.close_on_disconnect=False`)"}
{"timestamp": "2025-11-17T16:32:48.162253", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.failed exception=CancelledError()"}
{"timestamp": "2025-11-17T16:32:48.162398", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-17T16:32:48.163134", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-17T16:32:48.164399", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': '', 'timestamp': 1763397168.163441, 'ttfb': -1.0, 'duration': 0.9863976249762345, 'audio_duration': 0.0, 'cancelled': True, 'characters_count': 26, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_a221933d4cf3', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:32:48.165057", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': '', 'timestamp': 1763397168.163441, 'ttfb': -1.0, 'duration': 0.9863976249762345, 'audio_duration': 0.0, 'cancelled': True, 'characters_count': 26, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_a221933d4cf3', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:32:48.167989", "level": "DEBUG", "logger": "livekit.agents", "message": "input stream detached"}
{"timestamp": "2025-11-17T16:32:48.435671", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 17 Nov 2025 16:32:48 GMT'), (b'Content-Type', b'audio/mpeg'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'578'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'742'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9996'), (b'x-ratelimit-remaining-tokens', b'199994'), (b'x-ratelimit-reset-requests', b'31.26s'), (b'x-ratelimit-reset-tokens', b'1ms'), (b'x-request-id', b'req_1d139402d7de4c10a6a95dfd4d1ad0a1'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a00a0465aa9c976-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-17T16:32:48.436765", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/audio/speech \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-17T16:32:48.437000", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/audio/speech \"200 OK\" Headers({'date': 'Mon, 17 Nov 2025 16:32:48 GMT', 'content-type': 'audio/mpeg', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '578', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '742', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9996', 'x-ratelimit-remaining-tokens': '199994', 'x-ratelimit-reset-requests': '31.26s', 'x-ratelimit-reset-tokens': '1ms', 'x-request-id': 'req_1d139402d7de4c10a6a95dfd4d1ad0a1', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a00a0465aa9c976-KHI', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-17T16:32:48.437342", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_1d139402d7de4c10a6a95dfd4d1ad0a1"}
{"timestamp": "2025-11-17T16:32:48.438383", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:32:48.441338", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete"}
{"timestamp": "2025-11-17T16:32:48.441653", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-17T16:32:48.441989", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-17T16:32:48.469817", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_1d139402d7de4c10a6a95dfd4d1ad0a1', 'timestamp': 1763397168.469632, 'ttfb': 1.5188335420098156, 'duration': 1.5403895839990582, 'audio_duration': 1.5939999999999999, 'cancelled': False, 'characters_count': 27, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_b538581206ce', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:32:48.470090", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_1d139402d7de4c10a6a95dfd4d1ad0a1', 'timestamp': 1763397168.469632, 'ttfb': 1.5188335420098156, 'duration': 1.5403895839990582, 'audio_duration': 1.5939999999999999, 'cancelled': False, 'characters_count': 27, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_b538581206ce', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:32:48.645674", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '14c66251-e123-4229-ba64-c946f7cf791e', 'timestamp': 1763397168.645354, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:32:48.647107", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '14c66251-e123-4229-ba64-c946f7cf791e', 'timestamp': 1763397168.645354, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:32:48.743384", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397168.7431931, 'idle_time': 5.13287975001731, 'inference_duration_total': 0.022184833942446858, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:48.743662", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397168.7431931, 'idle_time': 5.13287975001731, 'inference_duration_total': 0.022184833942446858, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:49.746978", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397169.74634, 'idle_time': 6.136023291997844, 'inference_duration_total': 0.02535578713286668, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:49.747944", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397169.74634, 'idle_time': 6.136023291997844, 'inference_duration_total': 0.02535578713286668, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:50.178154", "level": "DEBUG", "logger": "livekit.agents", "message": "session closed"}
{"timestamp": "2025-11-17T16:32:50.793828", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397170.793548, 'idle_time': 7.183227250003256, 'inference_duration_total': 0.02617366294725798, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:50.794316", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397170.793548, 'idle_time': 7.183227250003256, 'inference_duration_total': 0.02617366294725798, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:51.285003", "level": "DEBUG", "logger": "livekit", "message": "tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: \"\" })"}
{"timestamp": "2025-11-17T16:32:51.285630", "level": "DEBUG", "logger": "livekit.agents", "message": "shutting down job task"}
{"timestamp": "2025-11-17T16:32:51.286608", "level": "INFO", "logger": "livekit.agents", "message": "process exiting"}
{"timestamp": "2025-11-17T16:32:51.286994", "level": "DEBUG", "logger": "livekit", "message": "tungstenite::protocol:683:tungstenite::protocol - Replying to close with Frame { header: FrameHeader { is_final: true, rsv1: false, rsv2: false, rsv3: false, opcode: Control(Close), mask: None }, payload: [3, 232] }"}
{"timestamp": "2025-11-17T16:32:51.288482", "level": "INFO", "logger": "livekit", "message": "livekit::room:1400:livekit::room - disconnected from room with reason: RoomClosed"}
{"timestamp": "2025-11-17T16:32:51.289514", "level": "DEBUG", "logger": "livekit.agents", "message": "http_session(): closing the httpclient ctx"}
{"timestamp": "2025-11-17T16:32:51.792736", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397171.792489, 'idle_time': 8.18216399999801, 'inference_duration_total': 0.021804418007377535, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:51.796564", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397171.792489, 'idle_time': 8.18216399999801, 'inference_duration_total': 0.021804418007377535, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:52.846923", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397172.8463192, 'idle_time': 9.235990500019398, 'inference_duration_total': 0.027904330956516787, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:52.849333", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397172.8463192, 'idle_time': 9.235990500019398, 'inference_duration_total': 0.027904330956516787, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:53.645980", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '14c66251-e123-4229-ba64-c946f7cf791e', 'timestamp': 1763397173.645068, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:32:53.646935", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '14c66251-e123-4229-ba64-c946f7cf791e', 'timestamp': 1763397173.645068, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:32:53.846407", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397173.8458822, 'idle_time': 10.235548917000415, 'inference_duration_total': 0.03792437494848855, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:53.847125", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397173.8458822, 'idle_time': 10.235548917000415, 'inference_duration_total': 0.03792437494848855, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:54.894193", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397174.8938859, 'idle_time': 11.283548709005117, 'inference_duration_total': 0.025238206988433376, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:54.894862", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397174.8938859, 'idle_time': 11.283548709005117, 'inference_duration_total': 0.025238206988433376, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:55.894263", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397175.8940742, 'idle_time': 12.283733459014911, 'inference_duration_total': 0.02660879195900634, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:55.894583", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397175.8940742, 'idle_time': 12.283733459014911, 'inference_duration_total': 0.02660879195900634, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:56.944342", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397176.944035, 'idle_time': 13.33369004202541, 'inference_duration_total': 0.01888887700624764, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:56.944944", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397176.944035, 'idle_time': 13.33369004202541, 'inference_duration_total': 0.01888887700624764, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:57.943471", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397177.943233, 'idle_time': 14.332883791998029, 'inference_duration_total': 0.024924669036408886, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:57.944832", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397177.943233, 'idle_time': 14.332883791998029, 'inference_duration_total': 0.024924669036408886, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:58.693123", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '14c66251-e123-4229-ba64-c946f7cf791e', 'timestamp': 1763397178.692951, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:32:58.693417", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '14c66251-e123-4229-ba64-c946f7cf791e', 'timestamp': 1763397178.692951, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:32:58.993639", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397178.993471, 'idle_time': 15.383117999997921, 'inference_duration_total': 0.015576084930216894, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:58.994008", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397178.993471, 'idle_time': 15.383117999997921, 'inference_duration_total': 0.015576084930216894, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:59.993982", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397179.993789, 'idle_time': 16.383431875001406, 'inference_duration_total': 0.016395546146668494, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:32:59.994296", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397179.993789, 'idle_time': 16.383431875001406, 'inference_duration_total': 0.016395546146668494, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:33:01.047116", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397181.045891, 'idle_time': 17.435530292015756, 'inference_duration_total': 0.019344123982591555, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:33:01.047868", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397181.045891, 'idle_time': 17.435530292015756, 'inference_duration_total': 0.019344123982591555, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:33:02.044170", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397182.043978, 'idle_time': 18.433612749999156, 'inference_duration_total': 0.02945683297002688, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:33:02.045051", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397182.043978, 'idle_time': 18.433612749999156, 'inference_duration_total': 0.02945683297002688, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:33:03.096471", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397183.0959492, 'idle_time': 19.48558087501442, 'inference_duration_total': 0.01938291799160652, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:33:03.097296", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397183.0959492, 'idle_time': 19.48558087501442, 'inference_duration_total': 0.01938291799160652, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:33:03.693793", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '14c66251-e123-4229-ba64-c946f7cf791e', 'timestamp': 1763397183.6934779, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:33:03.694465", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '14c66251-e123-4229-ba64-c946f7cf791e', 'timestamp': 1763397183.6934779, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:33:04.097135", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397184.0965078, 'idle_time': 20.48613541701343, 'inference_duration_total': 0.02416429406730458, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:33:04.097942", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397184.0965078, 'idle_time': 20.48613541701343, 'inference_duration_total': 0.02416429406730458, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:33:05.147062", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397185.146446, 'idle_time': 21.53606954202405, 'inference_duration_total': 0.0222254139080178, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:33:05.149324", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397185.146446, 'idle_time': 21.53606954202405, 'inference_duration_total': 0.0222254139080178, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:33:06.146215", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397186.145257, 'idle_time': 22.534876084013376, 'inference_duration_total': 0.036675000068498775, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:33:06.147325", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397186.145257, 'idle_time': 22.534876084013376, 'inference_duration_total': 0.036675000068498775, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:33:07.194084", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397187.1938, 'idle_time': 23.583414875000017, 'inference_duration_total': 0.019108913984382525, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:33:07.195010", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397187.1938, 'idle_time': 23.583414875000017, 'inference_duration_total': 0.019108913984382525, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:33:08.193838", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397188.1936152, 'idle_time': 24.583226250018924, 'inference_duration_total': 0.019889044080628082, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:33:08.194204", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397188.1936152, 'idle_time': 24.583226250018924, 'inference_duration_total': 0.019889044080628082, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:33:08.743581", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '14c66251-e123-4229-ba64-c946f7cf791e', 'timestamp': 1763397188.743281, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:33:08.745077", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '14c66251-e123-4229-ba64-c946f7cf791e', 'timestamp': 1763397188.743281, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:33:09.242863", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397189.242529, 'idle_time': 25.63213608402293, 'inference_duration_total': 0.025186334940372035, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:33:09.243225", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397189.242529, 'idle_time': 25.63213608402293, 'inference_duration_total': 0.025186334940372035, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:33:10.245182", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397190.244609, 'idle_time': 26.634212208999088, 'inference_duration_total': 0.02443466303520836, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:33:10.245977", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397190.244609, 'idle_time': 26.634212208999088, 'inference_duration_total': 0.02443466303520836, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:33:11.244700", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397191.244405, 'idle_time': 27.63400395901408, 'inference_duration_total': 0.01943266505259089, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:33:11.245253", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397191.244405, 'idle_time': 27.63400395901408, 'inference_duration_total': 0.01943266505259089, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:33:12.292542", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397192.292309, 'idle_time': 28.68190379202133, 'inference_duration_total': 0.022001668025041, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:33:12.292837", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397192.292309, 'idle_time': 28.68190379202133, 'inference_duration_total': 0.022001668025041, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:33:13.297491", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397193.2969038, 'idle_time': 29.68649479202577, 'inference_duration_total': 0.02263966403552331, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:33:13.299549", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397193.2969038, 'idle_time': 29.68649479202577, 'inference_duration_total': 0.02263966403552331, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:33:13.745690", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '14c66251-e123-4229-ba64-c946f7cf791e', 'timestamp': 1763397193.7451048, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:33:13.746413", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '14c66251-e123-4229-ba64-c946f7cf791e', 'timestamp': 1763397193.7451048, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:33:14.345390", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397194.344812, 'idle_time': 30.734399334003683, 'inference_duration_total': 0.029838830145308748, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:33:14.346144", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397194.344812, 'idle_time': 30.734399334003683, 'inference_duration_total': 0.029838830145308748, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:33:15.346342", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397195.345716, 'idle_time': 31.735298417013837, 'inference_duration_total': 0.02255658496869728, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:33:15.347077", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397195.345716, 'idle_time': 31.735298417013837, 'inference_duration_total': 0.02255658496869728, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:33:16.195471", "level": "DEBUG", "logger": "livekit", "message": "tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: \"\" })"}
{"timestamp": "2025-11-17T16:33:16.196780", "level": "DEBUG", "logger": "livekit", "message": "tungstenite::protocol:683:tungstenite::protocol - Replying to close with Frame { header: FrameHeader { is_final: true, rsv1: false, rsv2: false, rsv3: false, opcode: Control(Close), mask: None }, payload: [3, 232] }"}
{"timestamp": "2025-11-17T16:33:16.201897", "level": "DEBUG", "logger": "livekit.agents", "message": "shutting down job task"}
{"timestamp": "2025-11-17T16:33:16.203376", "level": "INFO", "logger": "livekit.agents", "message": "process exiting"}
{"timestamp": "2025-11-17T16:33:16.204793", "level": "INFO", "logger": "livekit", "message": "livekit::room:1400:livekit::room - disconnected from room with reason: RoomClosed"}
{"timestamp": "2025-11-17T16:33:16.206958", "level": "DEBUG", "logger": "livekit.agents", "message": "http_session(): closing the httpclient ctx"}
{"timestamp": "2025-11-17T16:33:16.393959", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397196.393725, 'idle_time': 32.78330383400316, 'inference_duration_total': 0.027848415047628805, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:33:16.394395", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397196.393725, 'idle_time': 32.78330383400316, 'inference_duration_total': 0.027848415047628805, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:33:17.393713", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397197.393557, 'idle_time': 33.78313208400505, 'inference_duration_total': 0.01994250397547148, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:33:17.396306", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397197.393557, 'idle_time': 33.78313208400505, 'inference_duration_total': 0.01994250397547148, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:33:17.462390", "level": "INFO", "logger": "livekit.agents", "message": "closing agent session due to participant disconnect (disable via `RoomInputOptions.close_on_disconnect=False`)"}
{"timestamp": "2025-11-17T16:33:17.463425", "level": "INFO", "logger": "livekit.agents", "message": "closing agent session due to participant disconnect (disable via `RoomInputOptions.close_on_disconnect=False`)"}
{"timestamp": "2025-11-17T16:33:17.463522", "level": "DEBUG", "logger": "livekit.agents", "message": "stream closed"}
{"timestamp": "2025-11-17T16:33:17.465142", "level": "DEBUG", "logger": "livekit.agents", "message": "input stream detached"}
{"timestamp": "2025-11-17T16:33:19.517505", "level": "DEBUG", "logger": "livekit.agents", "message": "session closed"}
{"timestamp": "2025-11-17T16:33:38.604967", "level": "DEBUG", "logger": "livekit", "message": "tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: \"\" })"}
{"timestamp": "2025-11-17T16:33:38.606737", "level": "DEBUG", "logger": "livekit.agents", "message": "shutting down job task"}
{"timestamp": "2025-11-17T16:33:38.607003", "level": "DEBUG", "logger": "livekit", "message": "tungstenite::protocol:683:tungstenite::protocol - Replying to close with Frame { header: FrameHeader { is_final: true, rsv1: false, rsv2: false, rsv3: false, opcode: Control(Close), mask: None }, payload: [3, 232] }"}
{"timestamp": "2025-11-17T16:33:38.608217", "level": "INFO", "logger": "livekit.agents", "message": "process exiting"}
{"timestamp": "2025-11-17T16:33:38.618542", "level": "INFO", "logger": "livekit", "message": "livekit::room:1400:livekit::room - disconnected from room with reason: RoomClosed"}
{"timestamp": "2025-11-17T16:33:38.619377", "level": "DEBUG", "logger": "livekit.agents", "message": "http_session(): closing the httpclient ctx"}
{"timestamp": "2025-11-17T16:33:48.815707", "level": "INFO", "logger": "livekit.agents", "message": "received job request"}
{"timestamp": "2025-11-17T16:33:49.045901", "level": "INFO", "logger": "livekit", "message": "livekit_ffi::server:139:livekit_ffi::server - initializing ffi server v0.12.39"}
{"timestamp": "2025-11-17T16:33:49.052601", "level": "INFO", "logger": "livekit", "message": "livekit_ffi::cabi:50:livekit_ffi::cabi - initializing ffi server v0.12.39"}
{"timestamp": "2025-11-17T16:33:49.069132", "level": "INFO", "logger": "livekit", "message": "livekit_api::signal_client::signal_stream:92:livekit_api::signal_client::signal_stream - connecting to wss://testing-mwtbjpwy.livekit.cloud/rtc?sdk=python&protocol=16&auto_subscribe=1&adaptive_stream=0&version=1.0.18"}
{"timestamp": "2025-11-17T16:33:49.084008", "level": "INFO", "logger": "livekit.agents", "message": "initializing process"}
{"timestamp": "2025-11-17T16:33:49.723211", "level": "DEBUG", "logger": "livekit", "message": "rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 153 valid and 0 invalid certs"}
{"timestamp": "2025-11-17T16:33:49.723445", "level": "DEBUG", "logger": "livekit", "message": "tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 153/153 native root certificates (ignored 0)"}
{"timestamp": "2025-11-17T16:33:49.723543", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::hs:73:rustls::client::hs - No cached session for DnsName(\"testing-mwtbjpwy.livekit.cloud\")"}
{"timestamp": "2025-11-17T16:33:49.723650", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::hs:132:rustls::client::hs - Not resuming any session"}
{"timestamp": "2025-11-17T16:33:49.893611", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256"}
{"timestamp": "2025-11-17T16:33:49.908397", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::tls13:142:rustls::client::tls13 - Not resuming"}
{"timestamp": "2025-11-17T16:33:49.908679", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []"}
{"timestamp": "2025-11-17T16:33:49.908781", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::hs:472:rustls::client::hs - ALPN protocol is None"}
{"timestamp": "2025-11-17T16:33:50.414779", "level": "DEBUG", "logger": "livekit", "message": "tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done."}
{"timestamp": "2025-11-17T16:33:50.985674", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-17T16:33:50.986166", "level": "INFO", "logger": "livekit.agents", "message": "process initialized"}
{"timestamp": "2025-11-17T16:33:53.949700", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udd0c Redis Connected: True"}
{"timestamp": "2025-11-17T16:33:53.951372", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udd0c Redis Connected: True"}
{"timestamp": "2025-11-17T16:33:53.952480", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Incoming call from: sip_+17194515279"}
{"timestamp": "2025-11-17T16:33:53.952819", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Caller Phone Detected (normalized): 17194515279"}
{"timestamp": "2025-11-17T16:33:53.952931", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Incoming call from: sip_+17194515279"}
{"timestamp": "2025-11-17T16:33:53.953556", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Caller Phone Detected (normalized): 17194515279"}
{"timestamp": "2025-11-17T16:33:53.956366", "level": "INFO", "logger": "telephony-agent", "message": "[Memory] \ud83e\udde0 Preloaded name from profile: Abdul Basit"}
{"timestamp": "2025-11-17T16:33:53.956745", "level": "INFO", "logger": "telephony-agent", "message": "[Memory] \ud83c\udd95 New SessionContext: BookingContext(name='Abdul Basit', phone='17194515279', date=None, time=None, suggested_slots=None, stage='start', status='Pending', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, created_at='2025-11-17T16:33:53.953197')"}
{"timestamp": "2025-11-17T16:33:53.956838", "level": "INFO", "logger": "telephony-agent", "message": "[Memory] \ud83e\udde0 Preloaded name from profile: Abdul Basit"}
{"timestamp": "2025-11-17T16:33:53.961417", "level": "INFO", "logger": "telephony-agent", "message": "[Memory] \ud83c\udd95 New SessionContext: BookingContext(name='Abdul Basit', phone='17194515279', date=None, time=None, suggested_slots=None, stage='start', status='Pending', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, created_at='2025-11-17T16:33:53.953197')"}
{"timestamp": "2025-11-17T16:33:54.207884", "level": "DEBUG", "logger": "livekit.agents", "message": "input stream attached"}
{"timestamp": "2025-11-17T16:33:54.217345", "level": "DEBUG", "logger": "livekit.agents", "message": "http_session(): creating a new httpclient ctx"}
{"timestamp": "2025-11-17T16:33:54.223559", "level": "DEBUG", "logger": "livekit.agents", "message": "start reading stream"}
{"timestamp": "2025-11-17T16:33:54.233052", "level": "DEBUG", "logger": "livekit.agents", "message": "using audio io: `RoomIO` -> `AgentSession` -> `TranscriptSynchronizer` -> `RoomIO`"}
{"timestamp": "2025-11-17T16:33:54.233238", "level": "DEBUG", "logger": "livekit.agents", "message": "using transcript io: `AgentSession` -> `TranscriptSynchronizer` -> `RoomIO`"}
{"timestamp": "2025-11-17T16:33:54.367448", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'get', 'url': '/'}"}
{"timestamp": "2025-11-17T16:33:54.368103", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: GET https://api.openai.com/v1/"}
{"timestamp": "2025-11-17T16:33:54.372319", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'timeout': Timeout(timeout=10.0), 'files': None, 'idempotency_key': 'stainless-python-retry-ec0ddff3-a2c9-40e3-ab8a-41bb0b963ae4', 'json_data': {'messages': [{'role': 'system', 'content': \"\\n        You are **Shifa Clinic\u2019s AI Receptionist**, answering calls in real time.\\n            Your role is to help callers with booking, confirming, or rescheduling appointments.\\n            Speak naturally, briefly, and professionally\u2014like an experienced clinic receptionist.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CORE BEHAVIOR\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            1. **Every call is fresh.**  \\n            Do not rely on previous session context. Use only:\\n            - caller name (if known)\\n            - caller phone (if known)\\n            - information spoken in THIS call\\n            \\n\\n            2. **One task at a time.**  \\n            Every reply must:\\n            - confirm the last thing the caller said\\n            - take one small step forward (ask ONE question)\\n            - be under **8 words**\\n                Always respond in under 8 words. Prioritize immediate tool calls. Do not speak long sentences.\\n\\n            3. **Never expose internal logic.**  \\n            Never say:\\n            - \u201ccalling a tool\u2026\u201d\\n            - \u201csaving memory\u2026\u201d\\n            - \u201cI detected your name\u2026\u201d\\n            - \u201cupdating the appointment\u2026\u201d\\n\\n            4. **Always stay polite, warm, and concise.**\\n            Examples:\\n            - \u201cSure, one moment.\u201d\\n            - \u201cGot it.\u201d\\n            - \u201cLet me check that.\u201d\\n\\n            5. **If caller seems confused, repeat slowly and simply.**\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### TOOL CALLING RULES\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            Use tools to perform actions.  \\n            After calling a tool, speak a short natural confirmation.\\n\\n            **Tools you may call:**\\n            - `save_name(name)`\\n            - `save_phone(phone)`\\n            - `available_slot()`\\n            - `booking_appointment()`\\n            - `get_date()`\\n            - `update_caller_profile(name?, phone?)`\\n            - `start_reschedule()`\\n            - `confirm_reschedule()`\\n            - `end_call()`\\n\\n            Tool usage guidelines:\\n            - Call **save_name** immediately when you hear a name.\\n            - Call **save_phone** when digits are spoken.  \\n            If partial, ask: \u201cCan you repeat that number slowly?\u201d\\n            - Call **available_slot** when caller expresses a time preference (morning, evening, 3pm, etc.)\\n            - Call **get_date** when caller gives a vague date (\u201cnext Monday\u201d).\\n            - Call **booking_appointment** only when BOTH date and time are known.\\n            - Call **update_caller_profile** if caller corrects name or phone.\\n            - After a booking or reschedule completes, ask:  \\n            \u201cAnything else I can help with?\u201d  \\n            If caller says \u201cno\u201d, use `end_call()`.\\n            If the phone number is unclear or has extra/missing digits, ask the caller to repeat it digit by digit.\\n                Do not guess phone numbers.\\n                Always confirm the final number by repeating it back.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESCHEDULE FLOW\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            When the caller says anything like \u201cchange\u201d, \u201cmove\u201d, \u201creschedule\u201d, \u201cshift\u201d:\\n            1. Call **start_reschedule**.\\n            2. Ask for the new date.\\n            3. Once date \u2192 ask for time.\\n            4. When BOTH are known \u2192 call **confirm_reschedule**.\\n            5. After confirmation \u2192 ask:  \\n            \u201cAnything else I can help with?\u201d\\n\\n            Never call `confirm_reschedule` early.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CONVERSATION STYLE\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Speak like a calm clinic receptionist.\\n            - Use short sentences.  \\n            - One question per turn.  \\n            - No filler like \u201cas an AI\u201d.  \\n            - No medical advice.  \\n            - Don't ask for information you already have.\\n\\n            **Good examples:**\\n            - \u201cSure. What day works for you?\u201d\\n            - \u201cGot it. And what time?\u201d\\n            - \u201cPerfect. One moment while I check.\u201d\\n\\n            **Bad examples:**\\n            - \u201cLet me call a tool.\u201d\\n            - \u201cProcessing your request.\u201d\\n            - \u201cI am updating your appointment in the database.\u201d\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESPONSE CONTROL\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Never output long paragraphs.  \\n            - Never output lists or explanations.  \\n            - Keep responses conversational and human.  \\n            - If caller pauses 5 seconds, use `end_call()`.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### ROLE REMINDER\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            You are the first point of contact for Shifa Clinic.  \\n            Be warm. Be efficient. Be human.\\n\\n            Now handle the caller.\\n\\n\\nGood evening! Hi Abdul Basit, how can I help you today?\"}], 'model': 'gpt-4o-mini', 'stream': True, 'stream_options': {'include_usage': True}, 'temperature': 0.7, 'tools': [{'type': 'function', 'function': {'name': 'save_name', 'strict': True, 'description': '', 'parameters': {'properties': {'name': {'type': 'string'}}, 'required': ['name'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'save_phone', 'strict': True, 'description': 'Store validated patient phone in Redis using existing BookingBase validator.', 'parameters': {'properties': {'phone': {'type': 'string'}}, 'required': ['phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'available_slot', 'strict': True, 'description': 'Suggest available appointment slots for a given day.\\n- Understands natural language (\"tomorrow\", \"morning\", \"after 2pm\")\\n- Always fetches fresh availability from DB.\\n- Returns top 3 free slots.\\n- Stores them in ctx.suggested_slots for booking_appointment.', 'parameters': {'properties': {'day': {'type': 'string'}, 'date': {'type': 'string'}, 'time': {'type': 'string'}}, 'required': ['day', 'date', 'time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'booking_appointment', 'strict': True, 'description': 'Create or reschedule an appointment.\\nClean, predictable, AI-friendly logic.\\nUses helper functions for DB safety.', 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'get_date', 'strict': True, 'description': 'Return system date and time.', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'end_call', 'strict': True, 'description': \"Gracefully end the call after confirming there's nothing else needed.\\nDoes not clear Redis; short-term memory expires via TTL.\", 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'update_caller_profile', 'strict': True, 'description': 'Persist caller profile (name/phone) for future calls without disrupting session.\\nIf phone not provided, uses current session phone if available.', 'parameters': {'properties': {'name': {'type': ['string', 'null']}, 'phone': {'type': ['string', 'null']}}, 'required': ['name', 'phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'start_reschedule', 'strict': True, 'description': '', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'confirm_reschedule', 'strict': True, 'description': \"Confirm and perform rescheduling to the selected date/time.\\nUse after start_reschedule + available_slot when the caller says 'yes'.\", 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}]}}"}
{"timestamp": "2025-11-17T16:33:54.373736", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions"}
{"timestamp": "2025-11-17T16:33:54.374084", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=15.0 socket_options=None"}
{"timestamp": "2025-11-17T16:33:54.374324", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=10.0 socket_options=None"}
{"timestamp": "2025-11-17T16:33:54.393881", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x12fc0ded0>"}
{"timestamp": "2025-11-17T16:33:54.394027", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x127b24050> server_hostname='api.openai.com' timeout=10.0"}
{"timestamp": "2025-11-17T16:33:54.395398", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x127b49b90>"}
{"timestamp": "2025-11-17T16:33:54.395489", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x127b240e0> server_hostname='api.openai.com' timeout=15.0"}
{"timestamp": "2025-11-17T16:33:54.409571", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x122f2c650>"}
{"timestamp": "2025-11-17T16:33:54.409907", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:33:54.412044", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-17T16:33:54.412123", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:33:54.412267", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x12fc18810>"}
{"timestamp": "2025-11-17T16:33:54.412512", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-17T16:33:54.412588", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:33:54.412729", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'GET']>"}
{"timestamp": "2025-11-17T16:33:54.413008", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-17T16:33:54.413065", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'GET']>"}
{"timestamp": "2025-11-17T16:33:54.413151", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-17T16:33:54.413202", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'GET']>"}
{"timestamp": "2025-11-17T16:33:55.259624", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 17 Nov 2025 16:33:55 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'358'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'539'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'198636'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'409ms'), (b'x-request-id', b'req_f2d682bc22bc40f0b3965db57e443670'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=vwZ3TxQ1CWW_0x8pT.GDtfxAYXp8mzTSEb6eXn0LZcY-1763397235-1.0.1.1-lKfzvxamOvubtznXl1ALLZ2WdkmydRgntkWojcX.GW.Je40Oab3QmZ_7YS7Mttge8HdstLKzYqTyQiuPZoxpdH9VD7pDHScUjJ1e0ehWGFU; path=/; expires=Mon, 17-Nov-25 17:03:55 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=FTG8XlcnxKSwzbQ0SWUBPWeXAlVvA160MJ.1roMBymo-1763397235375-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a00a1ec0abf9089-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-17T16:33:55.262483", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/chat/completions \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-17T16:33:55.262818", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers([('date', 'Mon, 17 Nov 2025 16:33:55 GMT'), ('content-type', 'text/event-stream; charset=utf-8'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'user-hef6qdiz1bsjendvhiay1uww'), ('openai-processing-ms', '358'), ('openai-project', 'proj_fFIktXLPrLlENFXwWG5Of7EI'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '539'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '200000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '198636'), ('x-ratelimit-reset-requests', '8.64s'), ('x-ratelimit-reset-tokens', '409ms'), ('x-request-id', 'req_f2d682bc22bc40f0b3965db57e443670'), ('x-openai-proxy-wasm', 'v0.1'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=vwZ3TxQ1CWW_0x8pT.GDtfxAYXp8mzTSEb6eXn0LZcY-1763397235-1.0.1.1-lKfzvxamOvubtznXl1ALLZ2WdkmydRgntkWojcX.GW.Je40Oab3QmZ_7YS7Mttge8HdstLKzYqTyQiuPZoxpdH9VD7pDHScUjJ1e0ehWGFU; path=/; expires=Mon, 17-Nov-25 17:03:55 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=FTG8XlcnxKSwzbQ0SWUBPWeXAlVvA160MJ.1roMBymo-1763397235375-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '9a00a1ec0abf9089-KHI'), ('alt-svc', 'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-17T16:33:55.263197", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_f2d682bc22bc40f0b3965db57e443670"}
{"timestamp": "2025-11-17T16:33:55.263683", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:33:55.276686", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397235.276257, 'idle_time': 1.057363333995454, 'inference_duration_total': 0.026771584001835436, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:33:55.277042", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397235.276257, 'idle_time': 1.057363333995454, 'inference_duration_total': 0.026771584001835436, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:33:55.345723", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'Date', b'Mon, 17 Nov 2025 16:33:55 GMT'), (b'Content-Type', b'text/html'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=8SKCsMyQYoGRe6f5.Sx68QCYcIa69rYGIorZd1byJgM-1763397235-1.0.1.1-pC9EMvtZTgYYKNGrNog_xi8JdaVi6ItnBub64CSdg.0GnRFbmynqEdVa.Ro6s_UEr9GQ0bqPoveAUQIRWB7r_ThUm4LgxK8b2kwnEL_O8tQ; path=/; expires=Mon, 17-Nov-25 17:03:55 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=yabuVblUkwuG61ktWcV4NtbMwuDbLPIRASlDdSSFk4c-1763397235470-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a00a1ec0bb39080-KHI'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-17T16:33:55.346396", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET https://api.openai.com/v1/ \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-11-17T16:33:55.346593", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'GET']>"}
{"timestamp": "2025-11-17T16:33:55.346820", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete"}
{"timestamp": "2025-11-17T16:33:55.346943", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-17T16:33:55.347084", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-17T16:33:55.347283", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: GET https://api.openai.com/v1/ \"404 Not Found\" Headers([('date', 'Mon, 17 Nov 2025 16:33:55 GMT'), ('content-type', 'text/html'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=8SKCsMyQYoGRe6f5.Sx68QCYcIa69rYGIorZd1byJgM-1763397235-1.0.1.1-pC9EMvtZTgYYKNGrNog_xi8JdaVi6ItnBub64CSdg.0GnRFbmynqEdVa.Ro6s_UEr9GQ0bqPoveAUQIRWB7r_ThUm4LgxK8b2kwnEL_O8tQ; path=/; expires=Mon, 17-Nov-25 17:03:55 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=yabuVblUkwuG61ktWcV4NtbMwuDbLPIRASlDdSSFk4c-1763397235470-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '9a00a1ec0bb39080-KHI'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-17T16:33:55.347473", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: None"}
{"timestamp": "2025-11-17T16:33:55.347561", "level": "DEBUG", "logger": "openai._base_client", "message": "Encountered httpx.HTTPStatusError", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/openai/_base_client.py\", line 1574, in request\n    response.raise_for_status()\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/httpx/_models.py\", line 829, in raise_for_status\n    raise HTTPStatusError(message, request=request, response=self)\nhttpx.HTTPStatusError: Client error '404 Not Found' for url 'https://api.openai.com/v1/'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404"}
{"timestamp": "2025-11-17T16:33:55.351735", "level": "DEBUG", "logger": "openai._base_client", "message": "Re-raising status error"}
{"timestamp": "2025-11-17T16:33:55.464770", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream', 'X-Stainless-Raw-Response': 'stream'}, 'timeout': Timeout(connect=10.0, read=30, write=30, pool=30), 'files': None, 'idempotency_key': 'stainless-python-retry-9b7f31a4-514a-4252-be0f-afe61209ee6e', 'json_data': {'input': 'Good evening, Abdul Basit!', 'model': 'gpt-4o-mini-tts', 'voice': 'alloy', 'response_format': 'mp3', 'speed': 1.0}}"}
{"timestamp": "2025-11-17T16:33:55.466130", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/audio/speech"}
{"timestamp": "2025-11-17T16:33:55.467565", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:33:55.468583", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-17T16:33:55.468767", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:33:55.469224", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-17T16:33:55.469352", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:33:55.548587", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-17T16:33:55.549367", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-17T16:33:55.551398", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CcwSopy0VFfJQK3mIkYX0gRU6qc5s', 'timestamp': 1763397235.5500329, 'duration': 1.30975179199595, 'ttft': 1.0328050419921055, 'cancelled': False, 'completion_tokens': 15, 'prompt_tokens': 1328, 'prompt_cached_tokens': 1280, 'total_tokens': 1343, 'tokens_per_second': 11.45255161448665, 'speech_id': 'speech_9f29196e683e', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:33:55.552668", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CcwSopy0VFfJQK3mIkYX0gRU6qc5s', 'timestamp': 1763397235.5500329, 'duration': 1.30975179199595, 'ttft': 1.0328050419921055, 'cancelled': False, 'completion_tokens': 15, 'prompt_tokens': 1328, 'prompt_cached_tokens': 1280, 'total_tokens': 1343, 'tokens_per_second': 11.45255161448665, 'speech_id': 'speech_9f29196e683e', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:33:55.553907", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.failed exception=GeneratorExit()"}
{"timestamp": "2025-11-17T16:33:56.245312", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 17 Nov 2025 16:33:56 GMT'), (b'Content-Type', b'audio/mpeg'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'416'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'431'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9998'), (b'x-ratelimit-remaining-tokens', b'199994'), (b'x-ratelimit-reset-requests', b'16.175s'), (b'x-ratelimit-reset-tokens', b'1ms'), (b'x-request-id', b'req_66d5e345d41641acae67e6602705a1be'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a00a1f2fd819080-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-17T16:33:56.246382", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/audio/speech \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-17T16:33:56.246667", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/audio/speech \"200 OK\" Headers({'date': 'Mon, 17 Nov 2025 16:33:56 GMT', 'content-type': 'audio/mpeg', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '416', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '431', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9998', 'x-ratelimit-remaining-tokens': '199994', 'x-ratelimit-reset-requests': '16.175s', 'x-ratelimit-reset-tokens': '1ms', 'x-request-id': 'req_66d5e345d41641acae67e6602705a1be', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a00a1f2fd819080-KHI', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-17T16:33:56.247005", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_66d5e345d41641acae67e6602705a1be"}
{"timestamp": "2025-11-17T16:33:56.247403", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:33:56.261683", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397236.2614741, 'idle_time': 2.042576374980854, 'inference_duration_total': 0.0450777099467814, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:33:56.262004", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397236.2614741, 'idle_time': 2.042576374980854, 'inference_duration_total': 0.0450777099467814, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:33:56.452762", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-17T16:33:56.479044", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete"}
{"timestamp": "2025-11-17T16:33:56.479523", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-17T16:33:56.480280", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-17T16:33:56.490241", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_66d5e345d41641acae67e6602705a1be', 'timestamp': 1763397236.489388, 'ttfb': 0.8073696659994312, 'duration': 1.025842165981885, 'audio_duration': 1.45, 'cancelled': False, 'characters_count': 26, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_9f29196e683e', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:33:56.491003", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_66d5e345d41641acae67e6602705a1be', 'timestamp': 1763397236.489388, 'ttfb': 0.8073696659994312, 'duration': 1.025842165981885, 'audio_duration': 1.45, 'cancelled': False, 'characters_count': 26, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_9f29196e683e', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:33:56.491760", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream', 'X-Stainless-Raw-Response': 'stream'}, 'timeout': Timeout(connect=10.0, read=30, write=30, pool=30), 'files': None, 'idempotency_key': 'stainless-python-retry-ef2c661f-b6e6-4b1d-9461-379bf6ca7521', 'json_data': {'input': 'How can I assist you today?', 'model': 'gpt-4o-mini-tts', 'voice': 'alloy', 'response_format': 'mp3', 'speed': 1.0}}"}
{"timestamp": "2025-11-17T16:33:56.492477", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/audio/speech"}
{"timestamp": "2025-11-17T16:33:56.492940", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:33:56.493345", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-17T16:33:56.493459", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:33:56.493700", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-17T16:33:56.493767", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:33:57.311287", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397237.311029, 'idle_time': 3.092127124982653, 'inference_duration_total': 0.029926876130048186, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:33:57.311703", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397237.311029, 'idle_time': 3.092127124982653, 'inference_duration_total': 0.029926876130048186, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:33:57.721298", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 17 Nov 2025 16:33:57 GMT'), (b'Content-Type', b'audio/mpeg'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'758'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'929'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9998'), (b'x-ratelimit-remaining-tokens', b'199994'), (b'x-ratelimit-reset-requests', b'15.198s'), (b'x-ratelimit-reset-tokens', b'1ms'), (b'x-request-id', b'req_59733ed0eeae4e1297c1f6bac4b30c36'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a00a1f8fdc39080-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-17T16:33:57.721966", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/audio/speech \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-17T16:33:57.722186", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/audio/speech \"200 OK\" Headers({'date': 'Mon, 17 Nov 2025 16:33:57 GMT', 'content-type': 'audio/mpeg', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '758', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '929', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9998', 'x-ratelimit-remaining-tokens': '199994', 'x-ratelimit-reset-requests': '15.198s', 'x-ratelimit-reset-tokens': '1ms', 'x-request-id': 'req_59733ed0eeae4e1297c1f6bac4b30c36', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a00a1f8fdc39080-KHI', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-17T16:33:57.722437", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_59733ed0eeae4e1297c1f6bac4b30c36"}
{"timestamp": "2025-11-17T16:33:57.722690", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:33:57.911031", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-17T16:33:57.955805", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete"}
{"timestamp": "2025-11-17T16:33:57.956664", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-17T16:33:57.957159", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-17T16:33:57.988390", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_59733ed0eeae4e1297c1f6bac4b30c36', 'timestamp': 1763397237.9881248, 'ttfb': 1.2374621669878252, 'duration': 1.497019292000914, 'audio_duration': 1.546, 'cancelled': False, 'characters_count': 27, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_9f29196e683e', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:33:57.989051", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_59733ed0eeae4e1297c1f6bac4b30c36', 'timestamp': 1763397237.9881248, 'ttfb': 1.2374621669878252, 'duration': 1.497019292000914, 'audio_duration': 1.546, 'cancelled': False, 'characters_count': 27, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_9f29196e683e', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:33:58.314098", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397238.313605, 'idle_time': 4.094700166984694, 'inference_duration_total': 0.07626016697031446, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:33:58.315063", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397238.313605, 'idle_time': 4.094700166984694, 'inference_duration_total': 0.07626016697031446, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:33:59.261001", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '333ab2f8-e81a-4708-af26-51acbb72b77a', 'timestamp': 1763397239.260502, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:33:59.261915", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '333ab2f8-e81a-4708-af26-51acbb72b77a', 'timestamp': 1763397239.260502, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:33:59.363434", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397239.3628979, 'idle_time': 5.143988249998074, 'inference_duration_total': 0.03709608511417173, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:33:59.364215", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397239.3628979, 'idle_time': 5.143988249998074, 'inference_duration_total': 0.03709608511417173, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:00.363542", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397240.3630059, 'idle_time': 6.1440926249779295, 'inference_duration_total': 0.035896374902222306, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:00.364281", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397240.3630059, 'idle_time': 6.1440926249779295, 'inference_duration_total': 0.035896374902222306, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:01.413483", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397241.412909, 'idle_time': 7.193991458974779, 'inference_duration_total': 0.03582808203645982, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:01.414814", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397241.412909, 'idle_time': 7.193991458974779, 'inference_duration_total': 0.03582808203645982, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:02.413033", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397242.412643, 'idle_time': 8.193721749994438, 'inference_duration_total': 0.03763299903948791, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:02.413637", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397242.412643, 'idle_time': 8.193721749994438, 'inference_duration_total': 0.03763299903948791, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:03.462389", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397243.461867, 'idle_time': 9.242942208977183, 'inference_duration_total': 0.047876206896035, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:03.463217", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397243.461867, 'idle_time': 9.242942208977183, 'inference_duration_total': 0.047876206896035, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:04.262220", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '333ab2f8-e81a-4708-af26-51acbb72b77a', 'timestamp': 1763397244.261646, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:34:04.263046", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '333ab2f8-e81a-4708-af26-51acbb72b77a', 'timestamp': 1763397244.261646, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:34:04.464113", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397244.463576, 'idle_time': 0.44958587500150315, 'inference_duration_total': 0.04259145600371994, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:04.464886", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397244.463576, 'idle_time': 0.44958587500150315, 'inference_duration_total': 0.04259145600371994, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:04.850994", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-17T16:34:04.855439", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763397244.853705, 'end_of_utterance_delay': 0.8379120826721191, 'transcription_delay': 0.8372960090637207, 'on_user_turn_completed_delay': 3.0994415283203125e-06, 'last_speaking_time': 1763397244.014076, 'speech_id': 'speech_ae7e63497e30', 'metadata': None}}"}
{"timestamp": "2025-11-17T16:34:04.864078", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763397244.853705, 'end_of_utterance_delay': 0.8379120826721191, 'transcription_delay': 0.8372960090637207, 'on_user_turn_completed_delay': 3.0994415283203125e-06, 'last_speaking_time': 1763397244.014076, 'speech_id': 'speech_ae7e63497e30', 'metadata': None}}"}
{"timestamp": "2025-11-17T16:34:04.869404", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'timeout': Timeout(timeout=10.0), 'files': None, 'idempotency_key': 'stainless-python-retry-f60c95bc-ef79-4a67-b50f-107b53bd8d0b', 'json_data': {'messages': [{'role': 'system', 'content': \"\\n        You are **Shifa Clinic\u2019s AI Receptionist**, answering calls in real time.\\n            Your role is to help callers with booking, confirming, or rescheduling appointments.\\n            Speak naturally, briefly, and professionally\u2014like an experienced clinic receptionist.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CORE BEHAVIOR\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            1. **Every call is fresh.**  \\n            Do not rely on previous session context. Use only:\\n            - caller name (if known)\\n            - caller phone (if known)\\n            - information spoken in THIS call\\n            \\n\\n            2. **One task at a time.**  \\n            Every reply must:\\n            - confirm the last thing the caller said\\n            - take one small step forward (ask ONE question)\\n            - be under **8 words**\\n                Always respond in under 8 words. Prioritize immediate tool calls. Do not speak long sentences.\\n\\n            3. **Never expose internal logic.**  \\n            Never say:\\n            - \u201ccalling a tool\u2026\u201d\\n            - \u201csaving memory\u2026\u201d\\n            - \u201cI detected your name\u2026\u201d\\n            - \u201cupdating the appointment\u2026\u201d\\n\\n            4. **Always stay polite, warm, and concise.**\\n            Examples:\\n            - \u201cSure, one moment.\u201d\\n            - \u201cGot it.\u201d\\n            - \u201cLet me check that.\u201d\\n\\n            5. **If caller seems confused, repeat slowly and simply.**\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### TOOL CALLING RULES\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            Use tools to perform actions.  \\n            After calling a tool, speak a short natural confirmation.\\n\\n            **Tools you may call:**\\n            - `save_name(name)`\\n            - `save_phone(phone)`\\n            - `available_slot()`\\n            - `booking_appointment()`\\n            - `get_date()`\\n            - `update_caller_profile(name?, phone?)`\\n            - `start_reschedule()`\\n            - `confirm_reschedule()`\\n            - `end_call()`\\n\\n            Tool usage guidelines:\\n            - Call **save_name** immediately when you hear a name.\\n            - Call **save_phone** when digits are spoken.  \\n            If partial, ask: \u201cCan you repeat that number slowly?\u201d\\n            - Call **available_slot** when caller expresses a time preference (morning, evening, 3pm, etc.)\\n            - Call **get_date** when caller gives a vague date (\u201cnext Monday\u201d).\\n            - Call **booking_appointment** only when BOTH date and time are known.\\n            - Call **update_caller_profile** if caller corrects name or phone.\\n            - After a booking or reschedule completes, ask:  \\n            \u201cAnything else I can help with?\u201d  \\n            If caller says \u201cno\u201d, use `end_call()`.\\n            If the phone number is unclear or has extra/missing digits, ask the caller to repeat it digit by digit.\\n                Do not guess phone numbers.\\n                Always confirm the final number by repeating it back.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESCHEDULE FLOW\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            When the caller says anything like \u201cchange\u201d, \u201cmove\u201d, \u201creschedule\u201d, \u201cshift\u201d:\\n            1. Call **start_reschedule**.\\n            2. Ask for the new date.\\n            3. Once date \u2192 ask for time.\\n            4. When BOTH are known \u2192 call **confirm_reschedule**.\\n            5. After confirmation \u2192 ask:  \\n            \u201cAnything else I can help with?\u201d\\n\\n            Never call `confirm_reschedule` early.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CONVERSATION STYLE\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Speak like a calm clinic receptionist.\\n            - Use short sentences.  \\n            - One question per turn.  \\n            - No filler like \u201cas an AI\u201d.  \\n            - No medical advice.  \\n            - Don't ask for information you already have.\\n\\n            **Good examples:**\\n            - \u201cSure. What day works for you?\u201d\\n            - \u201cGot it. And what time?\u201d\\n            - \u201cPerfect. One moment while I check.\u201d\\n\\n            **Bad examples:**\\n            - \u201cLet me call a tool.\u201d\\n            - \u201cProcessing your request.\u201d\\n            - \u201cI am updating your appointment in the database.\u201d\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESPONSE CONTROL\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Never output long paragraphs.  \\n            - Never output lists or explanations.  \\n            - Keep responses conversational and human.  \\n            - If caller pauses 5 seconds, use `end_call()`.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### ROLE REMINDER\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            You are the first point of contact for Shifa Clinic.  \\n            Be warm. Be efficient. Be human.\\n\\n            Now handle the caller.\\n\\n\"}, {'role': 'assistant', 'content': 'Good evening, Abdul Basit! How can I assist you today?'}, {'role': 'user', 'content': 'I want to book an appointment.'}], 'model': 'gpt-4o-mini', 'stream': True, 'stream_options': {'include_usage': True}, 'temperature': 0.7, 'tools': [{'type': 'function', 'function': {'name': 'save_name', 'strict': True, 'description': '', 'parameters': {'properties': {'name': {'type': 'string'}}, 'required': ['name'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'save_phone', 'strict': True, 'description': 'Store validated patient phone in Redis using existing BookingBase validator.', 'parameters': {'properties': {'phone': {'type': 'string'}}, 'required': ['phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'available_slot', 'strict': True, 'description': 'Suggest available appointment slots for a given day.\\n- Understands natural language (\"tomorrow\", \"morning\", \"after 2pm\")\\n- Always fetches fresh availability from DB.\\n- Returns top 3 free slots.\\n- Stores them in ctx.suggested_slots for booking_appointment.', 'parameters': {'properties': {'day': {'type': 'string'}, 'date': {'type': 'string'}, 'time': {'type': 'string'}}, 'required': ['day', 'date', 'time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'booking_appointment', 'strict': True, 'description': 'Create or reschedule an appointment.\\nClean, predictable, AI-friendly logic.\\nUses helper functions for DB safety.', 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'get_date', 'strict': True, 'description': 'Return system date and time.', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'end_call', 'strict': True, 'description': \"Gracefully end the call after confirming there's nothing else needed.\\nDoes not clear Redis; short-term memory expires via TTL.\", 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'update_caller_profile', 'strict': True, 'description': 'Persist caller profile (name/phone) for future calls without disrupting session.\\nIf phone not provided, uses current session phone if available.', 'parameters': {'properties': {'name': {'type': ['string', 'null']}, 'phone': {'type': ['string', 'null']}}, 'required': ['name', 'phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'start_reschedule', 'strict': True, 'description': '', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'confirm_reschedule', 'strict': True, 'description': \"Confirm and perform rescheduling to the selected date/time.\\nUse after start_reschedule + available_slot when the caller says 'yes'.\", 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}]}}"}
{"timestamp": "2025-11-17T16:34:04.871753", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions"}
{"timestamp": "2025-11-17T16:34:04.872773", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=10.0 socket_options=None"}
{"timestamp": "2025-11-17T16:34:04.908687", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x127b84f10>"}
{"timestamp": "2025-11-17T16:34:04.908823", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x127b24050> server_hostname='api.openai.com' timeout=10.0"}
{"timestamp": "2025-11-17T16:34:04.926302", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x12fc85c10>"}
{"timestamp": "2025-11-17T16:34:04.926596", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:34:04.926883", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-17T16:34:04.926957", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:34:04.927148", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-17T16:34:04.927201", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:34:05.513738", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397245.513212, 'idle_time': 0.8996382500045002, 'inference_duration_total': 0.03199833194958046, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:05.515056", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397245.513212, 'idle_time': 0.8996382500045002, 'inference_duration_total': 0.03199833194958046, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:05.940405", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 17 Nov 2025 16:34:06 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'419'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'653'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9997'), (b'x-ratelimit-remaining-tokens', b'198627'), (b'x-ratelimit-reset-requests', b'24.918s'), (b'x-ratelimit-reset-tokens', b'411ms'), (b'x-request-id', b'req_70eebcb7d29049b2bc560078f3c3a64a'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a00a22ded0290a1-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-17T16:34:05.941844", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/chat/completions \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-17T16:34:05.942164", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Mon, 17 Nov 2025 16:34:06 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '419', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '653', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9997', 'x-ratelimit-remaining-tokens': '198627', 'x-ratelimit-reset-requests': '24.918s', 'x-ratelimit-reset-tokens': '411ms', 'x-request-id': 'req_70eebcb7d29049b2bc560078f3c3a64a', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a00a22ded0290a1-KHI', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-17T16:34:05.942611", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_70eebcb7d29049b2bc560078f3c3a64a"}
{"timestamp": "2025-11-17T16:34:05.943282", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:34:06.203579", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-17T16:34:06.205405", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-17T16:34:06.207554", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CcwSzIqEfKjGOeOt2U3MYmHE837i9', 'timestamp': 1763397246.206872, 'duration': 1.3490205419948325, 'ttft': 1.2015228749951348, 'cancelled': False, 'completion_tokens': 9, 'prompt_tokens': 1342, 'prompt_cached_tokens': 1280, 'total_tokens': 1351, 'tokens_per_second': 6.671507008107868, 'speech_id': 'speech_ae7e63497e30', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:34:06.208633", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CcwSzIqEfKjGOeOt2U3MYmHE837i9', 'timestamp': 1763397246.206872, 'duration': 1.3490205419948325, 'ttft': 1.2015228749951348, 'cancelled': False, 'completion_tokens': 9, 'prompt_tokens': 1342, 'prompt_cached_tokens': 1280, 'total_tokens': 1351, 'tokens_per_second': 6.671507008107868, 'speech_id': 'speech_ae7e63497e30', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:34:06.210134", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream', 'X-Stainless-Raw-Response': 'stream'}, 'timeout': Timeout(connect=10.0, read=30, write=30, pool=30), 'files': None, 'idempotency_key': 'stainless-python-retry-76946a1b-9592-45b3-b1f7-ad4a1926dde2', 'json_data': {'input': 'Sure! What date works for you?', 'model': 'gpt-4o-mini-tts', 'voice': 'alloy', 'response_format': 'mp3', 'speed': 1.0}}"}
{"timestamp": "2025-11-17T16:34:06.211288", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/audio/speech"}
{"timestamp": "2025-11-17T16:34:06.212404", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:34:06.213091", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-17T16:34:06.213269", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:34:06.213652", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-17T16:34:06.213770", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:34:06.214911", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.failed exception=GeneratorExit()"}
{"timestamp": "2025-11-17T16:34:06.513761", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397246.513275, 'idle_time': 1.8996972920140252, 'inference_duration_total': 0.04154962697066367, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:06.514340", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397246.513275, 'idle_time': 1.8996972920140252, 'inference_duration_total': 0.04154962697066367, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:07.279626", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 17 Nov 2025 16:34:07 GMT'), (b'Content-Type', b'audio/mpeg'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'475'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'496'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9997'), (b'x-ratelimit-remaining-tokens', b'199993'), (b'x-ratelimit-reset-requests', b'22.473s'), (b'x-ratelimit-reset-tokens', b'2ms'), (b'x-request-id', b'req_0735a70cce684883a9df56df1d70c450'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a00a2376cd89080-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-17T16:34:07.281135", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/audio/speech \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-17T16:34:07.281438", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/audio/speech \"200 OK\" Headers({'date': 'Mon, 17 Nov 2025 16:34:07 GMT', 'content-type': 'audio/mpeg', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '475', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '496', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9997', 'x-ratelimit-remaining-tokens': '199993', 'x-ratelimit-reset-requests': '22.473s', 'x-ratelimit-reset-tokens': '2ms', 'x-request-id': 'req_0735a70cce684883a9df56df1d70c450', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a00a2376cd89080-KHI', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-17T16:34:07.281909", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_0735a70cce684883a9df56df1d70c450"}
{"timestamp": "2025-11-17T16:34:07.282405", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:34:07.483146", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-17T16:34:07.563227", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397247.562696, 'idle_time': 2.9491148340166546, 'inference_duration_total': 0.030413457832764834, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:07.563968", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397247.562696, 'idle_time': 2.9491148340166546, 'inference_duration_total': 0.030413457832764834, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:07.838131", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete"}
{"timestamp": "2025-11-17T16:34:07.839057", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-17T16:34:07.839506", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-17T16:34:07.844185", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_0735a70cce684883a9df56df1d70c450', 'timestamp': 1763397247.843613, 'ttfb': 1.0838865829864517, 'duration': 1.634463374997722, 'audio_duration': 1.7379999999999998, 'cancelled': False, 'characters_count': 30, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_ae7e63497e30', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:34:07.844795", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_0735a70cce684883a9df56df1d70c450', 'timestamp': 1763397247.843613, 'ttfb': 1.0838865829864517, 'duration': 1.634463374997722, 'audio_duration': 1.7379999999999998, 'cancelled': False, 'characters_count': 30, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_ae7e63497e30', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:34:08.564148", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397248.563515, 'idle_time': 3.9499294589913916, 'inference_duration_total': 0.03940158395562321, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:08.564940", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397248.563515, 'idle_time': 3.9499294589913916, 'inference_duration_total': 0.03940158395562321, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:09.311743", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '333ab2f8-e81a-4708-af26-51acbb72b77a', 'timestamp': 1763397249.3111901, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:34:09.312559", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '333ab2f8-e81a-4708-af26-51acbb72b77a', 'timestamp': 1763397249.3111901, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:34:09.612412", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397249.611864, 'idle_time': 4.998274584009778, 'inference_duration_total': 0.03574333299184218, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:09.613186", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397249.611864, 'idle_time': 4.998274584009778, 'inference_duration_total': 0.03574333299184218, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:10.612603", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397250.612092, 'idle_time': 5.998498625005595, 'inference_duration_total': 0.033613996900385246, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:10.613347", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397250.612092, 'idle_time': 5.998498625005595, 'inference_duration_total': 0.033613996900385246, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:11.663287", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397251.662709, 'idle_time': 7.0491108749993145, 'inference_duration_total': 0.03423733395175077, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:11.664270", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397251.662709, 'idle_time': 7.0491108749993145, 'inference_duration_total': 0.03423733395175077, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:12.663790", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397252.6632771, 'idle_time': 8.049675249989377, 'inference_duration_total': 0.036544380156556144, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:12.664506", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397252.6632771, 'idle_time': 8.049675249989377, 'inference_duration_total': 0.036544380156556144, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:13.713006", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397253.712414, 'idle_time': 9.098808375012595, 'inference_duration_total': 0.032815290993312374, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:13.714373", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397253.712414, 'idle_time': 9.098808375012595, 'inference_duration_total': 0.032815290993312374, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:14.312153", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '333ab2f8-e81a-4708-af26-51acbb72b77a', 'timestamp': 1763397254.311594, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:34:14.312939", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '333ab2f8-e81a-4708-af26-51acbb72b77a', 'timestamp': 1763397254.311594, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:34:14.714135", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397254.713608, 'idle_time': 10.099998249992495, 'inference_duration_total': 0.03815892001148313, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:14.714935", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397254.713608, 'idle_time': 10.099998249992495, 'inference_duration_total': 0.03815892001148313, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:15.763690", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397255.763152, 'idle_time': 11.149538750003558, 'inference_duration_total': 0.029156998032703996, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:15.764452", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397255.763152, 'idle_time': 11.149538750003558, 'inference_duration_total': 0.029156998032703996, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:16.763622", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397256.762551, 'idle_time': 12.148933541990118, 'inference_duration_total': 0.04815912508638576, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:16.765031", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397256.762551, 'idle_time': 12.148933541990118, 'inference_duration_total': 0.04815912508638576, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:17.813914", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397257.8134022, 'idle_time': 13.19978062500013, 'inference_duration_total': 0.03192849914194085, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:17.816444", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397257.8134022, 'idle_time': 13.19978062500013, 'inference_duration_total': 0.03192849914194085, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:18.813945", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397258.813251, 'idle_time': 14.199625167006161, 'inference_duration_total': 0.051593459909781814, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:18.814760", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397258.813251, 'idle_time': 14.199625167006161, 'inference_duration_total': 0.051593459909781814, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:19.360727", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '333ab2f8-e81a-4708-af26-51acbb72b77a', 'timestamp': 1763397259.3603148, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:34:19.361432", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '333ab2f8-e81a-4708-af26-51acbb72b77a', 'timestamp': 1763397259.3603148, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:34:19.861342", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397259.860935, 'idle_time': 15.247305291995872, 'inference_duration_total': 0.03388395914225839, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:19.862031", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397259.860935, 'idle_time': 15.247305291995872, 'inference_duration_total': 0.03388395914225839, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:20.431942", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-17T16:34:20.438405", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763397260.4380329, 'end_of_utterance_delay': 16.406471967697144, 'transcription_delay': 16.40499520301819, 'on_user_turn_completed_delay': 3.814697265625e-06, 'last_speaking_time': 1763397244.0290449, 'speech_id': 'speech_49bcba7840a1', 'metadata': None}}"}
{"timestamp": "2025-11-17T16:34:20.440767", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763397260.4380329, 'end_of_utterance_delay': 16.406471967697144, 'transcription_delay': 16.40499520301819, 'on_user_turn_completed_delay': 3.814697265625e-06, 'last_speaking_time': 1763397244.0290449, 'speech_id': 'speech_49bcba7840a1', 'metadata': None}}"}
{"timestamp": "2025-11-17T16:34:20.466306", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'timeout': Timeout(timeout=10.0), 'files': None, 'idempotency_key': 'stainless-python-retry-3fe31c7f-2977-46fd-ab3e-75d32f396367', 'json_data': {'messages': [{'role': 'system', 'content': \"\\n        You are **Shifa Clinic\u2019s AI Receptionist**, answering calls in real time.\\n            Your role is to help callers with booking, confirming, or rescheduling appointments.\\n            Speak naturally, briefly, and professionally\u2014like an experienced clinic receptionist.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CORE BEHAVIOR\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            1. **Every call is fresh.**  \\n            Do not rely on previous session context. Use only:\\n            - caller name (if known)\\n            - caller phone (if known)\\n            - information spoken in THIS call\\n            \\n\\n            2. **One task at a time.**  \\n            Every reply must:\\n            - confirm the last thing the caller said\\n            - take one small step forward (ask ONE question)\\n            - be under **8 words**\\n                Always respond in under 8 words. Prioritize immediate tool calls. Do not speak long sentences.\\n\\n            3. **Never expose internal logic.**  \\n            Never say:\\n            - \u201ccalling a tool\u2026\u201d\\n            - \u201csaving memory\u2026\u201d\\n            - \u201cI detected your name\u2026\u201d\\n            - \u201cupdating the appointment\u2026\u201d\\n\\n            4. **Always stay polite, warm, and concise.**\\n            Examples:\\n            - \u201cSure, one moment.\u201d\\n            - \u201cGot it.\u201d\\n            - \u201cLet me check that.\u201d\\n\\n            5. **If caller seems confused, repeat slowly and simply.**\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### TOOL CALLING RULES\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            Use tools to perform actions.  \\n            After calling a tool, speak a short natural confirmation.\\n\\n            **Tools you may call:**\\n            - `save_name(name)`\\n            - `save_phone(phone)`\\n            - `available_slot()`\\n            - `booking_appointment()`\\n            - `get_date()`\\n            - `update_caller_profile(name?, phone?)`\\n            - `start_reschedule()`\\n            - `confirm_reschedule()`\\n            - `end_call()`\\n\\n            Tool usage guidelines:\\n            - Call **save_name** immediately when you hear a name.\\n            - Call **save_phone** when digits are spoken.  \\n            If partial, ask: \u201cCan you repeat that number slowly?\u201d\\n            - Call **available_slot** when caller expresses a time preference (morning, evening, 3pm, etc.)\\n            - Call **get_date** when caller gives a vague date (\u201cnext Monday\u201d).\\n            - Call **booking_appointment** only when BOTH date and time are known.\\n            - Call **update_caller_profile** if caller corrects name or phone.\\n            - After a booking or reschedule completes, ask:  \\n            \u201cAnything else I can help with?\u201d  \\n            If caller says \u201cno\u201d, use `end_call()`.\\n            If the phone number is unclear or has extra/missing digits, ask the caller to repeat it digit by digit.\\n                Do not guess phone numbers.\\n                Always confirm the final number by repeating it back.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESCHEDULE FLOW\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            When the caller says anything like \u201cchange\u201d, \u201cmove\u201d, \u201creschedule\u201d, \u201cshift\u201d:\\n            1. Call **start_reschedule**.\\n            2. Ask for the new date.\\n            3. Once date \u2192 ask for time.\\n            4. When BOTH are known \u2192 call **confirm_reschedule**.\\n            5. After confirmation \u2192 ask:  \\n            \u201cAnything else I can help with?\u201d\\n\\n            Never call `confirm_reschedule` early.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CONVERSATION STYLE\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Speak like a calm clinic receptionist.\\n            - Use short sentences.  \\n            - One question per turn.  \\n            - No filler like \u201cas an AI\u201d.  \\n            - No medical advice.  \\n            - Don't ask for information you already have.\\n\\n            **Good examples:**\\n            - \u201cSure. What day works for you?\u201d\\n            - \u201cGot it. And what time?\u201d\\n            - \u201cPerfect. One moment while I check.\u201d\\n\\n            **Bad examples:**\\n            - \u201cLet me call a tool.\u201d\\n            - \u201cProcessing your request.\u201d\\n            - \u201cI am updating your appointment in the database.\u201d\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESPONSE CONTROL\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Never output long paragraphs.  \\n            - Never output lists or explanations.  \\n            - Keep responses conversational and human.  \\n            - If caller pauses 5 seconds, use `end_call()`.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### ROLE REMINDER\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            You are the first point of contact for Shifa Clinic.  \\n            Be warm. Be efficient. Be human.\\n\\n            Now handle the caller.\\n\\n\"}, {'role': 'assistant', 'content': 'Good evening, Abdul Basit! How can I assist you today?'}, {'role': 'user', 'content': 'I want to book an appointment.'}, {'role': 'assistant', 'content': 'Sure! What date works for you?'}, {'role': 'user', 'content': 'Sorry?'}], 'model': 'gpt-4o-mini', 'stream': True, 'stream_options': {'include_usage': True}, 'temperature': 0.7, 'tools': [{'type': 'function', 'function': {'name': 'save_name', 'strict': True, 'description': '', 'parameters': {'properties': {'name': {'type': 'string'}}, 'required': ['name'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'save_phone', 'strict': True, 'description': 'Store validated patient phone in Redis using existing BookingBase validator.', 'parameters': {'properties': {'phone': {'type': 'string'}}, 'required': ['phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'available_slot', 'strict': True, 'description': 'Suggest available appointment slots for a given day.\\n- Understands natural language (\"tomorrow\", \"morning\", \"after 2pm\")\\n- Always fetches fresh availability from DB.\\n- Returns top 3 free slots.\\n- Stores them in ctx.suggested_slots for booking_appointment.', 'parameters': {'properties': {'day': {'type': 'string'}, 'date': {'type': 'string'}, 'time': {'type': 'string'}}, 'required': ['day', 'date', 'time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'booking_appointment', 'strict': True, 'description': 'Create or reschedule an appointment.\\nClean, predictable, AI-friendly logic.\\nUses helper functions for DB safety.', 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'get_date', 'strict': True, 'description': 'Return system date and time.', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'end_call', 'strict': True, 'description': \"Gracefully end the call after confirming there's nothing else needed.\\nDoes not clear Redis; short-term memory expires via TTL.\", 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'update_caller_profile', 'strict': True, 'description': 'Persist caller profile (name/phone) for future calls without disrupting session.\\nIf phone not provided, uses current session phone if available.', 'parameters': {'properties': {'name': {'type': ['string', 'null']}, 'phone': {'type': ['string', 'null']}}, 'required': ['name', 'phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'start_reschedule', 'strict': True, 'description': '', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'confirm_reschedule', 'strict': True, 'description': \"Confirm and perform rescheduling to the selected date/time.\\nUse after start_reschedule + available_slot when the caller says 'yes'.\", 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}]}}"}
{"timestamp": "2025-11-17T16:34:20.469300", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions"}
{"timestamp": "2025-11-17T16:34:20.470539", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=10.0 socket_options=None"}
{"timestamp": "2025-11-17T16:34:20.818216", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x12fcbdd90>"}
{"timestamp": "2025-11-17T16:34:20.818485", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x127b24050> server_hostname='api.openai.com' timeout=10.0"}
{"timestamp": "2025-11-17T16:34:20.861241", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397260.860996, 'idle_time': 16.24736216699239, 'inference_duration_total': 0.032644415041431785, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:20.861657", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397260.860996, 'idle_time': 16.24736216699239, 'inference_duration_total': 0.032644415041431785, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:21.209321", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x12fc878d0>"}
{"timestamp": "2025-11-17T16:34:21.210490", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:34:21.211579", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-17T16:34:21.211797", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:34:21.212338", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-17T16:34:21.212465", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:34:21.863713", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397261.863154, 'idle_time': 17.24951616700855, 'inference_duration_total': 0.044781834934838116, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:21.864915", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397261.863154, 'idle_time': 17.24951616700855, 'inference_duration_total': 0.044781834934838116, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:22.913752", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397262.913187, 'idle_time': 18.299545417015906, 'inference_duration_total': 0.040358666999964043, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:22.914565", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397262.913187, 'idle_time': 18.299545417015906, 'inference_duration_total': 0.040358666999964043, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:23.030038", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 17 Nov 2025 16:34:22 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'588'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'1209'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9997'), (b'x-ratelimit-remaining-tokens', b'198616'), (b'x-ratelimit-reset-requests', b'24.665s'), (b'x-ratelimit-reset-tokens', b'415ms'), (b'x-request-id', b'req_969b41fe189149ba928b91252046a350'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a00a293c93985c1-HKG'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-17T16:34:23.031502", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/chat/completions \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-17T16:34:23.031824", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Mon, 17 Nov 2025 16:34:22 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '588', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '1209', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9997', 'x-ratelimit-remaining-tokens': '198616', 'x-ratelimit-reset-requests': '24.665s', 'x-ratelimit-reset-tokens': '415ms', 'x-request-id': 'req_969b41fe189149ba928b91252046a350', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a00a293c93985c1-HKG', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-17T16:34:23.032208", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_969b41fe189149ba928b91252046a350"}
{"timestamp": "2025-11-17T16:34:23.032854", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:34:23.911453", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397263.911249, 'idle_time': 0.00012954100384376943, 'inference_duration_total': 0.03855891598504968, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:23.911909", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397263.911249, 'idle_time': 0.00012954100384376943, 'inference_duration_total': 0.03855891598504968, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:24.370861", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '333ab2f8-e81a-4708-af26-51acbb72b77a', 'timestamp': 1763397264.370454, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:34:24.372902", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '333ab2f8-e81a-4708-af26-51acbb72b77a', 'timestamp': 1763397264.370454, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:34:24.680142", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-17T16:34:24.681010", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-17T16:34:24.684179", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.failed exception=GeneratorExit()"}
{"timestamp": "2025-11-17T16:34:24.685297", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CcwTGIK058kJ3sKl5qlNzCCzubQI6', 'timestamp': 1763397264.6846561, 'duration': 4.242852291994495, 'ttft': 4.239034958998673, 'cancelled': False, 'completion_tokens': 10, 'prompt_tokens': 1360, 'prompt_cached_tokens': 1280, 'total_tokens': 1370, 'tokens_per_second': 2.3569050515541665, 'speech_id': 'speech_49bcba7840a1', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:34:24.685759", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CcwTGIK058kJ3sKl5qlNzCCzubQI6', 'timestamp': 1763397264.6846561, 'duration': 4.242852291994495, 'ttft': 4.239034958998673, 'cancelled': False, 'completion_tokens': 10, 'prompt_tokens': 1360, 'prompt_cached_tokens': 1280, 'total_tokens': 1370, 'tokens_per_second': 2.3569050515541665, 'speech_id': 'speech_49bcba7840a1', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:34:24.687740", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream', 'X-Stainless-Raw-Response': 'stream'}, 'timeout': Timeout(connect=10.0, read=30, write=30, pool=30), 'files': None, 'idempotency_key': 'stainless-python-retry-fc38821c-f685-4a53-9169-09833ef3684b', 'json_data': {'input': 'What date would you like for your appointment?', 'model': 'gpt-4o-mini-tts', 'voice': 'alloy', 'response_format': 'mp3', 'speed': 1.0}}"}
{"timestamp": "2025-11-17T16:34:24.689130", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/audio/speech"}
{"timestamp": "2025-11-17T16:34:24.690714", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:34:24.691329", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-17T16:34:24.691458", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:34:24.691859", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-17T16:34:24.692023", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:34:24.960181", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397264.959883, 'idle_time': 0.49521695901057683, 'inference_duration_total': 0.035413039033301175, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:24.960554", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397264.959883, 'idle_time': 0.49521695901057683, 'inference_duration_total': 0.035413039033301175, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:25.575687", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 17 Nov 2025 16:34:25 GMT'), (b'Content-Type', b'audio/mpeg'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'538'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'555'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9996'), (b'x-ratelimit-remaining-tokens', b'199989'), (b'x-ratelimit-reset-requests', b'30.182s'), (b'x-ratelimit-reset-tokens', b'3ms'), (b'x-request-id', b'req_311f129a1f20486cb0a1ea4e183195b3'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a00a2a95bff9080-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-17T16:34:25.577442", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/audio/speech \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-17T16:34:25.578078", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/audio/speech \"200 OK\" Headers({'date': 'Mon, 17 Nov 2025 16:34:25 GMT', 'content-type': 'audio/mpeg', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '538', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '555', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9996', 'x-ratelimit-remaining-tokens': '199989', 'x-ratelimit-reset-requests': '30.182s', 'x-ratelimit-reset-tokens': '3ms', 'x-request-id': 'req_311f129a1f20486cb0a1ea4e183195b3', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a00a2a95bff9080-KHI', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-17T16:34:25.578516", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_311f129a1f20486cb0a1ea4e183195b3"}
{"timestamp": "2025-11-17T16:34:25.579748", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:34:25.874565", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete"}
{"timestamp": "2025-11-17T16:34:25.874895", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-17T16:34:25.875140", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-17T16:34:25.886457", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-17T16:34:25.887208", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_311f129a1f20486cb0a1ea4e183195b3', 'timestamp': 1763397265.886963, 'ttfb': 1.0637827919854317, 'duration': 1.2002141670091078, 'audio_duration': 2.89, 'cancelled': False, 'characters_count': 46, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_49bcba7840a1', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:34:25.887857", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_311f129a1f20486cb0a1ea4e183195b3', 'timestamp': 1763397265.886963, 'ttfb': 1.0637827919854317, 'duration': 1.2002141670091078, 'audio_duration': 2.89, 'cancelled': False, 'characters_count': 46, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_49bcba7840a1', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:34:25.895940", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763397265.895844, 'end_of_utterance_delay': 2.0069339275360107, 'transcription_delay': 2.005983829498291, 'on_user_turn_completed_delay': 7.152557373046875e-07, 'last_speaking_time': 1763397263.880573, 'speech_id': 'speech_bbc4ce3eddc3', 'metadata': None}}"}
{"timestamp": "2025-11-17T16:34:25.896393", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763397265.895844, 'end_of_utterance_delay': 2.0069339275360107, 'transcription_delay': 2.005983829498291, 'on_user_turn_completed_delay': 7.152557373046875e-07, 'last_speaking_time': 1763397263.880573, 'speech_id': 'speech_bbc4ce3eddc3', 'metadata': None}}"}
{"timestamp": "2025-11-17T16:34:25.904638", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'timeout': Timeout(timeout=10.0), 'files': None, 'idempotency_key': 'stainless-python-retry-cb943c4c-e2ef-448b-87d3-0077819b659b', 'json_data': {'messages': [{'role': 'system', 'content': \"\\n        You are **Shifa Clinic\u2019s AI Receptionist**, answering calls in real time.\\n            Your role is to help callers with booking, confirming, or rescheduling appointments.\\n            Speak naturally, briefly, and professionally\u2014like an experienced clinic receptionist.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CORE BEHAVIOR\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            1. **Every call is fresh.**  \\n            Do not rely on previous session context. Use only:\\n            - caller name (if known)\\n            - caller phone (if known)\\n            - information spoken in THIS call\\n            \\n\\n            2. **One task at a time.**  \\n            Every reply must:\\n            - confirm the last thing the caller said\\n            - take one small step forward (ask ONE question)\\n            - be under **8 words**\\n                Always respond in under 8 words. Prioritize immediate tool calls. Do not speak long sentences.\\n\\n            3. **Never expose internal logic.**  \\n            Never say:\\n            - \u201ccalling a tool\u2026\u201d\\n            - \u201csaving memory\u2026\u201d\\n            - \u201cI detected your name\u2026\u201d\\n            - \u201cupdating the appointment\u2026\u201d\\n\\n            4. **Always stay polite, warm, and concise.**\\n            Examples:\\n            - \u201cSure, one moment.\u201d\\n            - \u201cGot it.\u201d\\n            - \u201cLet me check that.\u201d\\n\\n            5. **If caller seems confused, repeat slowly and simply.**\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### TOOL CALLING RULES\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            Use tools to perform actions.  \\n            After calling a tool, speak a short natural confirmation.\\n\\n            **Tools you may call:**\\n            - `save_name(name)`\\n            - `save_phone(phone)`\\n            - `available_slot()`\\n            - `booking_appointment()`\\n            - `get_date()`\\n            - `update_caller_profile(name?, phone?)`\\n            - `start_reschedule()`\\n            - `confirm_reschedule()`\\n            - `end_call()`\\n\\n            Tool usage guidelines:\\n            - Call **save_name** immediately when you hear a name.\\n            - Call **save_phone** when digits are spoken.  \\n            If partial, ask: \u201cCan you repeat that number slowly?\u201d\\n            - Call **available_slot** when caller expresses a time preference (morning, evening, 3pm, etc.)\\n            - Call **get_date** when caller gives a vague date (\u201cnext Monday\u201d).\\n            - Call **booking_appointment** only when BOTH date and time are known.\\n            - Call **update_caller_profile** if caller corrects name or phone.\\n            - After a booking or reschedule completes, ask:  \\n            \u201cAnything else I can help with?\u201d  \\n            If caller says \u201cno\u201d, use `end_call()`.\\n            If the phone number is unclear or has extra/missing digits, ask the caller to repeat it digit by digit.\\n                Do not guess phone numbers.\\n                Always confirm the final number by repeating it back.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESCHEDULE FLOW\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            When the caller says anything like \u201cchange\u201d, \u201cmove\u201d, \u201creschedule\u201d, \u201cshift\u201d:\\n            1. Call **start_reschedule**.\\n            2. Ask for the new date.\\n            3. Once date \u2192 ask for time.\\n            4. When BOTH are known \u2192 call **confirm_reschedule**.\\n            5. After confirmation \u2192 ask:  \\n            \u201cAnything else I can help with?\u201d\\n\\n            Never call `confirm_reschedule` early.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CONVERSATION STYLE\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Speak like a calm clinic receptionist.\\n            - Use short sentences.  \\n            - One question per turn.  \\n            - No filler like \u201cas an AI\u201d.  \\n            - No medical advice.  \\n            - Don't ask for information you already have.\\n\\n            **Good examples:**\\n            - \u201cSure. What day works for you?\u201d\\n            - \u201cGot it. And what time?\u201d\\n            - \u201cPerfect. One moment while I check.\u201d\\n\\n            **Bad examples:**\\n            - \u201cLet me call a tool.\u201d\\n            - \u201cProcessing your request.\u201d\\n            - \u201cI am updating your appointment in the database.\u201d\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESPONSE CONTROL\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Never output long paragraphs.  \\n            - Never output lists or explanations.  \\n            - Keep responses conversational and human.  \\n            - If caller pauses 5 seconds, use `end_call()`.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### ROLE REMINDER\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            You are the first point of contact for Shifa Clinic.  \\n            Be warm. Be efficient. Be human.\\n\\n            Now handle the caller.\\n\\n\"}, {'role': 'assistant', 'content': 'Good evening, Abdul Basit! How can I assist you today?'}, {'role': 'user', 'content': 'I want to book an appointment.'}, {'role': 'assistant', 'content': 'Sure! What date works for you?'}, {'role': 'user', 'content': 'Sorry?'}, {'role': 'user', 'content': 'Hello?'}], 'model': 'gpt-4o-mini', 'stream': True, 'stream_options': {'include_usage': True}, 'temperature': 0.7, 'tools': [{'type': 'function', 'function': {'name': 'save_name', 'strict': True, 'description': '', 'parameters': {'properties': {'name': {'type': 'string'}}, 'required': ['name'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'save_phone', 'strict': True, 'description': 'Store validated patient phone in Redis using existing BookingBase validator.', 'parameters': {'properties': {'phone': {'type': 'string'}}, 'required': ['phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'available_slot', 'strict': True, 'description': 'Suggest available appointment slots for a given day.\\n- Understands natural language (\"tomorrow\", \"morning\", \"after 2pm\")\\n- Always fetches fresh availability from DB.\\n- Returns top 3 free slots.\\n- Stores them in ctx.suggested_slots for booking_appointment.', 'parameters': {'properties': {'day': {'type': 'string'}, 'date': {'type': 'string'}, 'time': {'type': 'string'}}, 'required': ['day', 'date', 'time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'booking_appointment', 'strict': True, 'description': 'Create or reschedule an appointment.\\nClean, predictable, AI-friendly logic.\\nUses helper functions for DB safety.', 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'get_date', 'strict': True, 'description': 'Return system date and time.', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'end_call', 'strict': True, 'description': \"Gracefully end the call after confirming there's nothing else needed.\\nDoes not clear Redis; short-term memory expires via TTL.\", 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'update_caller_profile', 'strict': True, 'description': 'Persist caller profile (name/phone) for future calls without disrupting session.\\nIf phone not provided, uses current session phone if available.', 'parameters': {'properties': {'name': {'type': ['string', 'null']}, 'phone': {'type': ['string', 'null']}}, 'required': ['name', 'phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'start_reschedule', 'strict': True, 'description': '', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'confirm_reschedule', 'strict': True, 'description': \"Confirm and perform rescheduling to the selected date/time.\\nUse after start_reschedule + available_slot when the caller says 'yes'.\", 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}]}}"}
{"timestamp": "2025-11-17T16:34:25.905801", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions"}
{"timestamp": "2025-11-17T16:34:25.906131", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=10.0 socket_options=None"}
{"timestamp": "2025-11-17T16:34:25.960885", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397265.960761, 'idle_time': 1.4960907500062604, 'inference_duration_total': 0.032724624150432646, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:25.961065", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397265.960761, 'idle_time': 1.4960907500062604, 'inference_duration_total': 0.032724624150432646, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:26.190592", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x12fe72410>"}
{"timestamp": "2025-11-17T16:34:26.191321", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x127b24050> server_hostname='api.openai.com' timeout=10.0"}
{"timestamp": "2025-11-17T16:34:27.013604", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397267.013056, 'idle_time': 2.5483820420049597, 'inference_duration_total': 0.04629366597509943, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:27.014535", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397267.013056, 'idle_time': 2.5483820420049597, 'inference_duration_total': 0.04629366597509943, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:28.010493", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397268.0103092, 'idle_time': 3.545631459011929, 'inference_duration_total': 0.028365875012241304, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:28.010820", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397268.0103092, 'idle_time': 3.545631459011929, 'inference_duration_total': 0.028365875012241304, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:29.062955", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397269.062401, 'idle_time': 4.597718542005168, 'inference_duration_total': 0.037697291030781344, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:29.063785", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397269.062401, 'idle_time': 4.597718542005168, 'inference_duration_total': 0.037697291030781344, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:29.412168", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '333ab2f8-e81a-4708-af26-51acbb72b77a', 'timestamp': 1763397269.411615, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:34:29.412953", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '333ab2f8-e81a-4708-af26-51acbb72b77a', 'timestamp': 1763397269.411615, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:34:30.062423", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397270.062061, 'idle_time': 5.597374584001955, 'inference_duration_total': 0.03217787103494629, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:30.062870", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397270.062061, 'idle_time': 5.597374584001955, 'inference_duration_total': 0.03217787103494629, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:30.332701", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x122f3fa50>"}
{"timestamp": "2025-11-17T16:34:30.333497", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:34:30.334252", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-17T16:34:30.334421", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:34:30.334886", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-17T16:34:30.335026", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:34:30.393538", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-17T16:34:30.397979", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.failed exception=CancelledError()"}
{"timestamp": "2025-11-17T16:34:30.398276", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-17T16:34:30.399380", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-17T16:34:30.403355", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763397270.4030669, 'end_of_utterance_delay': 6.496755123138428, 'transcription_delay': 6.495959043502808, 'on_user_turn_completed_delay': 3.814697265625e-06, 'last_speaking_time': 1763397263.897899, 'speech_id': 'speech_da16015bcb94', 'metadata': None}}"}
{"timestamp": "2025-11-17T16:34:30.404334", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763397270.4030669, 'end_of_utterance_delay': 6.496755123138428, 'transcription_delay': 6.495959043502808, 'on_user_turn_completed_delay': 3.814697265625e-06, 'last_speaking_time': 1763397263.897899, 'speech_id': 'speech_da16015bcb94', 'metadata': None}}"}
{"timestamp": "2025-11-17T16:34:30.415995", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'timeout': Timeout(timeout=10.0), 'files': None, 'idempotency_key': 'stainless-python-retry-989f09b4-10dc-4cad-81b3-5a8fc6209761', 'json_data': {'messages': [{'role': 'system', 'content': \"\\n        You are **Shifa Clinic\u2019s AI Receptionist**, answering calls in real time.\\n            Your role is to help callers with booking, confirming, or rescheduling appointments.\\n            Speak naturally, briefly, and professionally\u2014like an experienced clinic receptionist.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CORE BEHAVIOR\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            1. **Every call is fresh.**  \\n            Do not rely on previous session context. Use only:\\n            - caller name (if known)\\n            - caller phone (if known)\\n            - information spoken in THIS call\\n            \\n\\n            2. **One task at a time.**  \\n            Every reply must:\\n            - confirm the last thing the caller said\\n            - take one small step forward (ask ONE question)\\n            - be under **8 words**\\n                Always respond in under 8 words. Prioritize immediate tool calls. Do not speak long sentences.\\n\\n            3. **Never expose internal logic.**  \\n            Never say:\\n            - \u201ccalling a tool\u2026\u201d\\n            - \u201csaving memory\u2026\u201d\\n            - \u201cI detected your name\u2026\u201d\\n            - \u201cupdating the appointment\u2026\u201d\\n\\n            4. **Always stay polite, warm, and concise.**\\n            Examples:\\n            - \u201cSure, one moment.\u201d\\n            - \u201cGot it.\u201d\\n            - \u201cLet me check that.\u201d\\n\\n            5. **If caller seems confused, repeat slowly and simply.**\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### TOOL CALLING RULES\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            Use tools to perform actions.  \\n            After calling a tool, speak a short natural confirmation.\\n\\n            **Tools you may call:**\\n            - `save_name(name)`\\n            - `save_phone(phone)`\\n            - `available_slot()`\\n            - `booking_appointment()`\\n            - `get_date()`\\n            - `update_caller_profile(name?, phone?)`\\n            - `start_reschedule()`\\n            - `confirm_reschedule()`\\n            - `end_call()`\\n\\n            Tool usage guidelines:\\n            - Call **save_name** immediately when you hear a name.\\n            - Call **save_phone** when digits are spoken.  \\n            If partial, ask: \u201cCan you repeat that number slowly?\u201d\\n            - Call **available_slot** when caller expresses a time preference (morning, evening, 3pm, etc.)\\n            - Call **get_date** when caller gives a vague date (\u201cnext Monday\u201d).\\n            - Call **booking_appointment** only when BOTH date and time are known.\\n            - Call **update_caller_profile** if caller corrects name or phone.\\n            - After a booking or reschedule completes, ask:  \\n            \u201cAnything else I can help with?\u201d  \\n            If caller says \u201cno\u201d, use `end_call()`.\\n            If the phone number is unclear or has extra/missing digits, ask the caller to repeat it digit by digit.\\n                Do not guess phone numbers.\\n                Always confirm the final number by repeating it back.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESCHEDULE FLOW\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            When the caller says anything like \u201cchange\u201d, \u201cmove\u201d, \u201creschedule\u201d, \u201cshift\u201d:\\n            1. Call **start_reschedule**.\\n            2. Ask for the new date.\\n            3. Once date \u2192 ask for time.\\n            4. When BOTH are known \u2192 call **confirm_reschedule**.\\n            5. After confirmation \u2192 ask:  \\n            \u201cAnything else I can help with?\u201d\\n\\n            Never call `confirm_reschedule` early.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CONVERSATION STYLE\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Speak like a calm clinic receptionist.\\n            - Use short sentences.  \\n            - One question per turn.  \\n            - No filler like \u201cas an AI\u201d.  \\n            - No medical advice.  \\n            - Don't ask for information you already have.\\n\\n            **Good examples:**\\n            - \u201cSure. What day works for you?\u201d\\n            - \u201cGot it. And what time?\u201d\\n            - \u201cPerfect. One moment while I check.\u201d\\n\\n            **Bad examples:**\\n            - \u201cLet me call a tool.\u201d\\n            - \u201cProcessing your request.\u201d\\n            - \u201cI am updating your appointment in the database.\u201d\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESPONSE CONTROL\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Never output long paragraphs.  \\n            - Never output lists or explanations.  \\n            - Keep responses conversational and human.  \\n            - If caller pauses 5 seconds, use `end_call()`.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### ROLE REMINDER\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            You are the first point of contact for Shifa Clinic.  \\n            Be warm. Be efficient. Be human.\\n\\n            Now handle the caller.\\n\\n\"}, {'role': 'assistant', 'content': 'Good evening, Abdul Basit! How can I assist you today?'}, {'role': 'user', 'content': 'I want to book an appointment.'}, {'role': 'assistant', 'content': 'Sure! What date works for you?'}, {'role': 'user', 'content': 'Sorry?'}, {'role': 'user', 'content': 'Hello?'}, {'role': 'user', 'content': 'Hello.'}], 'model': 'gpt-4o-mini', 'stream': True, 'stream_options': {'include_usage': True}, 'temperature': 0.7, 'tools': [{'type': 'function', 'function': {'name': 'save_name', 'strict': True, 'description': '', 'parameters': {'properties': {'name': {'type': 'string'}}, 'required': ['name'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'save_phone', 'strict': True, 'description': 'Store validated patient phone in Redis using existing BookingBase validator.', 'parameters': {'properties': {'phone': {'type': 'string'}}, 'required': ['phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'available_slot', 'strict': True, 'description': 'Suggest available appointment slots for a given day.\\n- Understands natural language (\"tomorrow\", \"morning\", \"after 2pm\")\\n- Always fetches fresh availability from DB.\\n- Returns top 3 free slots.\\n- Stores them in ctx.suggested_slots for booking_appointment.', 'parameters': {'properties': {'day': {'type': 'string'}, 'date': {'type': 'string'}, 'time': {'type': 'string'}}, 'required': ['day', 'date', 'time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'booking_appointment', 'strict': True, 'description': 'Create or reschedule an appointment.\\nClean, predictable, AI-friendly logic.\\nUses helper functions for DB safety.', 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'get_date', 'strict': True, 'description': 'Return system date and time.', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'end_call', 'strict': True, 'description': \"Gracefully end the call after confirming there's nothing else needed.\\nDoes not clear Redis; short-term memory expires via TTL.\", 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'update_caller_profile', 'strict': True, 'description': 'Persist caller profile (name/phone) for future calls without disrupting session.\\nIf phone not provided, uses current session phone if available.', 'parameters': {'properties': {'name': {'type': ['string', 'null']}, 'phone': {'type': ['string', 'null']}}, 'required': ['name', 'phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'start_reschedule', 'strict': True, 'description': '', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'confirm_reschedule', 'strict': True, 'description': \"Confirm and perform rescheduling to the selected date/time.\\nUse after start_reschedule + available_slot when the caller says 'yes'.\", 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}]}}"}
{"timestamp": "2025-11-17T16:34:30.417817", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions"}
{"timestamp": "2025-11-17T16:34:30.418345", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=10.0 socket_options=None"}
{"timestamp": "2025-11-17T16:34:30.680958", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x12fceacd0>"}
{"timestamp": "2025-11-17T16:34:30.681312", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x127b24050> server_hostname='api.openai.com' timeout=10.0"}
{"timestamp": "2025-11-17T16:34:30.697876", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x12fe11110>"}
{"timestamp": "2025-11-17T16:34:30.698552", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:34:30.699401", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-17T16:34:30.699587", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:34:30.700098", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-17T16:34:30.700256", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:34:31.113296", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397271.112774, 'idle_time': 6.648083750013029, 'inference_duration_total': 0.03326237390865572, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:31.114153", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397271.112774, 'idle_time': 6.648083750013029, 'inference_duration_total': 0.03326237390865572, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:31.518352", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 17 Nov 2025 16:34:31 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'357'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'511'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9996'), (b'x-ratelimit-remaining-tokens', b'198611'), (b'x-ratelimit-reset-requests', b'32.674s'), (b'x-ratelimit-reset-tokens', b'416ms'), (b'x-request-id', b'req_af3c06d6993041198d1a9df268cd0a8c'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a00a2ceed1d2490-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-17T16:34:31.519690", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/chat/completions \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-17T16:34:31.520298", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Mon, 17 Nov 2025 16:34:31 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '357', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '511', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9996', 'x-ratelimit-remaining-tokens': '198611', 'x-ratelimit-reset-requests': '32.674s', 'x-ratelimit-reset-tokens': '416ms', 'x-request-id': 'req_af3c06d6993041198d1a9df268cd0a8c', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a00a2ceed1d2490-KHI', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-17T16:34:31.520746", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_af3c06d6993041198d1a9df268cd0a8c"}
{"timestamp": "2025-11-17T16:34:31.521283", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:34:32.006248", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-17T16:34:32.006719", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-17T16:34:32.007302", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CcwTPsSy38gcP7BtnzWiqolEMPUJ8', 'timestamp': 1763397272.007052, 'duration': 1.6013812909950502, 'ttft': 1.1523959579935763, 'cancelled': False, 'completion_tokens': 10, 'prompt_tokens': 1372, 'prompt_cached_tokens': 1280, 'total_tokens': 1382, 'tokens_per_second': 6.244608986149888, 'speech_id': 'speech_da16015bcb94', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:34:32.007551", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CcwTPsSy38gcP7BtnzWiqolEMPUJ8', 'timestamp': 1763397272.007052, 'duration': 1.6013812909950502, 'ttft': 1.1523959579935763, 'cancelled': False, 'completion_tokens': 10, 'prompt_tokens': 1372, 'prompt_cached_tokens': 1280, 'total_tokens': 1382, 'tokens_per_second': 6.244608986149888, 'speech_id': 'speech_da16015bcb94', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:34:32.008425", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream', 'X-Stainless-Raw-Response': 'stream'}, 'timeout': Timeout(connect=10.0, read=30, write=30, pool=30), 'files': None, 'idempotency_key': 'stainless-python-retry-0fde7cbc-1312-4b35-98ab-1b3e58fedc5e', 'json_data': {'input': 'What date would you like for your appointment?', 'model': 'gpt-4o-mini-tts', 'voice': 'alloy', 'response_format': 'mp3', 'speed': 1.0}}"}
{"timestamp": "2025-11-17T16:34:32.008992", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/audio/speech"}
{"timestamp": "2025-11-17T16:34:32.009483", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:34:32.009890", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-17T16:34:32.009984", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:34:32.010226", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-17T16:34:32.010299", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:34:32.010937", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.failed exception=GeneratorExit()"}
{"timestamp": "2025-11-17T16:34:32.113553", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397272.113131, 'idle_time': 7.648437374999048, 'inference_duration_total': 0.05433791794348508, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:32.114090", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397272.113131, 'idle_time': 7.648437374999048, 'inference_duration_total': 0.05433791794348508, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:33.163699", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397273.163254, 'idle_time': 8.69855570900836, 'inference_duration_total': 0.03988317199400626, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:33.164358", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397273.163254, 'idle_time': 8.69855570900836, 'inference_duration_total': 0.03988317199400626, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:33.415589", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 17 Nov 2025 16:34:33 GMT'), (b'Content-Type', b'audio/mpeg'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'554'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'567'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9994'), (b'x-ratelimit-remaining-tokens', b'199989'), (b'x-ratelimit-reset-requests', b'48.49s'), (b'x-ratelimit-reset-tokens', b'3ms'), (b'x-request-id', b'req_73dd9bf8ca37452eb25a03874564f309'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a00a2d8cc4c9080-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-17T16:34:33.416681", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/audio/speech \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-17T16:34:33.416930", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/audio/speech \"200 OK\" Headers({'date': 'Mon, 17 Nov 2025 16:34:33 GMT', 'content-type': 'audio/mpeg', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '554', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '567', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9994', 'x-ratelimit-remaining-tokens': '199989', 'x-ratelimit-reset-requests': '48.49s', 'x-ratelimit-reset-tokens': '3ms', 'x-request-id': 'req_73dd9bf8ca37452eb25a03874564f309', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a00a2d8cc4c9080-KHI', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-17T16:34:33.417251", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_73dd9bf8ca37452eb25a03874564f309"}
{"timestamp": "2025-11-17T16:34:33.417750", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:34:33.438495", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete"}
{"timestamp": "2025-11-17T16:34:33.439261", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-17T16:34:33.439678", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-17T16:34:33.460120", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_73dd9bf8ca37452eb25a03874564f309', 'timestamp': 1763397273.459733, 'ttfb': 1.4160895420063753, 'duration': 1.4517320420127362, 'audio_duration': 2.1939999999999995, 'cancelled': False, 'characters_count': 46, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_da16015bcb94', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:34:33.460709", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_73dd9bf8ca37452eb25a03874564f309', 'timestamp': 1763397273.459733, 'ttfb': 1.4160895420063753, 'duration': 1.4517320420127362, 'audio_duration': 2.1939999999999995, 'cancelled': False, 'characters_count': 46, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_da16015bcb94', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:34:34.163251", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397274.162652, 'idle_time': 9.69795020899619, 'inference_duration_total': 0.03368724894244224, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:34.164786", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397274.162652, 'idle_time': 9.69795020899619, 'inference_duration_total': 0.03368724894244224, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:34.461541", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '333ab2f8-e81a-4708-af26-51acbb72b77a', 'timestamp': 1763397274.461043, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:34:34.462407", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '333ab2f8-e81a-4708-af26-51acbb72b77a', 'timestamp': 1763397274.461043, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:34:35.213702", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397275.213151, 'idle_time': 10.748444958997425, 'inference_duration_total': 0.03555154494824819, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:35.214531", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397275.213151, 'idle_time': 10.748444958997425, 'inference_duration_total': 0.03555154494824819, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:36.212986", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397276.2125561, 'idle_time': 11.747845834004693, 'inference_duration_total': 0.034898579004220665, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:36.214406", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397276.2125561, 'idle_time': 11.747845834004693, 'inference_duration_total': 0.034898579004220665, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:37.263196", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397277.262733, 'idle_time': 12.798018959001638, 'inference_duration_total': 0.036437627946725115, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:37.264619", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397277.262733, 'idle_time': 12.798018959001638, 'inference_duration_total': 0.036437627946725115, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:38.263435", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397278.26285, 'idle_time': 13.79813212499721, 'inference_duration_total': 0.0369668360799551, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:38.264076", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397278.26285, 'idle_time': 13.79813212499721, 'inference_duration_total': 0.0369668360799551, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:39.313240", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397279.312711, 'idle_time': 14.847989333997248, 'inference_duration_total': 0.03622874998836778, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:39.314060", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397279.312711, 'idle_time': 14.847989333997248, 'inference_duration_total': 0.03622874998836778, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:39.461984", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '333ab2f8-e81a-4708-af26-51acbb72b77a', 'timestamp': 1763397279.461449, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:34:39.462784", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '333ab2f8-e81a-4708-af26-51acbb72b77a', 'timestamp': 1763397279.461449, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:34:40.311088", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397280.3106828, 'idle_time': 15.8459567920072, 'inference_duration_total': 0.029028916003881022, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:40.311724", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397280.3106828, 'idle_time': 15.8459567920072, 'inference_duration_total': 0.029028916003881022, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:41.363855", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397281.363297, 'idle_time': 0.34927274999790825, 'inference_duration_total': 0.03884520707651973, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:41.364666", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397281.363297, 'idle_time': 0.34927274999790825, 'inference_duration_total': 0.03884520707651973, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:42.362855", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397282.361415, 'idle_time': 0.5996445000055246, 'inference_duration_total': 0.0957858749316074, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:42.363618", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397282.361415, 'idle_time': 0.5996445000055246, 'inference_duration_total': 0.0957858749316074, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:42.745919", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-17T16:34:42.781705", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763397282.781257, 'end_of_utterance_delay': 1.5899999141693115, 'transcription_delay': 1.5606269836425781, 'on_user_turn_completed_delay': 2.86102294921875e-06, 'last_speaking_time': 1763397281.185614, 'speech_id': 'speech_cac1d0a991e8', 'metadata': None}}"}
{"timestamp": "2025-11-17T16:34:42.782316", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763397282.781257, 'end_of_utterance_delay': 1.5899999141693115, 'transcription_delay': 1.5606269836425781, 'on_user_turn_completed_delay': 2.86102294921875e-06, 'last_speaking_time': 1763397281.185614, 'speech_id': 'speech_cac1d0a991e8', 'metadata': None}}"}
{"timestamp": "2025-11-17T16:34:42.857982", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'timeout': Timeout(timeout=10.0), 'files': None, 'idempotency_key': 'stainless-python-retry-6ced5c74-7e8d-4b6c-9046-9b42af8fdc50', 'json_data': {'messages': [{'role': 'system', 'content': \"\\n        You are **Shifa Clinic\u2019s AI Receptionist**, answering calls in real time.\\n            Your role is to help callers with booking, confirming, or rescheduling appointments.\\n            Speak naturally, briefly, and professionally\u2014like an experienced clinic receptionist.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CORE BEHAVIOR\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            1. **Every call is fresh.**  \\n            Do not rely on previous session context. Use only:\\n            - caller name (if known)\\n            - caller phone (if known)\\n            - information spoken in THIS call\\n            \\n\\n            2. **One task at a time.**  \\n            Every reply must:\\n            - confirm the last thing the caller said\\n            - take one small step forward (ask ONE question)\\n            - be under **8 words**\\n                Always respond in under 8 words. Prioritize immediate tool calls. Do not speak long sentences.\\n\\n            3. **Never expose internal logic.**  \\n            Never say:\\n            - \u201ccalling a tool\u2026\u201d\\n            - \u201csaving memory\u2026\u201d\\n            - \u201cI detected your name\u2026\u201d\\n            - \u201cupdating the appointment\u2026\u201d\\n\\n            4. **Always stay polite, warm, and concise.**\\n            Examples:\\n            - \u201cSure, one moment.\u201d\\n            - \u201cGot it.\u201d\\n            - \u201cLet me check that.\u201d\\n\\n            5. **If caller seems confused, repeat slowly and simply.**\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### TOOL CALLING RULES\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            Use tools to perform actions.  \\n            After calling a tool, speak a short natural confirmation.\\n\\n            **Tools you may call:**\\n            - `save_name(name)`\\n            - `save_phone(phone)`\\n            - `available_slot()`\\n            - `booking_appointment()`\\n            - `get_date()`\\n            - `update_caller_profile(name?, phone?)`\\n            - `start_reschedule()`\\n            - `confirm_reschedule()`\\n            - `end_call()`\\n\\n            Tool usage guidelines:\\n            - Call **save_name** immediately when you hear a name.\\n            - Call **save_phone** when digits are spoken.  \\n            If partial, ask: \u201cCan you repeat that number slowly?\u201d\\n            - Call **available_slot** when caller expresses a time preference (morning, evening, 3pm, etc.)\\n            - Call **get_date** when caller gives a vague date (\u201cnext Monday\u201d).\\n            - Call **booking_appointment** only when BOTH date and time are known.\\n            - Call **update_caller_profile** if caller corrects name or phone.\\n            - After a booking or reschedule completes, ask:  \\n            \u201cAnything else I can help with?\u201d  \\n            If caller says \u201cno\u201d, use `end_call()`.\\n            If the phone number is unclear or has extra/missing digits, ask the caller to repeat it digit by digit.\\n                Do not guess phone numbers.\\n                Always confirm the final number by repeating it back.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESCHEDULE FLOW\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            When the caller says anything like \u201cchange\u201d, \u201cmove\u201d, \u201creschedule\u201d, \u201cshift\u201d:\\n            1. Call **start_reschedule**.\\n            2. Ask for the new date.\\n            3. Once date \u2192 ask for time.\\n            4. When BOTH are known \u2192 call **confirm_reschedule**.\\n            5. After confirmation \u2192 ask:  \\n            \u201cAnything else I can help with?\u201d\\n\\n            Never call `confirm_reschedule` early.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CONVERSATION STYLE\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Speak like a calm clinic receptionist.\\n            - Use short sentences.  \\n            - One question per turn.  \\n            - No filler like \u201cas an AI\u201d.  \\n            - No medical advice.  \\n            - Don't ask for information you already have.\\n\\n            **Good examples:**\\n            - \u201cSure. What day works for you?\u201d\\n            - \u201cGot it. And what time?\u201d\\n            - \u201cPerfect. One moment while I check.\u201d\\n\\n            **Bad examples:**\\n            - \u201cLet me call a tool.\u201d\\n            - \u201cProcessing your request.\u201d\\n            - \u201cI am updating your appointment in the database.\u201d\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESPONSE CONTROL\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Never output long paragraphs.  \\n            - Never output lists or explanations.  \\n            - Keep responses conversational and human.  \\n            - If caller pauses 5 seconds, use `end_call()`.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### ROLE REMINDER\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            You are the first point of contact for Shifa Clinic.  \\n            Be warm. Be efficient. Be human.\\n\\n            Now handle the caller.\\n\\n\"}, {'role': 'assistant', 'content': 'Good evening, Abdul Basit! How can I assist you today?'}, {'role': 'user', 'content': 'I want to book an appointment.'}, {'role': 'assistant', 'content': 'Sure! What date works for you?'}, {'role': 'user', 'content': 'Sorry?'}, {'role': 'user', 'content': 'Hello?'}, {'role': 'user', 'content': 'Hello.'}, {'role': 'assistant', 'content': 'What date would you like for your appointment?'}, {'role': 'user', 'content': 'Tomorrow morning.'}], 'model': 'gpt-4o-mini', 'stream': True, 'stream_options': {'include_usage': True}, 'temperature': 0.7, 'tools': [{'type': 'function', 'function': {'name': 'save_name', 'strict': True, 'description': '', 'parameters': {'properties': {'name': {'type': 'string'}}, 'required': ['name'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'save_phone', 'strict': True, 'description': 'Store validated patient phone in Redis using existing BookingBase validator.', 'parameters': {'properties': {'phone': {'type': 'string'}}, 'required': ['phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'available_slot', 'strict': True, 'description': 'Suggest available appointment slots for a given day.\\n- Understands natural language (\"tomorrow\", \"morning\", \"after 2pm\")\\n- Always fetches fresh availability from DB.\\n- Returns top 3 free slots.\\n- Stores them in ctx.suggested_slots for booking_appointment.', 'parameters': {'properties': {'day': {'type': 'string'}, 'date': {'type': 'string'}, 'time': {'type': 'string'}}, 'required': ['day', 'date', 'time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'booking_appointment', 'strict': True, 'description': 'Create or reschedule an appointment.\\nClean, predictable, AI-friendly logic.\\nUses helper functions for DB safety.', 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'get_date', 'strict': True, 'description': 'Return system date and time.', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'end_call', 'strict': True, 'description': \"Gracefully end the call after confirming there's nothing else needed.\\nDoes not clear Redis; short-term memory expires via TTL.\", 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'update_caller_profile', 'strict': True, 'description': 'Persist caller profile (name/phone) for future calls without disrupting session.\\nIf phone not provided, uses current session phone if available.', 'parameters': {'properties': {'name': {'type': ['string', 'null']}, 'phone': {'type': ['string', 'null']}}, 'required': ['name', 'phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'start_reschedule', 'strict': True, 'description': '', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'confirm_reschedule', 'strict': True, 'description': \"Confirm and perform rescheduling to the selected date/time.\\nUse after start_reschedule + available_slot when the caller says 'yes'.\", 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}]}}"}
{"timestamp": "2025-11-17T16:34:42.868023", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions"}
{"timestamp": "2025-11-17T16:34:42.878030", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=10.0 socket_options=None"}
{"timestamp": "2025-11-17T16:34:43.413956", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397283.413099, 'idle_time': 1.6513245830137748, 'inference_duration_total': 0.23141041796770878, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:43.414970", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397283.413099, 'idle_time': 1.6513245830137748, 'inference_duration_total': 0.23141041796770878, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:44.411207", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397284.410912, 'idle_time': 2.649133750004694, 'inference_duration_total': 0.030433918931521475, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:44.411920", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397284.410912, 'idle_time': 2.649133750004694, 'inference_duration_total': 0.030433918931521475, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:44.509974", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '333ab2f8-e81a-4708-af26-51acbb72b77a', 'timestamp': 1763397284.509697, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:34:44.510370", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '333ab2f8-e81a-4708-af26-51acbb72b77a', 'timestamp': 1763397284.509697, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:34:45.463132", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397285.462512, 'idle_time': 3.700729708012659, 'inference_duration_total': 0.027359956002328545, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:45.463947", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397285.462512, 'idle_time': 3.700729708012659, 'inference_duration_total': 0.027359956002328545, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:45.495188", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1600ab350>"}
{"timestamp": "2025-11-17T16:34:45.495490", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x127b24050> server_hostname='api.openai.com' timeout=10.0"}
{"timestamp": "2025-11-17T16:34:45.683142", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x124150c90>"}
{"timestamp": "2025-11-17T16:34:45.684257", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:34:45.686256", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-17T16:34:45.686440", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:34:45.686921", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-17T16:34:45.687069", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:34:46.463500", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397286.46299, 'idle_time': 4.701203375007026, 'inference_duration_total': 0.036853127006907016, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:46.464271", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397286.46299, 'idle_time': 4.701203375007026, 'inference_duration_total': 0.036853127006907016, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:47.463616", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397287.4629812, 'idle_time': 5.701191333006136, 'inference_duration_total': 0.031984624976757914, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:47.464362", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397287.4629812, 'idle_time': 5.701191333006136, 'inference_duration_total': 0.031984624976757914, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:47.958505", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 17 Nov 2025 16:34:48 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'575'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'600'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9994'), (b'x-ratelimit-remaining-tokens', b'198592'), (b'x-ratelimit-reset-requests', b'43.488s'), (b'x-ratelimit-reset-tokens', b'422ms'), (b'x-request-id', b'req_3dff2bdad881416da02a8b02932b94a1'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a00a32ddaf19092-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-17T16:34:47.959903", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/chat/completions \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-17T16:34:47.960339", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Mon, 17 Nov 2025 16:34:48 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '575', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '600', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9994', 'x-ratelimit-remaining-tokens': '198592', 'x-ratelimit-reset-requests': '43.488s', 'x-ratelimit-reset-tokens': '422ms', 'x-request-id': 'req_3dff2bdad881416da02a8b02932b94a1', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a00a32ddaf19092-KHI', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-17T16:34:47.960676", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_3dff2bdad881416da02a8b02932b94a1"}
{"timestamp": "2025-11-17T16:34:47.961334", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:34:48.416285", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-17T16:34:48.417090", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-17T16:34:48.418612", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CcwTfB4VlqKpEpJFZVwqzsnkX18zb', 'timestamp': 1763397288.417922, 'duration': 5.630721000023186, 'ttft': 5.23978000000352, 'cancelled': False, 'completion_tokens': 11, 'prompt_tokens': 1392, 'prompt_cached_tokens': 1280, 'total_tokens': 1403, 'tokens_per_second': 1.9535686459966146, 'speech_id': 'speech_cac1d0a991e8', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:34:48.419019", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CcwTfB4VlqKpEpJFZVwqzsnkX18zb', 'timestamp': 1763397288.417922, 'duration': 5.630721000023186, 'ttft': 5.23978000000352, 'cancelled': False, 'completion_tokens': 11, 'prompt_tokens': 1392, 'prompt_cached_tokens': 1280, 'total_tokens': 1403, 'tokens_per_second': 1.9535686459966146, 'speech_id': 'speech_cac1d0a991e8', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:34:48.421336", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream', 'X-Stainless-Raw-Response': 'stream'}, 'timeout': Timeout(connect=10.0, read=30, write=30, pool=30), 'files': None, 'idempotency_key': 'stainless-python-retry-7e2a4e0b-703c-4693-879c-12ba84615757', 'json_data': {'input': 'Got it! One moment while I check availability.', 'model': 'gpt-4o-mini-tts', 'voice': 'alloy', 'response_format': 'mp3', 'speed': 1.0}}"}
{"timestamp": "2025-11-17T16:34:48.422762", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/audio/speech"}
{"timestamp": "2025-11-17T16:34:48.424063", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:34:48.424834", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-17T16:34:48.424988", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:34:48.425306", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-17T16:34:48.425415", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:34:48.425816", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.failed exception=GeneratorExit()"}
{"timestamp": "2025-11-17T16:34:48.512770", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397288.512148, 'idle_time': 6.750353333016392, 'inference_duration_total': 0.03281991693074815, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:48.513466", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397288.512148, 'idle_time': 6.750353333016392, 'inference_duration_total': 0.03281991693074815, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:49.540477", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '333ab2f8-e81a-4708-af26-51acbb72b77a', 'timestamp': 1763397289.539993, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:34:49.542246", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '333ab2f8-e81a-4708-af26-51acbb72b77a', 'timestamp': 1763397289.539993, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:34:49.542738", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397289.542625, 'idle_time': 7.78082691601594, 'inference_duration_total': 0.04249187407549471, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:49.542911", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397289.542625, 'idle_time': 7.78082691601594, 'inference_duration_total': 0.04249187407549471, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:50.562840", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397290.562207, 'idle_time': 8.800405165995471, 'inference_duration_total': 0.03315550304250792, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:50.563597", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397290.562207, 'idle_time': 8.800405165995471, 'inference_duration_total': 0.03315550304250792, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:51.179607", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 17 Nov 2025 16:34:51 GMT'), (b'Content-Type', b'audio/mpeg'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'629'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'653'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9994'), (b'x-ratelimit-remaining-tokens', b'199989'), (b'x-ratelimit-reset-requests', b'47.844s'), (b'x-ratelimit-reset-tokens', b'3ms'), (b'x-request-id', b'req_ed8780270cac46a39751fda04efea38b'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a00a348ba309080-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-17T16:34:51.181060", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/audio/speech \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-17T16:34:51.181410", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/audio/speech \"200 OK\" Headers({'date': 'Mon, 17 Nov 2025 16:34:51 GMT', 'content-type': 'audio/mpeg', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '629', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '653', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9994', 'x-ratelimit-remaining-tokens': '199989', 'x-ratelimit-reset-requests': '47.844s', 'x-ratelimit-reset-tokens': '3ms', 'x-request-id': 'req_ed8780270cac46a39751fda04efea38b', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a00a348ba309080-KHI', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-17T16:34:51.181898", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_ed8780270cac46a39751fda04efea38b"}
{"timestamp": "2025-11-17T16:34:51.182596", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:34:51.413159", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-17T16:34:51.562827", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397291.562473, 'idle_time': 9.800666499999352, 'inference_duration_total': 0.029122704989276826, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:51.563474", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397291.562473, 'idle_time': 9.800666499999352, 'inference_duration_total': 0.029122704989276826, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:51.706264", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete"}
{"timestamp": "2025-11-17T16:34:51.706959", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-17T16:34:51.707457", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-17T16:34:51.728082", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_ed8780270cac46a39751fda04efea38b', 'timestamp': 1763397291.727627, 'ttfb': 2.8114723330072593, 'duration': 3.3075379169895314, 'audio_duration': 2.89, 'cancelled': False, 'characters_count': 46, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_cac1d0a991e8', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:34:51.728735", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_ed8780270cac46a39751fda04efea38b', 'timestamp': 1763397291.727627, 'ttfb': 2.8114723330072593, 'duration': 3.3075379169895314, 'audio_duration': 2.89, 'cancelled': False, 'characters_count': 46, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_cac1d0a991e8', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:34:52.612619", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397292.6120691, 'idle_time': 10.850258624996059, 'inference_duration_total': 0.034146666002925485, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:52.613296", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397292.6120691, 'idle_time': 10.850258624996059, 'inference_duration_total': 0.034146666002925485, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:53.613263", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397293.612608, 'idle_time': 11.850793958001304, 'inference_duration_total': 0.02674678893527016, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:53.613994", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397293.612608, 'idle_time': 11.850793958001304, 'inference_duration_total': 0.02674678893527016, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:54.562143", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '333ab2f8-e81a-4708-af26-51acbb72b77a', 'timestamp': 1763397294.56145, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:34:54.563068", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '333ab2f8-e81a-4708-af26-51acbb72b77a', 'timestamp': 1763397294.56145, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:34:54.662732", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397294.6621351, 'idle_time': 12.90031708299648, 'inference_duration_total': 0.03713679203065112, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:54.663588", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397294.6621351, 'idle_time': 12.90031708299648, 'inference_duration_total': 0.03713679203065112, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:55.664039", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397295.6633651, 'idle_time': 13.901542708015768, 'inference_duration_total': 0.03303087910171598, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:55.664844", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397295.6633651, 'idle_time': 13.901542708015768, 'inference_duration_total': 0.03303087910171598, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:56.714178", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397296.712932, 'idle_time': 14.951105040992843, 'inference_duration_total': 0.052974295103922486, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:56.716911", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397296.712932, 'idle_time': 14.951105040992843, 'inference_duration_total': 0.052974295103922486, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:57.714025", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397297.713376, 'idle_time': 15.95154595799977, 'inference_duration_total': 0.03598816701560281, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:57.714833", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397297.713376, 'idle_time': 15.95154595799977, 'inference_duration_total': 0.03598816701560281, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:58.763943", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397298.763377, 'idle_time': 17.001542832993437, 'inference_duration_total': 0.042769207037054, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:58.764835", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397298.763377, 'idle_time': 17.001542832993437, 'inference_duration_total': 0.042769207037054, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:59.562358", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '333ab2f8-e81a-4708-af26-51acbb72b77a', 'timestamp': 1763397299.5617, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:34:59.563378", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '333ab2f8-e81a-4708-af26-51acbb72b77a', 'timestamp': 1763397299.5617, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:34:59.764078", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397299.763463, 'idle_time': 18.00162508300855, 'inference_duration_total': 0.032977792056044564, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:34:59.764879", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397299.763463, 'idle_time': 18.00162508300855, 'inference_duration_total': 0.032977792056044564, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:00.814402", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397300.813557, 'idle_time': 19.051714750006795, 'inference_duration_total': 0.03666462696855888, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:00.815303", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397300.813557, 'idle_time': 19.051714750006795, 'inference_duration_total': 0.03666462696855888, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:01.814629", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397301.8140612, 'idle_time': 20.05221458300366, 'inference_duration_total': 0.035120456013828516, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:01.815385", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397301.8140612, 'idle_time': 20.05221458300366, 'inference_duration_total': 0.035120456013828516, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:02.861715", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397302.861362, 'idle_time': 21.09951191599248, 'inference_duration_total': 0.032797248917631805, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:02.862788", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397302.861362, 'idle_time': 21.09951191599248, 'inference_duration_total': 0.032797248917631805, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:03.862866", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397303.862248, 'idle_time': 22.10039316600887, 'inference_duration_total': 0.030721831077244133, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:03.864138", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397303.862248, 'idle_time': 22.10039316600887, 'inference_duration_total': 0.030721831077244133, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:04.611639", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '333ab2f8-e81a-4708-af26-51acbb72b77a', 'timestamp': 1763397304.6111848, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:35:04.612720", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '333ab2f8-e81a-4708-af26-51acbb72b77a', 'timestamp': 1763397304.6111848, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:35:04.910543", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397304.910333, 'idle_time': 23.14847445799387, 'inference_duration_total': 0.030669917061459273, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:04.910913", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397304.910333, 'idle_time': 23.14847445799387, 'inference_duration_total': 0.030669917061459273, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:05.913311", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397305.9127748, 'idle_time': 24.15091208301601, 'inference_duration_total': 0.027071583084762096, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:05.914146", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397305.9127748, 'idle_time': 24.15091208301601, 'inference_duration_total': 0.027071583084762096, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:06.962915", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397306.962402, 'idle_time': 25.20053545801784, 'inference_duration_total': 0.032283001055475324, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:06.963885", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397306.962402, 'idle_time': 25.20053545801784, 'inference_duration_total': 0.032283001055475324, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:07.962881", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397307.962336, 'idle_time': 26.200465416011866, 'inference_duration_total': 0.024245376931503415, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:07.963637", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397307.962336, 'idle_time': 26.200465416011866, 'inference_duration_total': 0.024245376931503415, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:09.013076", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397309.012491, 'idle_time': 27.25061600000481, 'inference_duration_total': 0.03308758605271578, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:09.013972", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397309.012491, 'idle_time': 27.25061600000481, 'inference_duration_total': 0.03308758605271578, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:09.661726", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '333ab2f8-e81a-4708-af26-51acbb72b77a', 'timestamp': 1763397309.6611981, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:35:09.662825", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '333ab2f8-e81a-4708-af26-51acbb72b77a', 'timestamp': 1763397309.6611981, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:35:10.010329", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397310.010111, 'idle_time': 28.248232415993698, 'inference_duration_total': 0.026894376991549507, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:10.010696", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397310.010111, 'idle_time': 28.248232415993698, 'inference_duration_total': 0.026894376991549507, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:11.062810", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397311.0622652, 'idle_time': 29.300382000015816, 'inference_duration_total': 0.03254679107340053, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:11.063792", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397311.0622652, 'idle_time': 29.300382000015816, 'inference_duration_total': 0.03254679107340053, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:12.063402", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397312.0628579, 'idle_time': 30.300971249991562, 'inference_duration_total': 0.027291163889458403, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:12.064167", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397312.0628579, 'idle_time': 30.300971249991562, 'inference_duration_total': 0.027291163889458403, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:13.062179", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397313.061876, 'idle_time': 31.29998554100166, 'inference_duration_total': 0.03436620903084986, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:13.062731", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397313.061876, 'idle_time': 31.29998554100166, 'inference_duration_total': 0.03436620903084986, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:14.111631", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397314.111182, 'idle_time': 32.34928687501815, 'inference_duration_total': 0.027540250128367916, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:14.112352", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397314.111182, 'idle_time': 32.34928687501815, 'inference_duration_total': 0.027540250128367916, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:14.710349", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '333ab2f8-e81a-4708-af26-51acbb72b77a', 'timestamp': 1763397314.710117, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:35:14.710764", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '333ab2f8-e81a-4708-af26-51acbb72b77a', 'timestamp': 1763397314.710117, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:35:15.111868", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397315.111596, 'idle_time': 33.34969745800481, 'inference_duration_total': 0.024345498997718096, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:15.112334", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397315.111596, 'idle_time': 33.34969745800481, 'inference_duration_total': 0.024345498997718096, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:16.163387", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397316.16277, 'idle_time': 34.40086700001848, 'inference_duration_total': 0.01842349601793103, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:16.164703", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397316.16277, 'idle_time': 34.40086700001848, 'inference_duration_total': 0.01842349601793103, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:17.163189", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397317.162668, 'idle_time': 35.40076091600349, 'inference_duration_total': 0.02221741495304741, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:17.164001", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397317.162668, 'idle_time': 35.40076091600349, 'inference_duration_total': 0.02221741495304741, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:18.212945", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397318.212285, 'idle_time': 36.45037408301141, 'inference_duration_total': 0.028768872056389228, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:18.213763", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397318.212285, 'idle_time': 36.45037408301141, 'inference_duration_total': 0.028768872056389228, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:19.214359", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397319.2137432, 'idle_time': 37.451827790995594, 'inference_duration_total': 0.030597248987760395, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:19.215155", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397319.2137432, 'idle_time': 37.451827790995594, 'inference_duration_total': 0.030597248987760395, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:19.711459", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '333ab2f8-e81a-4708-af26-51acbb72b77a', 'timestamp': 1763397319.7109509, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:35:19.712476", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '333ab2f8-e81a-4708-af26-51acbb72b77a', 'timestamp': 1763397319.7109509, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:35:20.263574", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397320.262961, 'idle_time': 38.50104183302028, 'inference_duration_total': 0.02896112500457093, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:20.264380", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397320.262961, 'idle_time': 38.50104183302028, 'inference_duration_total': 0.02896112500457093, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:21.264145", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397321.2635, 'idle_time': 39.501576750015374, 'inference_duration_total': 0.03276008504326455, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:21.264952", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397321.2635, 'idle_time': 39.501576750015374, 'inference_duration_total': 0.03276008504326455, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:22.313420", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397322.31274, 'idle_time': 40.55081329101813, 'inference_duration_total': 0.030944207013817504, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:22.315164", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397322.31274, 'idle_time': 40.55081329101813, 'inference_duration_total': 0.030944207013817504, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:23.314583", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397323.313919, 'idle_time': 41.55198762501823, 'inference_duration_total': 0.03688829398015514, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:23.315469", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397323.313919, 'idle_time': 41.55198762501823, 'inference_duration_total': 0.03688829398015514, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:24.361344", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397324.3610299, 'idle_time': 42.59909520801739, 'inference_duration_total': 0.023950957984197885, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:24.361960", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397324.3610299, 'idle_time': 42.59909520801739, 'inference_duration_total': 0.023950957984197885, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:24.711656", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '333ab2f8-e81a-4708-af26-51acbb72b77a', 'timestamp': 1763397324.711159, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:35:24.712419", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '333ab2f8-e81a-4708-af26-51acbb72b77a', 'timestamp': 1763397324.711159, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:35:25.364411", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397325.363851, 'idle_time': 43.60191216599196, 'inference_duration_total': 0.02872845996171236, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:25.365174", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397325.363851, 'idle_time': 43.60191216599196, 'inference_duration_total': 0.02872845996171236, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:26.413878", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397326.412965, 'idle_time': 44.65102183300769, 'inference_duration_total': 0.02860420904471539, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:26.414861", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397326.412965, 'idle_time': 44.65102183300769, 'inference_duration_total': 0.02860420904471539, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:27.411318", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397327.41104, 'idle_time': 45.64909320801962, 'inference_duration_total': 0.029789878957672045, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:27.411746", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397327.41104, 'idle_time': 45.64909320801962, 'inference_duration_total': 0.029789878957672045, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:28.461795", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397328.461378, 'idle_time': 46.699427040992305, 'inference_duration_total': 0.029490706947399303, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:28.462371", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397328.461378, 'idle_time': 46.699427040992305, 'inference_duration_total': 0.029490706947399303, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:29.464221", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397329.463718, 'idle_time': 47.70176312502008, 'inference_duration_total': 0.03220454294933006, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:29.465008", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397329.463718, 'idle_time': 47.70176312502008, 'inference_duration_total': 0.03220454294933006, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:29.762960", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '333ab2f8-e81a-4708-af26-51acbb72b77a', 'timestamp': 1763397329.762146, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:35:29.763957", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '333ab2f8-e81a-4708-af26-51acbb72b77a', 'timestamp': 1763397329.762146, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:35:30.511785", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397330.511416, 'idle_time': 48.74945670799934, 'inference_duration_total': 0.026386084966361523, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:30.512585", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397330.511416, 'idle_time': 48.74945670799934, 'inference_duration_total': 0.026386084966361523, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:31.511330", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397331.5110972, 'idle_time': 49.749134041019715, 'inference_duration_total': 0.02948462386848405, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:31.511730", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397331.5110972, 'idle_time': 49.749134041019715, 'inference_duration_total': 0.02948462386848405, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:32.560978", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397332.560721, 'idle_time': 50.7987536250148, 'inference_duration_total': 0.020229999936418608, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:32.561444", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397332.560721, 'idle_time': 50.7987536250148, 'inference_duration_total': 0.020229999936418608, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:33.564494", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397333.563541, 'idle_time': 51.801569666014984, 'inference_duration_total': 0.0386500830645673, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:33.565348", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397333.563541, 'idle_time': 51.801569666014984, 'inference_duration_total': 0.0386500830645673, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:34.613413", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397334.6127958, 'idle_time': 52.850820874999044, 'inference_duration_total': 0.03181416602456011, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:34.614225", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397334.6127958, 'idle_time': 52.850820874999044, 'inference_duration_total': 0.03181416602456011, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:34.812344", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '333ab2f8-e81a-4708-af26-51acbb72b77a', 'timestamp': 1763397334.81174, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:35:34.813160", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '333ab2f8-e81a-4708-af26-51acbb72b77a', 'timestamp': 1763397334.81174, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:35:35.613307", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397335.6126988, 'idle_time': 53.850719541020226, 'inference_duration_total': 0.030998291040305048, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:35.614072", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397335.6126988, 'idle_time': 53.850719541020226, 'inference_duration_total': 0.030998291040305048, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:36.663120", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397336.6625128, 'idle_time': 54.9005297080148, 'inference_duration_total': 0.02800829117768444, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:36.663961", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397336.6625128, 'idle_time': 54.9005297080148, 'inference_duration_total': 0.02800829117768444, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:37.663252", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397337.662608, 'idle_time': 55.90062033300637, 'inference_duration_total': 0.032392124994657934, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:37.664007", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397337.662608, 'idle_time': 55.90062033300637, 'inference_duration_total': 0.032392124994657934, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:37.687959", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-17T16:35:37.691454", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763397337.691159, 'end_of_utterance_delay': 56.50680708885193, 'transcription_delay': 56.50576424598694, 'on_user_turn_completed_delay': 5.245208740234375e-06, 'last_speaking_time': 1763397281.1825678, 'speech_id': 'speech_bf75ac29aac6', 'metadata': None}}"}
{"timestamp": "2025-11-17T16:35:37.694020", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763397337.691159, 'end_of_utterance_delay': 56.50680708885193, 'transcription_delay': 56.50576424598694, 'on_user_turn_completed_delay': 5.245208740234375e-06, 'last_speaking_time': 1763397281.1825678, 'speech_id': 'speech_bf75ac29aac6', 'metadata': None}}"}
{"timestamp": "2025-11-17T16:35:37.707758", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'timeout': Timeout(timeout=10.0), 'files': None, 'idempotency_key': 'stainless-python-retry-ac224a45-95c9-4eb5-b033-36d3bbed1c46', 'json_data': {'messages': [{'role': 'system', 'content': \"\\n        You are **Shifa Clinic\u2019s AI Receptionist**, answering calls in real time.\\n            Your role is to help callers with booking, confirming, or rescheduling appointments.\\n            Speak naturally, briefly, and professionally\u2014like an experienced clinic receptionist.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CORE BEHAVIOR\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            1. **Every call is fresh.**  \\n            Do not rely on previous session context. Use only:\\n            - caller name (if known)\\n            - caller phone (if known)\\n            - information spoken in THIS call\\n            \\n\\n            2. **One task at a time.**  \\n            Every reply must:\\n            - confirm the last thing the caller said\\n            - take one small step forward (ask ONE question)\\n            - be under **8 words**\\n                Always respond in under 8 words. Prioritize immediate tool calls. Do not speak long sentences.\\n\\n            3. **Never expose internal logic.**  \\n            Never say:\\n            - \u201ccalling a tool\u2026\u201d\\n            - \u201csaving memory\u2026\u201d\\n            - \u201cI detected your name\u2026\u201d\\n            - \u201cupdating the appointment\u2026\u201d\\n\\n            4. **Always stay polite, warm, and concise.**\\n            Examples:\\n            - \u201cSure, one moment.\u201d\\n            - \u201cGot it.\u201d\\n            - \u201cLet me check that.\u201d\\n\\n            5. **If caller seems confused, repeat slowly and simply.**\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### TOOL CALLING RULES\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            Use tools to perform actions.  \\n            After calling a tool, speak a short natural confirmation.\\n\\n            **Tools you may call:**\\n            - `save_name(name)`\\n            - `save_phone(phone)`\\n            - `available_slot()`\\n            - `booking_appointment()`\\n            - `get_date()`\\n            - `update_caller_profile(name?, phone?)`\\n            - `start_reschedule()`\\n            - `confirm_reschedule()`\\n            - `end_call()`\\n\\n            Tool usage guidelines:\\n            - Call **save_name** immediately when you hear a name.\\n            - Call **save_phone** when digits are spoken.  \\n            If partial, ask: \u201cCan you repeat that number slowly?\u201d\\n            - Call **available_slot** when caller expresses a time preference (morning, evening, 3pm, etc.)\\n            - Call **get_date** when caller gives a vague date (\u201cnext Monday\u201d).\\n            - Call **booking_appointment** only when BOTH date and time are known.\\n            - Call **update_caller_profile** if caller corrects name or phone.\\n            - After a booking or reschedule completes, ask:  \\n            \u201cAnything else I can help with?\u201d  \\n            If caller says \u201cno\u201d, use `end_call()`.\\n            If the phone number is unclear or has extra/missing digits, ask the caller to repeat it digit by digit.\\n                Do not guess phone numbers.\\n                Always confirm the final number by repeating it back.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESCHEDULE FLOW\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            When the caller says anything like \u201cchange\u201d, \u201cmove\u201d, \u201creschedule\u201d, \u201cshift\u201d:\\n            1. Call **start_reschedule**.\\n            2. Ask for the new date.\\n            3. Once date \u2192 ask for time.\\n            4. When BOTH are known \u2192 call **confirm_reschedule**.\\n            5. After confirmation \u2192 ask:  \\n            \u201cAnything else I can help with?\u201d\\n\\n            Never call `confirm_reschedule` early.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CONVERSATION STYLE\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Speak like a calm clinic receptionist.\\n            - Use short sentences.  \\n            - One question per turn.  \\n            - No filler like \u201cas an AI\u201d.  \\n            - No medical advice.  \\n            - Don't ask for information you already have.\\n\\n            **Good examples:**\\n            - \u201cSure. What day works for you?\u201d\\n            - \u201cGot it. And what time?\u201d\\n            - \u201cPerfect. One moment while I check.\u201d\\n\\n            **Bad examples:**\\n            - \u201cLet me call a tool.\u201d\\n            - \u201cProcessing your request.\u201d\\n            - \u201cI am updating your appointment in the database.\u201d\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESPONSE CONTROL\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Never output long paragraphs.  \\n            - Never output lists or explanations.  \\n            - Keep responses conversational and human.  \\n            - If caller pauses 5 seconds, use `end_call()`.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### ROLE REMINDER\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            You are the first point of contact for Shifa Clinic.  \\n            Be warm. Be efficient. Be human.\\n\\n            Now handle the caller.\\n\\n\"}, {'role': 'assistant', 'content': 'Good evening, Abdul Basit! How can I assist you today?'}, {'role': 'user', 'content': 'I want to book an appointment.'}, {'role': 'assistant', 'content': 'Sure! What date works for you?'}, {'role': 'user', 'content': 'Sorry?'}, {'role': 'user', 'content': 'Hello?'}, {'role': 'user', 'content': 'Hello.'}, {'role': 'assistant', 'content': 'What date would you like for your appointment?'}, {'role': 'user', 'content': 'Tomorrow morning.'}, {'role': 'assistant', 'content': 'Got it! One moment while I check availability.'}, {'role': 'user', 'content': 'Hello?'}], 'model': 'gpt-4o-mini', 'stream': True, 'stream_options': {'include_usage': True}, 'temperature': 0.7, 'tools': [{'type': 'function', 'function': {'name': 'save_name', 'strict': True, 'description': '', 'parameters': {'properties': {'name': {'type': 'string'}}, 'required': ['name'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'save_phone', 'strict': True, 'description': 'Store validated patient phone in Redis using existing BookingBase validator.', 'parameters': {'properties': {'phone': {'type': 'string'}}, 'required': ['phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'available_slot', 'strict': True, 'description': 'Suggest available appointment slots for a given day.\\n- Understands natural language (\"tomorrow\", \"morning\", \"after 2pm\")\\n- Always fetches fresh availability from DB.\\n- Returns top 3 free slots.\\n- Stores them in ctx.suggested_slots for booking_appointment.', 'parameters': {'properties': {'day': {'type': 'string'}, 'date': {'type': 'string'}, 'time': {'type': 'string'}}, 'required': ['day', 'date', 'time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'booking_appointment', 'strict': True, 'description': 'Create or reschedule an appointment.\\nClean, predictable, AI-friendly logic.\\nUses helper functions for DB safety.', 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'get_date', 'strict': True, 'description': 'Return system date and time.', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'end_call', 'strict': True, 'description': \"Gracefully end the call after confirming there's nothing else needed.\\nDoes not clear Redis; short-term memory expires via TTL.\", 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'update_caller_profile', 'strict': True, 'description': 'Persist caller profile (name/phone) for future calls without disrupting session.\\nIf phone not provided, uses current session phone if available.', 'parameters': {'properties': {'name': {'type': ['string', 'null']}, 'phone': {'type': ['string', 'null']}}, 'required': ['name', 'phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'start_reschedule', 'strict': True, 'description': '', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'confirm_reschedule', 'strict': True, 'description': \"Confirm and perform rescheduling to the selected date/time.\\nUse after start_reschedule + available_slot when the caller says 'yes'.\", 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}]}}"}
{"timestamp": "2025-11-17T16:35:37.709791", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions"}
{"timestamp": "2025-11-17T16:35:37.710534", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=10.0 socket_options=None"}
{"timestamp": "2025-11-17T16:35:37.744227", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x127b48a90>"}
{"timestamp": "2025-11-17T16:35:37.744359", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x127b24050> server_hostname='api.openai.com' timeout=10.0"}
{"timestamp": "2025-11-17T16:35:37.793242", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x12fcbd7d0>"}
{"timestamp": "2025-11-17T16:35:37.793702", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:35:37.794103", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-17T16:35:37.794208", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:35:37.794604", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-17T16:35:37.794699", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:35:38.663400", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397338.6627321, 'idle_time': 56.90074079099577, 'inference_duration_total': 0.027192083012778312, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:38.664171", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397338.6627321, 'idle_time': 56.90074079099577, 'inference_duration_total': 0.027192083012778312, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:38.802148", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 17 Nov 2025 16:35:38 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'667'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'687'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9998'), (b'x-ratelimit-remaining-tokens', b'198578'), (b'x-ratelimit-reset-requests', b'8.884s'), (b'x-ratelimit-reset-tokens', b'426ms'), (b'x-request-id', b'req_98786926f5394256a2a239240b729d87'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a00a47229dd03e8-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-17T16:35:38.803922", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/chat/completions \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-17T16:35:38.804318", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Mon, 17 Nov 2025 16:35:38 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '667', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '687', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9998', 'x-ratelimit-remaining-tokens': '198578', 'x-ratelimit-reset-requests': '8.884s', 'x-ratelimit-reset-tokens': '426ms', 'x-request-id': 'req_98786926f5394256a2a239240b729d87', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a00a47229dd03e8-KHI', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-17T16:35:38.805024", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_98786926f5394256a2a239240b729d87"}
{"timestamp": "2025-11-17T16:35:38.805958", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:35:39.161680", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-17T16:35:39.162427", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-17T16:35:39.163400", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CcwUUYPLKwa14pYfQrpOp8XJpujTg', 'timestamp': 1763397339.163029, 'duration': 1.468919332983205, 'ttft': 1.4680695830029435, 'cancelled': False, 'completion_tokens': 22, 'prompt_tokens': 1412, 'prompt_cached_tokens': 1280, 'total_tokens': 1434, 'tokens_per_second': 14.976996698192098, 'speech_id': 'speech_bf75ac29aac6', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:35:39.163793", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CcwUUYPLKwa14pYfQrpOp8XJpujTg', 'timestamp': 1763397339.163029, 'duration': 1.468919332983205, 'ttft': 1.4680695830029435, 'cancelled': False, 'completion_tokens': 22, 'prompt_tokens': 1412, 'prompt_cached_tokens': 1280, 'total_tokens': 1434, 'tokens_per_second': 14.976996698192098, 'speech_id': 'speech_bf75ac29aac6', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:35:39.168331", "level": "DEBUG", "logger": "livekit.agents", "message": "executing tool"}
{"timestamp": "2025-11-17T16:35:39.173024", "level": "INFO", "logger": "voice_agent.tools", "message": "[available_slot] \u25b6 Input: day='tomorrow', date='', time='morning'"}
{"timestamp": "2025-11-17T16:35:39.173597", "level": "INFO", "logger": "voice_agent.tools", "message": "[available_slot] \u25b6 Input: day='tomorrow', date='', time='morning'"}
{"timestamp": "2025-11-17T16:35:39.176022", "level": "INFO", "logger": "src.services.context_manager", "message": "[Redis] Saved MERGED context for sip_+17194515279: BookingContext(name=None, phone=None, date='2025-11-18', time=None, suggested_slots=None, stage='start', status='Pending', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, created_at='2025-11-17T16:35:39.172972')"}
{"timestamp": "2025-11-17T16:35:39.187953", "level": "INFO", "logger": "src.services.context_manager", "message": "[Redis] Saved MERGED context for sip_+17194515279: BookingContext(name=None, phone=None, date='2025-11-18', time=None, suggested_slots=None, stage='start', status='Pending', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, created_at='2025-11-17T16:35:39.172972')"}
{"timestamp": "2025-11-17T16:35:39.198528", "level": "INFO", "logger": "voice_agent.tools", "message": "[available_slot] Booked slots for 2025-11-18: ['10:00 AM']"}
{"timestamp": "2025-11-17T16:35:39.198780", "level": "INFO", "logger": "voice_agent.tools", "message": "[available_slot] Booked slots for 2025-11-18: ['10:00 AM']"}
{"timestamp": "2025-11-17T16:35:39.199638", "level": "INFO", "logger": "src.services.context_manager", "message": "[Redis] Saved MERGED context for sip_+17194515279: BookingContext(name=None, phone=None, date='2025-11-18', time=None, suggested_slots=['9:00 AM', '9:30 AM', '10:30 AM'], stage='start', status='Pending', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, created_at='2025-11-17T16:35:39.172972')"}
{"timestamp": "2025-11-17T16:35:39.199733", "level": "INFO", "logger": "voice_agent.tools", "message": "[available_slot] Final suggestions: ['9:00 AM', '9:30 AM', '10:30 AM']"}
{"timestamp": "2025-11-17T16:35:39.200026", "level": "INFO", "logger": "src.services.context_manager", "message": "[Redis] Saved MERGED context for sip_+17194515279: BookingContext(name=None, phone=None, date='2025-11-18', time=None, suggested_slots=['9:00 AM', '9:30 AM', '10:30 AM'], stage='start', status='Pending', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, created_at='2025-11-17T16:35:39.172972')"}
{"timestamp": "2025-11-17T16:35:39.200349", "level": "INFO", "logger": "voice_agent.tools", "message": "[available_slot] Final suggestions: ['9:00 AM', '9:30 AM', '10:30 AM']"}
{"timestamp": "2025-11-17T16:35:39.200474", "level": "DEBUG", "logger": "livekit.agents", "message": "tools execution completed"}
{"timestamp": "2025-11-17T16:35:39.200824", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.failed exception=GeneratorExit()"}
{"timestamp": "2025-11-17T16:35:39.201874", "level": "ERROR", "logger": "livekit", "message": "failed to emit event function_tools_executed", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 273, in on_tools_executed\n    \"arguments\": call.args,\n                 ^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/pydantic/main.py\", line 1026, in __getattr__\n    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\nAttributeError: 'FunctionCall' object has no attribute 'args'"}
{"timestamp": "2025-11-17T16:35:39.205402", "level": "ERROR", "logger": "livekit", "message": "failed to emit event function_tools_executed\nTraceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 273, in on_tools_executed\n    \"arguments\": call.args,\n                 ^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/pydantic/main.py\", line 1026, in __getattr__\n    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\nAttributeError: 'FunctionCall' object has no attribute 'args'"}
{"timestamp": "2025-11-17T16:35:39.212809", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'timeout': Timeout(timeout=10.0), 'files': None, 'idempotency_key': 'stainless-python-retry-d2dc7ad8-6411-4573-a727-57176e2665f8', 'json_data': {'messages': [{'role': 'system', 'content': \"\\n        You are **Shifa Clinic\u2019s AI Receptionist**, answering calls in real time.\\n            Your role is to help callers with booking, confirming, or rescheduling appointments.\\n            Speak naturally, briefly, and professionally\u2014like an experienced clinic receptionist.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CORE BEHAVIOR\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            1. **Every call is fresh.**  \\n            Do not rely on previous session context. Use only:\\n            - caller name (if known)\\n            - caller phone (if known)\\n            - information spoken in THIS call\\n            \\n\\n            2. **One task at a time.**  \\n            Every reply must:\\n            - confirm the last thing the caller said\\n            - take one small step forward (ask ONE question)\\n            - be under **8 words**\\n                Always respond in under 8 words. Prioritize immediate tool calls. Do not speak long sentences.\\n\\n            3. **Never expose internal logic.**  \\n            Never say:\\n            - \u201ccalling a tool\u2026\u201d\\n            - \u201csaving memory\u2026\u201d\\n            - \u201cI detected your name\u2026\u201d\\n            - \u201cupdating the appointment\u2026\u201d\\n\\n            4. **Always stay polite, warm, and concise.**\\n            Examples:\\n            - \u201cSure, one moment.\u201d\\n            - \u201cGot it.\u201d\\n            - \u201cLet me check that.\u201d\\n\\n            5. **If caller seems confused, repeat slowly and simply.**\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### TOOL CALLING RULES\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            Use tools to perform actions.  \\n            After calling a tool, speak a short natural confirmation.\\n\\n            **Tools you may call:**\\n            - `save_name(name)`\\n            - `save_phone(phone)`\\n            - `available_slot()`\\n            - `booking_appointment()`\\n            - `get_date()`\\n            - `update_caller_profile(name?, phone?)`\\n            - `start_reschedule()`\\n            - `confirm_reschedule()`\\n            - `end_call()`\\n\\n            Tool usage guidelines:\\n            - Call **save_name** immediately when you hear a name.\\n            - Call **save_phone** when digits are spoken.  \\n            If partial, ask: \u201cCan you repeat that number slowly?\u201d\\n            - Call **available_slot** when caller expresses a time preference (morning, evening, 3pm, etc.)\\n            - Call **get_date** when caller gives a vague date (\u201cnext Monday\u201d).\\n            - Call **booking_appointment** only when BOTH date and time are known.\\n            - Call **update_caller_profile** if caller corrects name or phone.\\n            - After a booking or reschedule completes, ask:  \\n            \u201cAnything else I can help with?\u201d  \\n            If caller says \u201cno\u201d, use `end_call()`.\\n            If the phone number is unclear or has extra/missing digits, ask the caller to repeat it digit by digit.\\n                Do not guess phone numbers.\\n                Always confirm the final number by repeating it back.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESCHEDULE FLOW\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            When the caller says anything like \u201cchange\u201d, \u201cmove\u201d, \u201creschedule\u201d, \u201cshift\u201d:\\n            1. Call **start_reschedule**.\\n            2. Ask for the new date.\\n            3. Once date \u2192 ask for time.\\n            4. When BOTH are known \u2192 call **confirm_reschedule**.\\n            5. After confirmation \u2192 ask:  \\n            \u201cAnything else I can help with?\u201d\\n\\n            Never call `confirm_reschedule` early.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CONVERSATION STYLE\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Speak like a calm clinic receptionist.\\n            - Use short sentences.  \\n            - One question per turn.  \\n            - No filler like \u201cas an AI\u201d.  \\n            - No medical advice.  \\n            - Don't ask for information you already have.\\n\\n            **Good examples:**\\n            - \u201cSure. What day works for you?\u201d\\n            - \u201cGot it. And what time?\u201d\\n            - \u201cPerfect. One moment while I check.\u201d\\n\\n            **Bad examples:**\\n            - \u201cLet me call a tool.\u201d\\n            - \u201cProcessing your request.\u201d\\n            - \u201cI am updating your appointment in the database.\u201d\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESPONSE CONTROL\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Never output long paragraphs.  \\n            - Never output lists or explanations.  \\n            - Keep responses conversational and human.  \\n            - If caller pauses 5 seconds, use `end_call()`.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### ROLE REMINDER\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            You are the first point of contact for Shifa Clinic.  \\n            Be warm. Be efficient. Be human.\\n\\n            Now handle the caller.\\n\\n\"}, {'role': 'assistant', 'content': 'Good evening, Abdul Basit! How can I assist you today?'}, {'role': 'user', 'content': 'I want to book an appointment.'}, {'role': 'assistant', 'content': 'Sure! What date works for you?'}, {'role': 'user', 'content': 'Sorry?'}, {'role': 'user', 'content': 'Hello?'}, {'role': 'user', 'content': 'Hello.'}, {'role': 'assistant', 'content': 'What date would you like for your appointment?'}, {'role': 'user', 'content': 'Tomorrow morning.'}, {'role': 'assistant', 'content': 'Got it! One moment while I check availability.'}, {'role': 'user', 'content': 'Hello?'}, {'role': 'assistant', 'tool_calls': [{'id': 'call_zc1cDghSV4mywJBUPfCJ9KuH', 'type': 'function', 'function': {'name': 'available_slot', 'arguments': '{\"day\":\"tomorrow\",\"date\":\"\",\"time\":\"morning\"}'}}]}, {'role': 'tool', 'tool_call_id': 'call_zc1cDghSV4mywJBUPfCJ9KuH', 'content': 'On Tuesday, November 18, I have 9:00 AM, 9:30 AM, or 10:30 AM available. Which time works best for you?'}], 'model': 'gpt-4o-mini', 'stream': True, 'stream_options': {'include_usage': True}, 'temperature': 0.7, 'tool_choice': 'auto', 'tools': [{'type': 'function', 'function': {'name': 'save_name', 'strict': True, 'description': '', 'parameters': {'properties': {'name': {'type': 'string'}}, 'required': ['name'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'save_phone', 'strict': True, 'description': 'Store validated patient phone in Redis using existing BookingBase validator.', 'parameters': {'properties': {'phone': {'type': 'string'}}, 'required': ['phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'available_slot', 'strict': True, 'description': 'Suggest available appointment slots for a given day.\\n- Understands natural language (\"tomorrow\", \"morning\", \"after 2pm\")\\n- Always fetches fresh availability from DB.\\n- Returns top 3 free slots.\\n- Stores them in ctx.suggested_slots for booking_appointment.', 'parameters': {'properties': {'day': {'type': 'string'}, 'date': {'type': 'string'}, 'time': {'type': 'string'}}, 'required': ['day', 'date', 'time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'booking_appointment', 'strict': True, 'description': 'Create or reschedule an appointment.\\nClean, predictable, AI-friendly logic.\\nUses helper functions for DB safety.', 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'get_date', 'strict': True, 'description': 'Return system date and time.', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'end_call', 'strict': True, 'description': \"Gracefully end the call after confirming there's nothing else needed.\\nDoes not clear Redis; short-term memory expires via TTL.\", 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'update_caller_profile', 'strict': True, 'description': 'Persist caller profile (name/phone) for future calls without disrupting session.\\nIf phone not provided, uses current session phone if available.', 'parameters': {'properties': {'name': {'type': ['string', 'null']}, 'phone': {'type': ['string', 'null']}}, 'required': ['name', 'phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'start_reschedule', 'strict': True, 'description': '', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'confirm_reschedule', 'strict': True, 'description': \"Confirm and perform rescheduling to the selected date/time.\\nUse after start_reschedule + available_slot when the caller says 'yes'.\", 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}]}}"}
{"timestamp": "2025-11-17T16:35:39.214103", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions"}
{"timestamp": "2025-11-17T16:35:39.214454", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=10.0 socket_options=None"}
{"timestamp": "2025-11-17T16:35:39.236669", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x12fc0e350>"}
{"timestamp": "2025-11-17T16:35:39.236841", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x127b24050> server_hostname='api.openai.com' timeout=10.0"}
{"timestamp": "2025-11-17T16:35:39.272157", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x12fe593d0>"}
{"timestamp": "2025-11-17T16:35:39.272425", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:35:39.272675", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-17T16:35:39.272738", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:35:39.272962", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-17T16:35:39.273047", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:35:39.713342", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397339.712804, 'idle_time': 57.95080829100334, 'inference_duration_total': 0.027937373146414757, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:39.714084", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397339.712804, 'idle_time': 57.95080829100334, 'inference_duration_total': 0.027937373146414757, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:39.862504", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '333ab2f8-e81a-4708-af26-51acbb72b77a', 'timestamp': 1763397339.8619862, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:35:39.863250", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '333ab2f8-e81a-4708-af26-51acbb72b77a', 'timestamp': 1763397339.8619862, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:35:40.050622", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 17 Nov 2025 16:35:40 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'346'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'522'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9998'), (b'x-ratelimit-remaining-tokens', b'198551'), (b'x-ratelimit-reset-requests', b'15.934s'), (b'x-ratelimit-reset-tokens', b'434ms'), (b'x-request-id', b'req_cae63513fdc44a8ea78ccf3742d3cdf8'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a00a47b7a322704-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-17T16:35:40.051275", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/chat/completions \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-17T16:35:40.051469", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Mon, 17 Nov 2025 16:35:40 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '346', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '522', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9998', 'x-ratelimit-remaining-tokens': '198551', 'x-ratelimit-reset-requests': '15.934s', 'x-ratelimit-reset-tokens': '434ms', 'x-request-id': 'req_cae63513fdc44a8ea78ccf3742d3cdf8', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a00a47b7a322704-KHI', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-17T16:35:40.051866", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_cae63513fdc44a8ea78ccf3742d3cdf8"}
{"timestamp": "2025-11-17T16:35:40.052153", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:35:40.714258", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397340.713658, 'idle_time': 58.95165879101842, 'inference_duration_total': 0.024956708075478673, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:40.715011", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397340.713658, 'idle_time': 58.95165879101842, 'inference_duration_total': 0.024956708075478673, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:40.928391", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream', 'X-Stainless-Raw-Response': 'stream'}, 'timeout': Timeout(connect=10.0, read=30, write=30, pool=30), 'files': None, 'idempotency_key': 'stainless-python-retry-d398186a-ef0a-40ce-ab2b-83086bf29d27', 'json_data': {'input': 'I have 9:00 AM, 9:30 AM, or 10:30 AM.', 'model': 'gpt-4o-mini-tts', 'voice': 'alloy', 'response_format': 'mp3', 'speed': 1.0}}"}
{"timestamp": "2025-11-17T16:35:40.929912", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/audio/speech"}
{"timestamp": "2025-11-17T16:35:40.930830", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:35:40.931441", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-17T16:35:40.931564", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:35:40.931847", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-17T16:35:40.931948", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:35:40.978737", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-17T16:35:40.979427", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-17T16:35:40.980243", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CcwUVUt1TqWOwlQ6Ays4yp2DSiIeN', 'timestamp': 1763397340.979975, 'duration': 1.7740702079900075, 'ttft': 0.9478464160056319, 'cancelled': False, 'completion_tokens': 28, 'prompt_tokens': 1478, 'prompt_cached_tokens': 0, 'total_tokens': 1506, 'tokens_per_second': 15.782915396411251, 'speech_id': 'speech_bf75ac29aac6', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:35:40.980624", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CcwUVUt1TqWOwlQ6Ays4yp2DSiIeN', 'timestamp': 1763397340.979975, 'duration': 1.7740702079900075, 'ttft': 0.9478464160056319, 'cancelled': False, 'completion_tokens': 28, 'prompt_tokens': 1478, 'prompt_cached_tokens': 0, 'total_tokens': 1506, 'tokens_per_second': 15.782915396411251, 'speech_id': 'speech_bf75ac29aac6', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:35:40.981324", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.failed exception=GeneratorExit()"}
{"timestamp": "2025-11-17T16:35:41.765042", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397341.763361, 'idle_time': 60.00135762500577, 'inference_duration_total': 0.0319147500267718, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:41.765797", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397341.763361, 'idle_time': 60.00135762500577, 'inference_duration_total': 0.0319147500267718, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:42.606937", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 17 Nov 2025 16:35:42 GMT'), (b'Content-Type', b'audio/mpeg'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'1331'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'1381'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9997'), (b'x-ratelimit-remaining-tokens', b'199991'), (b'x-ratelimit-reset-requests', b'23.07s'), (b'x-ratelimit-reset-tokens', b'2ms'), (b'x-request-id', b'req_11944d7fc821414fa39471190c79368f'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a00a485a8249080-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-17T16:35:42.607610", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/audio/speech \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-17T16:35:42.607804", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/audio/speech \"200 OK\" Headers({'date': 'Mon, 17 Nov 2025 16:35:42 GMT', 'content-type': 'audio/mpeg', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '1331', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '1381', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9997', 'x-ratelimit-remaining-tokens': '199991', 'x-ratelimit-reset-requests': '23.07s', 'x-ratelimit-reset-tokens': '2ms', 'x-request-id': 'req_11944d7fc821414fa39471190c79368f', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a00a485a8249080-KHI', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-17T16:35:42.608128", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_11944d7fc821414fa39471190c79368f"}
{"timestamp": "2025-11-17T16:35:42.608423", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:35:42.761824", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397342.761578, 'idle_time': 60.999570332991425, 'inference_duration_total': 0.02774808107642457, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:42.762202", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397342.761578, 'idle_time': 60.999570332991425, 'inference_duration_total': 0.02774808107642457, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:42.802104", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-17T16:35:43.100061", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete"}
{"timestamp": "2025-11-17T16:35:43.100356", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-17T16:35:43.100626", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-17T16:35:43.129388", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_11944d7fc821414fa39471190c79368f', 'timestamp': 1763397343.129101, 'ttfb': 1.6873057079792488, 'duration': 2.2017689579806756, 'audio_duration': 3.634000000000001, 'cancelled': False, 'characters_count': 37, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_bf75ac29aac6', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:35:43.129932", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_11944d7fc821414fa39471190c79368f', 'timestamp': 1763397343.129101, 'ttfb': 1.6873057079792488, 'duration': 2.2017689579806756, 'audio_duration': 3.634000000000001, 'cancelled': False, 'characters_count': 37, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_bf75ac29aac6', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:35:43.130399", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream', 'X-Stainless-Raw-Response': 'stream'}, 'timeout': Timeout(connect=10.0, read=30, write=30, pool=30), 'files': None, 'idempotency_key': 'stainless-python-retry-a240c01a-238b-4b71-ba6f-f6042d70ffef', 'json_data': {'input': 'Which time works for you?', 'model': 'gpt-4o-mini-tts', 'voice': 'alloy', 'response_format': 'mp3', 'speed': 1.0}}"}
{"timestamp": "2025-11-17T16:35:43.130993", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/audio/speech"}
{"timestamp": "2025-11-17T16:35:43.134420", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:35:43.134839", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-17T16:35:43.134917", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:35:43.135103", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-17T16:35:43.135157", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:35:43.811053", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397343.8108559, 'idle_time': 62.048844750010176, 'inference_duration_total': 0.037350419093854725, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:43.811423", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397343.8108559, 'idle_time': 62.048844750010176, 'inference_duration_total': 0.037350419093854725, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:43.928518", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 17 Nov 2025 16:35:44 GMT'), (b'Content-Type', b'audio/mpeg'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'378'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'399'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9996'), (b'x-ratelimit-remaining-tokens', b'199994'), (b'x-ratelimit-reset-requests', b'29.414s'), (b'x-ratelimit-reset-tokens', b'1ms'), (b'x-request-id', b'req_0b06035ff15c4630ac48526c68d83c13'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a00a493adaf9080-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-17T16:35:43.929046", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/audio/speech \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-17T16:35:43.929170", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/audio/speech \"200 OK\" Headers({'date': 'Mon, 17 Nov 2025 16:35:44 GMT', 'content-type': 'audio/mpeg', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '378', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '399', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9996', 'x-ratelimit-remaining-tokens': '199994', 'x-ratelimit-reset-requests': '29.414s', 'x-ratelimit-reset-tokens': '1ms', 'x-request-id': 'req_0b06035ff15c4630ac48526c68d83c13', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a00a493adaf9080-KHI', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-17T16:35:43.929396", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_0b06035ff15c4630ac48526c68d83c13"}
{"timestamp": "2025-11-17T16:35:43.929622", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:35:44.113025", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-17T16:35:44.216275", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete"}
{"timestamp": "2025-11-17T16:35:44.216813", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-17T16:35:44.217175", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-17T16:35:44.244088", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_0b06035ff15c4630ac48526c68d83c13', 'timestamp': 1763397344.2437131, 'ttfb': 0.8022430830169469, 'duration': 1.1138230829965323, 'audio_duration': 1.45, 'cancelled': False, 'characters_count': 25, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_bf75ac29aac6', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:35:44.244525", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_0b06035ff15c4630ac48526c68d83c13', 'timestamp': 1763397344.2437131, 'ttfb': 0.8022430830169469, 'duration': 1.1138230829965323, 'audio_duration': 1.45, 'cancelled': False, 'characters_count': 25, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_bf75ac29aac6', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:35:44.270197", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-17T16:35:44.272176", "level": "WARNING", "logger": "livekit.agents", "message": "_SegmentSynchronizerImpl.resume called after close"}
{"timestamp": "2025-11-17T16:35:44.272427", "level": "WARNING", "logger": "livekit.agents", "message": "_SegmentSynchronizerImpl.resume called after close"}
{"timestamp": "2025-11-17T16:35:44.272594", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763397344.272506, 'end_of_utterance_delay': 63.11359119415283, 'transcription_delay': 63.1134090423584, 'on_user_turn_completed_delay': 1.1920928955078125e-06, 'last_speaking_time': 1763397281.156906, 'speech_id': 'speech_9b509ef9d6c4', 'metadata': None}}"}
{"timestamp": "2025-11-17T16:35:44.272839", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763397344.272506, 'end_of_utterance_delay': 63.11359119415283, 'transcription_delay': 63.1134090423584, 'on_user_turn_completed_delay': 1.1920928955078125e-06, 'last_speaking_time': 1763397281.156906, 'speech_id': 'speech_9b509ef9d6c4', 'metadata': None}}"}
{"timestamp": "2025-11-17T16:35:44.280912", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'timeout': Timeout(timeout=10.0), 'files': None, 'idempotency_key': 'stainless-python-retry-b9442d38-1101-4ff0-a5d6-7e6220fa1fe5', 'json_data': {'messages': [{'role': 'system', 'content': \"\\n        You are **Shifa Clinic\u2019s AI Receptionist**, answering calls in real time.\\n            Your role is to help callers with booking, confirming, or rescheduling appointments.\\n            Speak naturally, briefly, and professionally\u2014like an experienced clinic receptionist.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CORE BEHAVIOR\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            1. **Every call is fresh.**  \\n            Do not rely on previous session context. Use only:\\n            - caller name (if known)\\n            - caller phone (if known)\\n            - information spoken in THIS call\\n            \\n\\n            2. **One task at a time.**  \\n            Every reply must:\\n            - confirm the last thing the caller said\\n            - take one small step forward (ask ONE question)\\n            - be under **8 words**\\n                Always respond in under 8 words. Prioritize immediate tool calls. Do not speak long sentences.\\n\\n            3. **Never expose internal logic.**  \\n            Never say:\\n            - \u201ccalling a tool\u2026\u201d\\n            - \u201csaving memory\u2026\u201d\\n            - \u201cI detected your name\u2026\u201d\\n            - \u201cupdating the appointment\u2026\u201d\\n\\n            4. **Always stay polite, warm, and concise.**\\n            Examples:\\n            - \u201cSure, one moment.\u201d\\n            - \u201cGot it.\u201d\\n            - \u201cLet me check that.\u201d\\n\\n            5. **If caller seems confused, repeat slowly and simply.**\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### TOOL CALLING RULES\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            Use tools to perform actions.  \\n            After calling a tool, speak a short natural confirmation.\\n\\n            **Tools you may call:**\\n            - `save_name(name)`\\n            - `save_phone(phone)`\\n            - `available_slot()`\\n            - `booking_appointment()`\\n            - `get_date()`\\n            - `update_caller_profile(name?, phone?)`\\n            - `start_reschedule()`\\n            - `confirm_reschedule()`\\n            - `end_call()`\\n\\n            Tool usage guidelines:\\n            - Call **save_name** immediately when you hear a name.\\n            - Call **save_phone** when digits are spoken.  \\n            If partial, ask: \u201cCan you repeat that number slowly?\u201d\\n            - Call **available_slot** when caller expresses a time preference (morning, evening, 3pm, etc.)\\n            - Call **get_date** when caller gives a vague date (\u201cnext Monday\u201d).\\n            - Call **booking_appointment** only when BOTH date and time are known.\\n            - Call **update_caller_profile** if caller corrects name or phone.\\n            - After a booking or reschedule completes, ask:  \\n            \u201cAnything else I can help with?\u201d  \\n            If caller says \u201cno\u201d, use `end_call()`.\\n            If the phone number is unclear or has extra/missing digits, ask the caller to repeat it digit by digit.\\n                Do not guess phone numbers.\\n                Always confirm the final number by repeating it back.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESCHEDULE FLOW\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            When the caller says anything like \u201cchange\u201d, \u201cmove\u201d, \u201creschedule\u201d, \u201cshift\u201d:\\n            1. Call **start_reschedule**.\\n            2. Ask for the new date.\\n            3. Once date \u2192 ask for time.\\n            4. When BOTH are known \u2192 call **confirm_reschedule**.\\n            5. After confirmation \u2192 ask:  \\n            \u201cAnything else I can help with?\u201d\\n\\n            Never call `confirm_reschedule` early.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CONVERSATION STYLE\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Speak like a calm clinic receptionist.\\n            - Use short sentences.  \\n            - One question per turn.  \\n            - No filler like \u201cas an AI\u201d.  \\n            - No medical advice.  \\n            - Don't ask for information you already have.\\n\\n            **Good examples:**\\n            - \u201cSure. What day works for you?\u201d\\n            - \u201cGot it. And what time?\u201d\\n            - \u201cPerfect. One moment while I check.\u201d\\n\\n            **Bad examples:**\\n            - \u201cLet me call a tool.\u201d\\n            - \u201cProcessing your request.\u201d\\n            - \u201cI am updating your appointment in the database.\u201d\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESPONSE CONTROL\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Never output long paragraphs.  \\n            - Never output lists or explanations.  \\n            - Keep responses conversational and human.  \\n            - If caller pauses 5 seconds, use `end_call()`.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### ROLE REMINDER\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            You are the first point of contact for Shifa Clinic.  \\n            Be warm. Be efficient. Be human.\\n\\n            Now handle the caller.\\n\\n\"}, {'role': 'assistant', 'content': 'Good evening, Abdul Basit! How can I assist you today?'}, {'role': 'user', 'content': 'I want to book an appointment.'}, {'role': 'assistant', 'content': 'Sure! What date works for you?'}, {'role': 'user', 'content': 'Sorry?'}, {'role': 'user', 'content': 'Hello?'}, {'role': 'user', 'content': 'Hello.'}, {'role': 'assistant', 'content': 'What date would you like for your appointment?'}, {'role': 'user', 'content': 'Tomorrow morning.'}, {'role': 'assistant', 'content': 'Got it! One moment while I check availability.'}, {'role': 'user', 'content': 'Hello?'}, {'role': 'assistant', 'tool_calls': [{'id': 'call_zc1cDghSV4mywJBUPfCJ9KuH', 'type': 'function', 'function': {'name': 'available_slot', 'arguments': '{\"day\":\"tomorrow\",\"date\":\"\",\"time\":\"morning\"}'}}]}, {'role': 'tool', 'tool_call_id': 'call_zc1cDghSV4mywJBUPfCJ9KuH', 'content': 'On Tuesday, November 18, I have 9:00 AM, 9:30 AM, or 10:30 AM available. Which time works best for you?'}, {'role': 'assistant', 'content': 'I have 9:00 AM, 9:30 AM,'}, {'role': 'user', 'content': 'How did you do it?'}], 'model': 'gpt-4o-mini', 'stream': True, 'stream_options': {'include_usage': True}, 'temperature': 0.7, 'tools': [{'type': 'function', 'function': {'name': 'save_name', 'strict': True, 'description': '', 'parameters': {'properties': {'name': {'type': 'string'}}, 'required': ['name'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'save_phone', 'strict': True, 'description': 'Store validated patient phone in Redis using existing BookingBase validator.', 'parameters': {'properties': {'phone': {'type': 'string'}}, 'required': ['phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'available_slot', 'strict': True, 'description': 'Suggest available appointment slots for a given day.\\n- Understands natural language (\"tomorrow\", \"morning\", \"after 2pm\")\\n- Always fetches fresh availability from DB.\\n- Returns top 3 free slots.\\n- Stores them in ctx.suggested_slots for booking_appointment.', 'parameters': {'properties': {'day': {'type': 'string'}, 'date': {'type': 'string'}, 'time': {'type': 'string'}}, 'required': ['day', 'date', 'time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'booking_appointment', 'strict': True, 'description': 'Create or reschedule an appointment.\\nClean, predictable, AI-friendly logic.\\nUses helper functions for DB safety.', 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'get_date', 'strict': True, 'description': 'Return system date and time.', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'end_call', 'strict': True, 'description': \"Gracefully end the call after confirming there's nothing else needed.\\nDoes not clear Redis; short-term memory expires via TTL.\", 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'update_caller_profile', 'strict': True, 'description': 'Persist caller profile (name/phone) for future calls without disrupting session.\\nIf phone not provided, uses current session phone if available.', 'parameters': {'properties': {'name': {'type': ['string', 'null']}, 'phone': {'type': ['string', 'null']}}, 'required': ['name', 'phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'start_reschedule', 'strict': True, 'description': '', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'confirm_reschedule', 'strict': True, 'description': \"Confirm and perform rescheduling to the selected date/time.\\nUse after start_reschedule + available_slot when the caller says 'yes'.\", 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}]}}"}
{"timestamp": "2025-11-17T16:35:44.282180", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions"}
{"timestamp": "2025-11-17T16:35:44.282747", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=10.0 socket_options=None"}
{"timestamp": "2025-11-17T16:35:44.315888", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x12fe38950>"}
{"timestamp": "2025-11-17T16:35:44.316039", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x127b24050> server_hostname='api.openai.com' timeout=10.0"}
{"timestamp": "2025-11-17T16:35:44.328074", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x12fe3af90>"}
{"timestamp": "2025-11-17T16:35:44.328439", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:35:44.328761", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-17T16:35:44.328846", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:35:44.329096", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-17T16:35:44.329159", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:35:44.814227", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397344.8135822, 'idle_time': 63.051567207992775, 'inference_duration_total': 0.024459663924062625, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:44.815036", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397344.8135822, 'idle_time': 63.051567207992775, 'inference_duration_total': 0.024459663924062625, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:44.912079", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '333ab2f8-e81a-4708-af26-51acbb72b77a', 'timestamp': 1763397344.911367, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:35:44.912919", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '333ab2f8-e81a-4708-af26-51acbb72b77a', 'timestamp': 1763397344.911367, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:35:45.863738", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397345.863094, 'idle_time': 64.10107500001322, 'inference_duration_total': 0.033340124966343865, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:45.864717", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397345.863094, 'idle_time': 64.10107500001322, 'inference_duration_total': 0.033340124966343865, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:45.969123", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 17 Nov 2025 16:35:46 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'1008'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'1138'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'198538'), (b'x-ratelimit-reset-requests', b'24h0m0s'), (b'x-ratelimit-reset-tokens', b'1m0s'), (b'x-request-id', b'req_ee642ea1700a4d5db6184bf42db2d3ff'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a00a49af9dc2704-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-17T16:35:45.969589", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/chat/completions \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-17T16:35:45.969739", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Mon, 17 Nov 2025 16:35:46 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '1008', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '1138', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '198538', 'x-ratelimit-reset-requests': '24h0m0s', 'x-ratelimit-reset-tokens': '1m0s', 'x-request-id': 'req_ee642ea1700a4d5db6184bf42db2d3ff', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a00a49af9dc2704-KHI', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-17T16:35:45.969978", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_ee642ea1700a4d5db6184bf42db2d3ff"}
{"timestamp": "2025-11-17T16:35:45.970176", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:35:46.861672", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397346.86148, 'idle_time': 65.09945662500104, 'inference_duration_total': 0.0191639170225244, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:46.861992", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397346.86148, 'idle_time': 65.09945662500104, 'inference_duration_total': 0.0191639170225244, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:47.048448", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-17T16:35:47.049268", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-17T16:35:47.050170", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream', 'X-Stainless-Raw-Response': 'stream'}, 'timeout': Timeout(connect=10.0, read=30, write=30, pool=30), 'files': None, 'idempotency_key': 'stainless-python-retry-3020d26a-5897-469f-b88b-d4dba5b3b13e', 'json_data': {'input': 'I found available times for you.', 'model': 'gpt-4o-mini-tts', 'voice': 'alloy', 'response_format': 'mp3', 'speed': 1.0}}"}
{"timestamp": "2025-11-17T16:35:47.050705", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/audio/speech"}
{"timestamp": "2025-11-17T16:35:47.051183", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:35:47.051519", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-17T16:35:47.051603", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:35:47.051835", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-17T16:35:47.051896", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:35:47.052263", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CcwUboG4yjnNMnHzVdM5Z5hDuud6Q', 'timestamp': 1763397347.0521119, 'duration': 2.778752957994584, 'ttft': 1.7688584169954993, 'cancelled': False, 'completion_tokens': 13, 'prompt_tokens': 1506, 'prompt_cached_tokens': 1408, 'total_tokens': 1519, 'tokens_per_second': 4.6783575929621515, 'speech_id': 'speech_9b509ef9d6c4', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:35:47.052461", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CcwUboG4yjnNMnHzVdM5Z5hDuud6Q', 'timestamp': 1763397347.0521119, 'duration': 2.778752957994584, 'ttft': 1.7688584169954993, 'cancelled': False, 'completion_tokens': 13, 'prompt_tokens': 1506, 'prompt_cached_tokens': 1408, 'total_tokens': 1519, 'tokens_per_second': 4.6783575929621515, 'speech_id': 'speech_9b509ef9d6c4', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:35:47.052804", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.failed exception=GeneratorExit()"}
{"timestamp": "2025-11-17T16:35:47.911180", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397347.9110029, 'idle_time': 66.14897554100025, 'inference_duration_total': 0.017390166001860052, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:47.911481", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397347.9110029, 'idle_time': 66.14897554100025, 'inference_duration_total': 0.017390166001860052, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:48.341073", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 17 Nov 2025 16:35:48 GMT'), (b'Content-Type', b'audio/mpeg'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'682'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'994'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9995'), (b'x-ratelimit-remaining-tokens', b'199992'), (b'x-ratelimit-reset-requests', b'42.589s'), (b'x-ratelimit-reset-tokens', b'2ms'), (b'x-request-id', b'req_82ad4dfcb95246349cc5ed579cb6ad4e'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a00a4abeb5c9080-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-17T16:35:48.341532", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/audio/speech \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-17T16:35:48.341681", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/audio/speech \"200 OK\" Headers({'date': 'Mon, 17 Nov 2025 16:35:48 GMT', 'content-type': 'audio/mpeg', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '682', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '994', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9995', 'x-ratelimit-remaining-tokens': '199992', 'x-ratelimit-reset-requests': '42.589s', 'x-ratelimit-reset-tokens': '2ms', 'x-request-id': 'req_82ad4dfcb95246349cc5ed579cb6ad4e', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a00a4abeb5c9080-KHI', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-17T16:35:48.341897", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_82ad4dfcb95246349cc5ed579cb6ad4e"}
{"timestamp": "2025-11-17T16:35:48.342136", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:35:48.526311", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-17T16:35:48.605319", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete"}
{"timestamp": "2025-11-17T16:35:48.605529", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-17T16:35:48.605701", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-17T16:35:48.613089", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_82ad4dfcb95246349cc5ed579cb6ad4e', 'timestamp': 1763397348.612802, 'ttfb': 1.294588582997676, 'duration': 1.5629820830072276, 'audio_duration': 1.7859999999999998, 'cancelled': False, 'characters_count': 32, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_9b509ef9d6c4', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:35:48.613406", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_82ad4dfcb95246349cc5ed579cb6ad4e', 'timestamp': 1763397348.612802, 'ttfb': 1.294588582997676, 'duration': 1.5629820830072276, 'audio_duration': 1.7859999999999998, 'cancelled': False, 'characters_count': 32, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_9b509ef9d6c4', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:35:48.613947", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream', 'X-Stainless-Raw-Response': 'stream'}, 'timeout': Timeout(connect=10.0, read=30, write=30, pool=30), 'files': None, 'idempotency_key': 'stainless-python-retry-07793238-7749-4cea-b805-343739aa8975', 'json_data': {'input': 'Which time works best?', 'model': 'gpt-4o-mini-tts', 'voice': 'alloy', 'response_format': 'mp3', 'speed': 1.0}}"}
{"timestamp": "2025-11-17T16:35:48.614506", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/audio/speech"}
{"timestamp": "2025-11-17T16:35:48.616435", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:35:48.616718", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-17T16:35:48.616793", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:35:48.616953", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-17T16:35:48.617004", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:35:48.912169", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397348.911917, 'idle_time': 67.14988537499448, 'inference_duration_total': 0.016676540981279686, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:48.912498", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397348.911917, 'idle_time': 67.14988537499448, 'inference_duration_total': 0.016676540981279686, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:49.671101", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 17 Nov 2025 16:35:49 GMT'), (b'Content-Type', b'audio/mpeg'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'727'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'753'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9994'), (b'x-ratelimit-remaining-tokens', b'199995'), (b'x-ratelimit-reset-requests', b'49.953s'), (b'x-ratelimit-reset-tokens', b'1ms'), (b'x-request-id', b'req_105eeca5bf774f6a8f25d9d2da557e65'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a00a4b5c93b9080-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-17T16:35:49.672219", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/audio/speech \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-17T16:35:49.672466", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/audio/speech \"200 OK\" Headers({'date': 'Mon, 17 Nov 2025 16:35:49 GMT', 'content-type': 'audio/mpeg', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '727', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '753', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9994', 'x-ratelimit-remaining-tokens': '199995', 'x-ratelimit-reset-requests': '49.953s', 'x-ratelimit-reset-tokens': '1ms', 'x-request-id': 'req_105eeca5bf774f6a8f25d9d2da557e65', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a00a4b5c93b9080-KHI', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-17T16:35:49.672819", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_105eeca5bf774f6a8f25d9d2da557e65"}
{"timestamp": "2025-11-17T16:35:49.673414", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-17T16:35:49.860476", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-17T16:35:49.916442", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete"}
{"timestamp": "2025-11-17T16:35:49.916666", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-17T16:35:49.916871", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-17T16:35:49.934725", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_105eeca5bf774f6a8f25d9d2da557e65', 'timestamp': 1763397349.934471, 'ttfb': 1.0653420829912648, 'duration': 1.320951415982563, 'audio_duration': 1.642, 'cancelled': False, 'characters_count': 22, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_9b509ef9d6c4', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:35:49.935066", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_105eeca5bf774f6a8f25d9d2da557e65', 'timestamp': 1763397349.934471, 'ttfb': 1.0653420829912648, 'duration': 1.320951415982563, 'audio_duration': 1.642, 'cancelled': False, 'characters_count': 22, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_9b509ef9d6c4', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-17T16:35:49.959884", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '333ab2f8-e81a-4708-af26-51acbb72b77a', 'timestamp': 1763397349.959723, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:35:49.960210", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '333ab2f8-e81a-4708-af26-51acbb72b77a', 'timestamp': 1763397349.959723, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:35:49.960445", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397349.960324, 'idle_time': 68.19828895799583, 'inference_duration_total': 0.03403216597507708, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:49.960751", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397349.960324, 'idle_time': 68.19828895799583, 'inference_duration_total': 0.03403216597507708, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:50.964230", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397350.963566, 'idle_time': 69.2015262079949, 'inference_duration_total': 0.027286750060738996, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:50.964978", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397350.963566, 'idle_time': 69.2015262079949, 'inference_duration_total': 0.027286750060738996, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:52.011007", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397352.0107331, 'idle_time': 70.24868991601397, 'inference_duration_total': 0.028562746971147135, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:52.011515", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397352.0107331, 'idle_time': 70.24868991601397, 'inference_duration_total': 0.028562746971147135, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:53.011388", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397353.0108721, 'idle_time': 71.24882445801632, 'inference_duration_total': 0.028102166892495006, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:53.012315", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397353.0108721, 'idle_time': 71.24882445801632, 'inference_duration_total': 0.028102166892495006, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:54.061796", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397354.061503, 'idle_time': 72.29945162500371, 'inference_duration_total': 0.019952499016653746, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:54.062294", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397354.061503, 'idle_time': 72.29945162500371, 'inference_duration_total': 0.019952499016653746, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:54.960779", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '333ab2f8-e81a-4708-af26-51acbb72b77a', 'timestamp': 1763397354.960447, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:35:54.961128", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '333ab2f8-e81a-4708-af26-51acbb72b77a', 'timestamp': 1763397354.960447, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:35:55.061491", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397355.06129, 'idle_time': 73.29923433301155, 'inference_duration_total': 0.025765627942746505, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:55.061881", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397355.06129, 'idle_time': 73.29923433301155, 'inference_duration_total': 0.025765627942746505, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:56.111472", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397356.111234, 'idle_time': 74.34917420800775, 'inference_duration_total': 0.01917149798828177, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:56.112841", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397356.111234, 'idle_time': 74.34917420800775, 'inference_duration_total': 0.01917149798828177, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:57.112500", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397357.112184, 'idle_time': 75.35012029099744, 'inference_duration_total': 0.026886460022069514, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:57.113378", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397357.112184, 'idle_time': 75.35012029099744, 'inference_duration_total': 0.026886460022069514, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:58.163450", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397358.162849, 'idle_time': 76.40078095800709, 'inference_duration_total': 0.03296950095682405, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:58.164384", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397358.162849, 'idle_time': 76.40078095800709, 'inference_duration_total': 0.03296950095682405, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:59.162963", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397359.162356, 'idle_time': 77.40028395800618, 'inference_duration_total': 0.026730503130238503, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:59.163815", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397359.162356, 'idle_time': 77.40028395800618, 'inference_duration_total': 0.026730503130238503, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:35:59.960749", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '333ab2f8-e81a-4708-af26-51acbb72b77a', 'timestamp': 1763397359.96057, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:35:59.961075", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '333ab2f8-e81a-4708-af26-51acbb72b77a', 'timestamp': 1763397359.96057, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:36:00.211891", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397360.2116082, 'idle_time': 78.44953187499777, 'inference_duration_total': 0.021061576902866364, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:36:00.212418", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397360.2116082, 'idle_time': 78.44953187499777, 'inference_duration_total': 0.021061576902866364, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:36:01.211687", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397361.211398, 'idle_time': 79.4493183750019, 'inference_duration_total': 0.018482295039575547, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:36:01.212168", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397361.211398, 'idle_time': 79.4493183750019, 'inference_duration_total': 0.018482295039575547, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:36:02.262219", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397362.2612, 'idle_time': 80.49911612499272, 'inference_duration_total': 0.040223249001428485, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:36:02.263985", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397362.2612, 'idle_time': 80.49911612499272, 'inference_duration_total': 0.040223249001428485, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:36:03.261501", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397363.2612648, 'idle_time': 81.49917683299282, 'inference_duration_total': 0.027797084097983316, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:36:03.261898", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397363.2612648, 'idle_time': 81.49917683299282, 'inference_duration_total': 0.027797084097983316, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:36:04.263840", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397364.263283, 'idle_time': 82.50119170799735, 'inference_duration_total': 0.02361262805061415, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:36:04.264829", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397364.263283, 'idle_time': 82.50119170799735, 'inference_duration_total': 0.02361262805061415, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:36:05.010788", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '333ab2f8-e81a-4708-af26-51acbb72b77a', 'timestamp': 1763397365.010554, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:36:05.011162", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '333ab2f8-e81a-4708-af26-51acbb72b77a', 'timestamp': 1763397365.010554, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-17T16:36:05.311431", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397365.311185, 'idle_time': 83.54908970801625, 'inference_duration_total': 0.02426549600204453, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:36:05.311948", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397365.311185, 'idle_time': 83.54908970801625, 'inference_duration_total': 0.02426549600204453, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:36:06.312027", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397366.3117042, 'idle_time': 84.5496042080049, 'inference_duration_total': 0.021673333016224205, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:36:06.312517", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763397366.3117042, 'idle_time': 84.5496042080049, 'inference_duration_total': 0.021673333016224205, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-17T16:36:06.624955", "level": "INFO", "logger": "livekit.agents", "message": "draining worker"}
{"timestamp": "2025-11-17T16:36:06.892381", "level": "WARNING", "logger": "livekit.agents", "message": "exiting forcefully"}
