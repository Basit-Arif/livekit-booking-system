{"timestamp": "2025-11-18T16:02:12.772148", "level": "INFO", "logger": "livekit.agents", "message": "starting worker"}
{"timestamp": "2025-11-18T16:02:12.794680", "level": "INFO", "logger": "livekit.agents", "message": "initializing process"}
{"timestamp": "2025-11-18T16:02:12.795315", "level": "INFO", "logger": "livekit.agents", "message": "initializing process"}
{"timestamp": "2025-11-18T16:02:12.795734", "level": "INFO", "logger": "livekit.agents", "message": "initializing process"}
{"timestamp": "2025-11-18T16:02:12.796087", "level": "INFO", "logger": "livekit.agents", "message": "initializing process"}
{"timestamp": "2025-11-18T16:02:14.509446", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-18T16:02:14.511781", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-18T16:02:14.513226", "level": "INFO", "logger": "livekit.agents", "message": "process initialized"}
{"timestamp": "2025-11-18T16:02:14.516909", "level": "INFO", "logger": "livekit.agents", "message": "process initialized"}
{"timestamp": "2025-11-18T16:02:14.525919", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-18T16:02:14.526896", "level": "INFO", "logger": "livekit.agents", "message": "process initialized"}
{"timestamp": "2025-11-18T16:02:14.530517", "level": "INFO", "logger": "livekit.agents", "message": "process initialized"}
{"timestamp": "2025-11-18T16:02:14.530714", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-18T16:02:15.528283", "level": "INFO", "logger": "livekit.agents", "message": "registered worker"}
{"timestamp": "2025-11-18T16:02:20.120404", "level": "INFO", "logger": "livekit.agents", "message": "received job request"}
{"timestamp": "2025-11-18T16:02:20.340743", "level": "INFO", "logger": "livekit", "message": "livekit_ffi::server:139:livekit_ffi::server - initializing ffi server v0.12.39"}
{"timestamp": "2025-11-18T16:02:20.341423", "level": "INFO", "logger": "livekit", "message": "livekit_ffi::cabi:50:livekit_ffi::cabi - initializing ffi server v0.12.39"}
{"timestamp": "2025-11-18T16:02:20.362749", "level": "INFO", "logger": "livekit.agents", "message": "initializing process"}
{"timestamp": "2025-11-18T16:02:20.365561", "level": "INFO", "logger": "livekit", "message": "livekit_api::signal_client::signal_stream:92:livekit_api::signal_client::signal_stream - connecting to wss://testing-mwtbjpwy.livekit.cloud/rtc?sdk=python&protocol=16&auto_subscribe=1&adaptive_stream=0&version=1.0.18"}
{"timestamp": "2025-11-18T16:02:20.766108", "level": "DEBUG", "logger": "livekit", "message": "rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 153 valid and 0 invalid certs"}
{"timestamp": "2025-11-18T16:02:20.766300", "level": "DEBUG", "logger": "livekit", "message": "tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 153/153 native root certificates (ignored 0)"}
{"timestamp": "2025-11-18T16:02:20.766401", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::hs:73:rustls::client::hs - No cached session for DnsName(\"testing-mwtbjpwy.livekit.cloud\")"}
{"timestamp": "2025-11-18T16:02:20.766513", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::hs:132:rustls::client::hs - Not resuming any session"}
{"timestamp": "2025-11-18T16:02:20.918772", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256"}
{"timestamp": "2025-11-18T16:02:20.918992", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::tls13:142:rustls::client::tls13 - Not resuming"}
{"timestamp": "2025-11-18T16:02:20.919170", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []"}
{"timestamp": "2025-11-18T16:02:20.919280", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::hs:472:rustls::client::hs - ALPN protocol is None"}
{"timestamp": "2025-11-18T16:02:21.508489", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-18T16:02:21.508902", "level": "INFO", "logger": "livekit.agents", "message": "process initialized"}
{"timestamp": "2025-11-18T16:02:22.563997", "level": "DEBUG", "logger": "livekit", "message": "tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done."}
{"timestamp": "2025-11-18T16:02:24.624193", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udd0c Redis Connected: True"}
{"timestamp": "2025-11-18T16:02:24.625239", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udd0c Redis Connected: True"}
{"timestamp": "2025-11-18T16:02:24.625679", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Incoming call from: sip_+17194515279"}
{"timestamp": "2025-11-18T16:02:24.626076", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Caller Phone Detected (normalized): 17194515279"}
{"timestamp": "2025-11-18T16:02:24.626242", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Incoming call from: sip_+17194515279"}
{"timestamp": "2025-11-18T16:02:24.626515", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Caller Phone Detected (normalized): 17194515279"}
{"timestamp": "2025-11-18T16:02:24.628501", "level": "INFO", "logger": "telephony-agent", "message": "[Memory] \ud83e\udde0 Preloaded name from profile: Abdul Basit"}
{"timestamp": "2025-11-18T16:02:24.628662", "level": "INFO", "logger": "telephony-agent", "message": "[Memory] \ud83c\udd95 New SessionContext: BookingContext(name='Abdul Basit', phone='17194515279', date=None, time=None, suggested_slots=None, stage='start', status='Pending', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, created_at='2025-11-18T16:02:24.626260')"}
{"timestamp": "2025-11-18T16:02:24.629767", "level": "INFO", "logger": "telephony-agent", "message": "[Memory] \ud83e\udde0 Preloaded name from profile: Abdul Basit"}
{"timestamp": "2025-11-18T16:02:24.629973", "level": "INFO", "logger": "telephony-agent", "message": "[Memory] \ud83c\udd95 New SessionContext: BookingContext(name='Abdul Basit', phone='17194515279', date=None, time=None, suggested_slots=None, stage='start', status='Pending', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, created_at='2025-11-18T16:02:24.626260')"}
{"timestamp": "2025-11-18T16:02:24.847668", "level": "DEBUG", "logger": "livekit.agents", "message": "input stream attached"}
{"timestamp": "2025-11-18T16:02:24.851078", "level": "DEBUG", "logger": "livekit.agents", "message": "http_session(): creating a new httpclient ctx"}
{"timestamp": "2025-11-18T16:02:24.851955", "level": "DEBUG", "logger": "livekit.agents", "message": "start reading stream"}
{"timestamp": "2025-11-18T16:02:24.862809", "level": "DEBUG", "logger": "livekit.agents", "message": "using audio io: `RoomIO` -> `AgentSession` -> `TranscriptSynchronizer` -> `RoomIO`"}
{"timestamp": "2025-11-18T16:02:24.863073", "level": "DEBUG", "logger": "livekit.agents", "message": "using transcript io: `AgentSession` -> `TranscriptSynchronizer` -> `RoomIO`"}
{"timestamp": "2025-11-18T16:02:25.000401", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'get', 'url': '/'}"}
{"timestamp": "2025-11-18T16:02:25.000977", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: GET https://api.openai.com/v1/"}
{"timestamp": "2025-11-18T16:02:25.004316", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'timeout': Timeout(timeout=10.0), 'files': None, 'idempotency_key': 'stainless-python-retry-41b1623a-04f8-4955-a117-80db1d892fd9', 'json_data': {'messages': [{'role': 'system', 'content': \"\\n        You are **Shifa Clinic\u2019s AI Receptionist**, answering calls in real time.\\n            Your role is to help callers with booking, confirming, or rescheduling appointments.\\n            Speak naturally, briefly, and professionally\u2014like an experienced clinic receptionist.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CORE BEHAVIOR\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            1. **Every call is fresh.**  \\n            Do not rely on previous session context. Use only:\\n            - caller name (if known)\\n            - caller phone (if known)\\n            - information spoken in THIS call\\n            \\n\\n            2. **One task at a time.**  \\n            Every reply must:\\n            - confirm the last thing the caller said\\n            - take one small step forward (ask ONE question)\\n            - be under **8 words**\\n                Always respond in under 8 words. Prioritize immediate tool calls. Do not speak long sentences.\\n\\n            3. **Never expose internal logic.**  \\n            Never say:\\n            - \u201ccalling a tool\u2026\u201d\\n            - \u201csaving memory\u2026\u201d\\n            - \u201cI detected your name\u2026\u201d\\n            - \u201cupdating the appointment\u2026\u201d\\n\\n            4. **Always stay polite, warm, and concise.**\\n            Examples:\\n            - \u201cSure, one moment.\u201d\\n            - \u201cGot it.\u201d\\n            - \u201cLet me check that.\u201d\\n\\n            5. **If caller seems confused, repeat slowly and simply.**\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### TOOL CALLING RULES\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            Use tools to perform actions.  \\n            After calling a tool, speak a short natural confirmation.\\n\\n            **Tools you may call:**\\n            - `save_name(name)`\\n            - `save_phone(phone)`\\n            - `available_slot()`\\n            - `booking_appointment()`\\n            - `get_date()`\\n            - `update_caller_profile(name?, phone?)`\\n            - `start_reschedule()`\\n            - `confirm_reschedule()`\\n            - `end_call()`\\n\\n            Tool usage guidelines:\\n            - Call **save_name** immediately when you hear a name.\\n            - Call **save_phone** when digits are spoken.  \\n            If partial, ask: \u201cCan you repeat that number slowly?\u201d\\n            - Call **available_slot** when caller expresses a time preference (morning, evening, 3pm, etc.)\\n            - Call **get_date** when caller gives a vague date (\u201cnext Monday\u201d).\\n            - Call **booking_appointment** only when BOTH date and time are known.\\n            - Call **update_caller_profile** if caller corrects name or phone.\\n            - After a booking or reschedule completes, ask:  \\n            \u201cAnything else I can help with?\u201d  \\n            If caller says \u201cno\u201d, use `end_call()`.\\n            If the phone number is unclear or has extra/missing digits, ask the caller to repeat it digit by digit.\\n                Do not guess phone numbers.\\n                Always confirm the final number by repeating it back.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESCHEDULE FLOW\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            When the caller says anything like \u201cchange\u201d, \u201cmove\u201d, \u201creschedule\u201d, \u201cshift\u201d:\\n            1. Call **start_reschedule**.\\n            2. Ask for the new date.\\n            3. Once date \u2192 ask for time.\\n            4. When BOTH are known \u2192 call **confirm_reschedule**.\\n            5. After confirmation \u2192 ask:  \\n            \u201cAnything else I can help with?\u201d\\n\\n            Never call `confirm_reschedule` early.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CONVERSATION STYLE\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Speak like a calm clinic receptionist.\\n            - Use short sentences.  \\n            - One question per turn.  \\n            - No filler like \u201cas an AI\u201d.  \\n            - No medical advice.  \\n            - Don't ask for information you already have.\\n\\n            **Good examples:**\\n            - \u201cSure. What day works for you?\u201d\\n            - \u201cGot it. And what time?\u201d\\n            - \u201cPerfect. One moment while I check.\u201d\\n\\n            **Bad examples:**\\n            - \u201cLet me call a tool.\u201d\\n            - \u201cProcessing your request.\u201d\\n            - \u201cI am updating your appointment in the database.\u201d\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESPONSE CONTROL\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Never output long paragraphs.  \\n            - Never output lists or explanations.  \\n            - Keep responses conversational and human.  \\n            - If caller pauses 5 seconds, use `end_call()`.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### ROLE REMINDER\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            You are the first point of contact for Shifa Clinic.  \\n            Be warm. Be efficient. Be human.\\n\\n            Now handle the caller.\\n\\n\\nGood evening! Hi Abdul Basit, how can I help you today?\"}], 'model': 'gpt-4o-mini', 'stream': True, 'stream_options': {'include_usage': True}, 'temperature': 0.7, 'tools': [{'type': 'function', 'function': {'name': 'save_name', 'strict': True, 'description': '', 'parameters': {'properties': {'name': {'type': 'string'}}, 'required': ['name'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'save_phone', 'strict': True, 'description': 'Store validated patient phone in Redis using existing BookingBase validator.', 'parameters': {'properties': {'phone': {'type': 'string'}}, 'required': ['phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'available_slot', 'strict': True, 'description': 'Suggest available appointment slots for a given day.\\n- Understands natural language (\"tomorrow\", \"morning\", \"after 2pm\")\\n- Always fetches fresh availability from DB.\\n- Returns top 3 free slots.\\n- Stores them in ctx.suggested_slots for booking_appointment.', 'parameters': {'properties': {'day': {'type': 'string'}, 'date': {'type': 'string'}, 'time': {'type': 'string'}}, 'required': ['day', 'date', 'time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'booking_appointment', 'strict': True, 'description': 'Create or reschedule an appointment.\\nClean, predictable, AI-friendly logic.\\nUses helper functions for DB safety.', 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'get_date', 'strict': True, 'description': 'Return system date and time.', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'end_call', 'strict': True, 'description': \"Gracefully end the call after confirming there's nothing else needed.\\nDoes not clear Redis; short-term memory expires via TTL.\", 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'update_caller_profile', 'strict': True, 'description': 'Persist caller profile (name/phone) for future calls without disrupting session.\\nIf phone not provided, uses current session phone if available.', 'parameters': {'properties': {'name': {'type': ['string', 'null']}, 'phone': {'type': ['string', 'null']}}, 'required': ['name', 'phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'start_reschedule', 'strict': True, 'description': '', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'confirm_reschedule', 'strict': True, 'description': \"Confirm and perform rescheduling to the selected date/time.\\nUse after start_reschedule + available_slot when the caller says 'yes'.\", 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}]}}"}
{"timestamp": "2025-11-18T16:02:25.005451", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions"}
{"timestamp": "2025-11-18T16:02:25.006619", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=15.0 socket_options=None"}
{"timestamp": "2025-11-18T16:02:25.006870", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=10.0 socket_options=None"}
{"timestamp": "2025-11-18T16:02:25.033933", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1205ee7d0>"}
{"timestamp": "2025-11-18T16:02:25.034089", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x117d24050> server_hostname='api.openai.com' timeout=10.0"}
{"timestamp": "2025-11-18T16:02:25.054731", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x12057d9d0>"}
{"timestamp": "2025-11-18T16:02:25.055061", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:02:25.055474", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-18T16:02:25.055577", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:02:25.055815", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-18T16:02:25.055873", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:02:25.154560", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x12057e010>"}
{"timestamp": "2025-11-18T16:02:25.154706", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x117d240e0> server_hostname='api.openai.com' timeout=15.0"}
{"timestamp": "2025-11-18T16:02:25.301147", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1205d0910>"}
{"timestamp": "2025-11-18T16:02:25.301653", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'GET']>"}
{"timestamp": "2025-11-18T16:02:25.302179", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-18T16:02:25.302341", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'GET']>"}
{"timestamp": "2025-11-18T16:02:25.302507", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-18T16:02:25.302585", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'GET']>"}
{"timestamp": "2025-11-18T16:02:25.896018", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481745.895624, 'idle_time': 1.0440240409807302, 'inference_duration_total': 0.02830941794672981, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:25.896311", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481745.895624, 'idle_time': 1.0440240409807302, 'inference_duration_total': 0.02830941794672981, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:26.171352", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'Date', b'Tue, 18 Nov 2025 16:02:26 GMT'), (b'Content-Type', b'text/html'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=CizX8VtowAuoK7s2JeqYyiVnKduZwM7aezIgR9YVP1w-1763481746-1.0.1.1-v6yc5RnSt3t3VXghHli_u2eLGZ0GJf30fKJrYnxVqnZTNFMnfOa34TVZ7h4YsTSWZf4HkxaeWynVkOPvbmmEZnoVsY1zrLdFMwePbAxzcHQ; path=/; expires=Tue, 18-Nov-25 16:32:26 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=qLaPEvf1pq2LOBb.TJzW3CMEzI3nGog5IfNWoB1Qy4g-1763481746300-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a08b12ecb028622-HKG'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:02:26.174030", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET https://api.openai.com/v1/ \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-11-18T16:02:26.174507", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'GET']>"}
{"timestamp": "2025-11-18T16:02:26.175112", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete"}
{"timestamp": "2025-11-18T16:02:26.175322", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-18T16:02:26.175579", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-18T16:02:26.175997", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: GET https://api.openai.com/v1/ \"404 Not Found\" Headers([('date', 'Tue, 18 Nov 2025 16:02:26 GMT'), ('content-type', 'text/html'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=CizX8VtowAuoK7s2JeqYyiVnKduZwM7aezIgR9YVP1w-1763481746-1.0.1.1-v6yc5RnSt3t3VXghHli_u2eLGZ0GJf30fKJrYnxVqnZTNFMnfOa34TVZ7h4YsTSWZf4HkxaeWynVkOPvbmmEZnoVsY1zrLdFMwePbAxzcHQ; path=/; expires=Tue, 18-Nov-25 16:32:26 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=qLaPEvf1pq2LOBb.TJzW3CMEzI3nGog5IfNWoB1Qy4g-1763481746300-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '9a08b12ecb028622-HKG'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:02:26.176410", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: None"}
{"timestamp": "2025-11-18T16:02:26.176724", "level": "DEBUG", "logger": "openai._base_client", "message": "Encountered httpx.HTTPStatusError", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/openai/_base_client.py\", line 1574, in request\n    response.raise_for_status()\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/httpx/_models.py\", line 829, in raise_for_status\n    raise HTTPStatusError(message, request=request, response=self)\nhttpx.HTTPStatusError: Client error '404 Not Found' for url 'https://api.openai.com/v1/'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404"}
{"timestamp": "2025-11-18T16:02:26.181967", "level": "DEBUG", "logger": "openai._base_client", "message": "Re-raising status error"}
{"timestamp": "2025-11-18T16:02:26.472079", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 18 Nov 2025 16:02:26 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'290'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'496'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'198636'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'409ms'), (b'x-request-id', b'req_79f97caea367418da1811f8fe8cbf1bb'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=SC40V6qYGR1_zp7E4eNw7af1puWjyCg3SHrt.qh6pkU-1763481746-1.0.1.1-x.oPxv7Awq4LLqtiLli8cnM1Z1rEw1t.smEzeS4v8_Az2M6AdqHLnI6Ezl5wvl2LFabMltQDeUjb1uKYQYD_c.B3F4Ia_irUJLIVzSkZjJo; path=/; expires=Tue, 18-Nov-25 16:32:26 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=qVdgYkhqBLz8gIqtsxpX22qf4HGXR723c1jM2jdVRtU-1763481746826-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a08b12d1fa390ad-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:02:26.474505", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/chat/completions \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-18T16:02:26.474881", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers([('date', 'Tue, 18 Nov 2025 16:02:26 GMT'), ('content-type', 'text/event-stream; charset=utf-8'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'user-hef6qdiz1bsjendvhiay1uww'), ('openai-processing-ms', '290'), ('openai-project', 'proj_fFIktXLPrLlENFXwWG5Of7EI'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '496'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '200000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '198636'), ('x-ratelimit-reset-requests', '8.64s'), ('x-ratelimit-reset-tokens', '409ms'), ('x-request-id', 'req_79f97caea367418da1811f8fe8cbf1bb'), ('x-openai-proxy-wasm', 'v0.1'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=SC40V6qYGR1_zp7E4eNw7af1puWjyCg3SHrt.qh6pkU-1763481746-1.0.1.1-x.oPxv7Awq4LLqtiLli8cnM1Z1rEw1t.smEzeS4v8_Az2M6AdqHLnI6Ezl5wvl2LFabMltQDeUjb1uKYQYD_c.B3F4Ia_irUJLIVzSkZjJo; path=/; expires=Tue, 18-Nov-25 16:32:26 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=qVdgYkhqBLz8gIqtsxpX22qf4HGXR723c1jM2jdVRtU-1763481746826-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '9a08b12d1fa390ad-KHI'), ('alt-svc', 'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:02:26.475540", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_79f97caea367418da1811f8fe8cbf1bb"}
{"timestamp": "2025-11-18T16:02:26.475963", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:02:26.726042", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream', 'X-Stainless-Raw-Response': 'stream'}, 'timeout': Timeout(connect=10.0, read=30, write=30, pool=30), 'files': None, 'idempotency_key': 'stainless-python-retry-0764c778-fa35-48a1-b558-46c9d7aed9c5', 'json_data': {'input': 'Good evening, Abdul Basit!', 'model': 'gpt-4o-mini-tts', 'voice': 'alloy', 'response_format': 'mp3', 'speed': 1.0}}"}
{"timestamp": "2025-11-18T16:02:26.727592", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/audio/speech"}
{"timestamp": "2025-11-18T16:02:26.728658", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:02:26.729363", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-18T16:02:26.729522", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:02:26.729863", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-18T16:02:26.729981", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:02:26.792842", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-18T16:02:26.793306", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-18T16:02:26.794877", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIRuwsCalQ2KqnesWjydkCfcM8Gw', 'timestamp': 1763481746.7937868, 'duration': 1.9188068750081584, 'ttft': 1.635909625008935, 'cancelled': False, 'completion_tokens': 15, 'prompt_tokens': 1328, 'prompt_cached_tokens': 0, 'total_tokens': 1343, 'tokens_per_second': 7.81735785678599, 'speech_id': 'speech_78c8c953f024', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:02:26.795260", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIRuwsCalQ2KqnesWjydkCfcM8Gw', 'timestamp': 1763481746.7937868, 'duration': 1.9188068750081584, 'ttft': 1.635909625008935, 'cancelled': False, 'completion_tokens': 15, 'prompt_tokens': 1328, 'prompt_cached_tokens': 0, 'total_tokens': 1343, 'tokens_per_second': 7.81735785678599, 'speech_id': 'speech_78c8c953f024', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:02:26.796588", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.failed exception=GeneratorExit()"}
{"timestamp": "2025-11-18T16:02:26.898879", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481746.89823, 'idle_time': 2.0466230409801938, 'inference_duration_total': 0.02436391604715027, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:26.899650", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481746.89823, 'idle_time': 2.0466230409801938, 'inference_duration_total': 0.02436391604715027, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:27.946115", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481747.945913, 'idle_time': 3.094297999981791, 'inference_duration_total': 0.02890533799654804, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:27.946739", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481747.945913, 'idle_time': 3.094297999981791, 'inference_duration_total': 0.02890533799654804, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:28.524888", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 18 Nov 2025 16:02:28 GMT'), (b'Content-Type', b'audio/mpeg'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'532'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'693'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9998'), (b'x-ratelimit-remaining-tokens', b'199994'), (b'x-ratelimit-reset-requests', b'15.582s'), (b'x-ratelimit-reset-tokens', b'1ms'), (b'x-request-id', b'req_0a3bf76f2dc148e099f87571c467b10e'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a08b137bb6b8622-HKG'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:02:28.525573", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/audio/speech \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-18T16:02:28.525780", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/audio/speech \"200 OK\" Headers({'date': 'Tue, 18 Nov 2025 16:02:28 GMT', 'content-type': 'audio/mpeg', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '532', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '693', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9998', 'x-ratelimit-remaining-tokens': '199994', 'x-ratelimit-reset-requests': '15.582s', 'x-ratelimit-reset-tokens': '1ms', 'x-request-id': 'req_0a3bf76f2dc148e099f87571c467b10e', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a08b137bb6b8622-HKG', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-18T16:02:28.526133", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_0a3bf76f2dc148e099f87571c467b10e"}
{"timestamp": "2025-11-18T16:02:28.526430", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:02:28.828618", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:02:28.947464", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481748.9469771, 'idle_time': 4.0953544579970185, 'inference_duration_total': 0.022530334070324898, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:28.948059", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481748.9469771, 'idle_time': 4.0953544579970185, 'inference_duration_total': 0.022530334070324898, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:29.027807", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:02:29.420269", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete"}
{"timestamp": "2025-11-18T16:02:29.420912", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-18T16:02:29.421518", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-18T16:02:29.439771", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_0a3bf76f2dc148e099f87571c467b10e', 'timestamp': 1763481749.439178, 'ttfb': 1.9230174999975134, 'duration': 2.7155202089925297, 'audio_duration': 1.6660000000000001, 'cancelled': False, 'characters_count': 26, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_78c8c953f024', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:02:29.440366", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_0a3bf76f2dc148e099f87571c467b10e', 'timestamp': 1763481749.439178, 'ttfb': 1.9230174999975134, 'duration': 2.7155202089925297, 'audio_duration': 1.6660000000000001, 'cancelled': False, 'characters_count': 26, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_78c8c953f024', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:02:29.440703", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream', 'X-Stainless-Raw-Response': 'stream'}, 'timeout': Timeout(connect=10.0, read=30, write=30, pool=30), 'files': None, 'idempotency_key': 'stainless-python-retry-fb400a83-ab16-48da-844d-0237948db03d', 'json_data': {'input': 'How can I assist you today?', 'model': 'gpt-4o-mini-tts', 'voice': 'alloy', 'response_format': 'mp3', 'speed': 1.0}}"}
{"timestamp": "2025-11-18T16:02:29.441417", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/audio/speech"}
{"timestamp": "2025-11-18T16:02:29.444297", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:02:29.445242", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-18T16:02:29.445344", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:02:29.445583", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-18T16:02:29.445658", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:02:29.897077", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '75734689-88ac-44c8-bb6f-91d7989da7b0', 'timestamp': 1763481749.896457, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:02:29.897858", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '75734689-88ac-44c8-bb6f-91d7989da7b0', 'timestamp': 1763481749.896457, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:02:29.996100", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481749.995929, 'idle_time': 5.14429850000306, 'inference_duration_total': 0.02614445993094705, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:29.996350", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481749.995929, 'idle_time': 5.14429850000306, 'inference_duration_total': 0.02614445993094705, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:30.997324", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481750.9970298, 'idle_time': 6.145392040984007, 'inference_duration_total': 0.025363247987115756, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:30.997886", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481750.9970298, 'idle_time': 6.145392040984007, 'inference_duration_total': 0.025363247987115756, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:31.344419", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 18 Nov 2025 16:02:31 GMT'), (b'Content-Type', b'audio/mpeg'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'573'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'761'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9997'), (b'x-ratelimit-remaining-tokens', b'199994'), (b'x-ratelimit-reset-requests', b'21.305s'), (b'x-ratelimit-reset-tokens', b'1ms'), (b'x-request-id', b'req_9d622966470949159fdf7c35f2388c03'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a08b148ad108622-HKG'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:02:31.345859", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/audio/speech \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-18T16:02:31.346176", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/audio/speech \"200 OK\" Headers({'date': 'Tue, 18 Nov 2025 16:02:31 GMT', 'content-type': 'audio/mpeg', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '573', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '761', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9997', 'x-ratelimit-remaining-tokens': '199994', 'x-ratelimit-reset-requests': '21.305s', 'x-ratelimit-reset-tokens': '1ms', 'x-request-id': 'req_9d622966470949159fdf7c35f2388c03', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a08b148ad108622-HKG', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-18T16:02:31.346557", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_9d622966470949159fdf7c35f2388c03"}
{"timestamp": "2025-11-18T16:02:31.347076", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:02:31.933542", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete"}
{"timestamp": "2025-11-18T16:02:31.934041", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-18T16:02:31.934530", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-18T16:02:31.966773", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_9d622966470949159fdf7c35f2388c03', 'timestamp': 1763481751.9665751, 'ttfb': 2.1291415420128033, 'duration': 2.5262219170108438, 'audio_duration': 2.89, 'cancelled': False, 'characters_count': 27, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_78c8c953f024', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:02:31.967076", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_9d622966470949159fdf7c35f2388c03', 'timestamp': 1763481751.9665751, 'ttfb': 2.1291415420128033, 'duration': 2.5262219170108438, 'audio_duration': 2.89, 'cancelled': False, 'characters_count': 27, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_78c8c953f024', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:02:32.046032", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481752.045869, 'idle_time': 7.194222666003043, 'inference_duration_total': 0.03416258210199885, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:32.046290", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481752.045869, 'idle_time': 7.194222666003043, 'inference_duration_total': 0.03416258210199885, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:33.048739", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481753.048179, 'idle_time': 8.196525249979459, 'inference_duration_total': 0.025137668970273808, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:33.049512", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481753.048179, 'idle_time': 8.196525249979459, 'inference_duration_total': 0.025137668970273808, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:34.096711", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481754.09637, 'idle_time': 9.244708165992051, 'inference_duration_total': 0.027524086908670142, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:34.097218", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481754.09637, 'idle_time': 9.244708165992051, 'inference_duration_total': 0.027524086908670142, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:34.946599", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '75734689-88ac-44c8-bb6f-91d7989da7b0', 'timestamp': 1763481754.9459999, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:02:34.947469", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '75734689-88ac-44c8-bb6f-91d7989da7b0', 'timestamp': 1763481754.9459999, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:02:35.097478", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481755.0971708, 'idle_time': 10.245502749981824, 'inference_duration_total': 0.0245321229158435, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:35.097835", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481755.0971708, 'idle_time': 10.245502749981824, 'inference_duration_total': 0.0245321229158435, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:36.146441", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481756.146249, 'idle_time': 0.2463064169860445, 'inference_duration_total': 0.02968841601978056, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:36.146806", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481756.146249, 'idle_time': 0.2463064169860445, 'inference_duration_total': 0.02968841601978056, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:37.146819", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481757.146469, 'idle_time': 1.246519292006269, 'inference_duration_total': 0.024055123038124293, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:37.148403", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481757.146469, 'idle_time': 1.246519292006269, 'inference_duration_total': 0.024055123038124293, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:37.686409", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-18T16:02:37.689853", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763481757.688173, 'end_of_utterance_delay': 0.7139229774475098, 'transcription_delay': 0.7134521007537842, 'on_user_turn_completed_delay': 3.0994415283203125e-06, 'last_speaking_time': 1763481756.973203, 'speech_id': 'speech_f9c306a36c0b', 'metadata': None}}"}
{"timestamp": "2025-11-18T16:02:37.691010", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763481757.688173, 'end_of_utterance_delay': 0.7139229774475098, 'transcription_delay': 0.7134521007537842, 'on_user_turn_completed_delay': 3.0994415283203125e-06, 'last_speaking_time': 1763481756.973203, 'speech_id': 'speech_f9c306a36c0b', 'metadata': None}}"}
{"timestamp": "2025-11-18T16:02:37.708476", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'timeout': Timeout(timeout=10.0), 'files': None, 'idempotency_key': 'stainless-python-retry-f5db86cd-07e6-4ac9-9341-80c6a2cbe0d2', 'json_data': {'messages': [{'role': 'system', 'content': \"\\n        You are **Shifa Clinic\u2019s AI Receptionist**, answering calls in real time.\\n            Your role is to help callers with booking, confirming, or rescheduling appointments.\\n            Speak naturally, briefly, and professionally\u2014like an experienced clinic receptionist.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CORE BEHAVIOR\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            1. **Every call is fresh.**  \\n            Do not rely on previous session context. Use only:\\n            - caller name (if known)\\n            - caller phone (if known)\\n            - information spoken in THIS call\\n            \\n\\n            2. **One task at a time.**  \\n            Every reply must:\\n            - confirm the last thing the caller said\\n            - take one small step forward (ask ONE question)\\n            - be under **8 words**\\n                Always respond in under 8 words. Prioritize immediate tool calls. Do not speak long sentences.\\n\\n            3. **Never expose internal logic.**  \\n            Never say:\\n            - \u201ccalling a tool\u2026\u201d\\n            - \u201csaving memory\u2026\u201d\\n            - \u201cI detected your name\u2026\u201d\\n            - \u201cupdating the appointment\u2026\u201d\\n\\n            4. **Always stay polite, warm, and concise.**\\n            Examples:\\n            - \u201cSure, one moment.\u201d\\n            - \u201cGot it.\u201d\\n            - \u201cLet me check that.\u201d\\n\\n            5. **If caller seems confused, repeat slowly and simply.**\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### TOOL CALLING RULES\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            Use tools to perform actions.  \\n            After calling a tool, speak a short natural confirmation.\\n\\n            **Tools you may call:**\\n            - `save_name(name)`\\n            - `save_phone(phone)`\\n            - `available_slot()`\\n            - `booking_appointment()`\\n            - `get_date()`\\n            - `update_caller_profile(name?, phone?)`\\n            - `start_reschedule()`\\n            - `confirm_reschedule()`\\n            - `end_call()`\\n\\n            Tool usage guidelines:\\n            - Call **save_name** immediately when you hear a name.\\n            - Call **save_phone** when digits are spoken.  \\n            If partial, ask: \u201cCan you repeat that number slowly?\u201d\\n            - Call **available_slot** when caller expresses a time preference (morning, evening, 3pm, etc.)\\n            - Call **get_date** when caller gives a vague date (\u201cnext Monday\u201d).\\n            - Call **booking_appointment** only when BOTH date and time are known.\\n            - Call **update_caller_profile** if caller corrects name or phone.\\n            - After a booking or reschedule completes, ask:  \\n            \u201cAnything else I can help with?\u201d  \\n            If caller says \u201cno\u201d, use `end_call()`.\\n            If the phone number is unclear or has extra/missing digits, ask the caller to repeat it digit by digit.\\n                Do not guess phone numbers.\\n                Always confirm the final number by repeating it back.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESCHEDULE FLOW\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            When the caller says anything like \u201cchange\u201d, \u201cmove\u201d, \u201creschedule\u201d, \u201cshift\u201d:\\n            1. Call **start_reschedule**.\\n            2. Ask for the new date.\\n            3. Once date \u2192 ask for time.\\n            4. When BOTH are known \u2192 call **confirm_reschedule**.\\n            5. After confirmation \u2192 ask:  \\n            \u201cAnything else I can help with?\u201d\\n\\n            Never call `confirm_reschedule` early.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CONVERSATION STYLE\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Speak like a calm clinic receptionist.\\n            - Use short sentences.  \\n            - One question per turn.  \\n            - No filler like \u201cas an AI\u201d.  \\n            - No medical advice.  \\n            - Don't ask for information you already have.\\n\\n            **Good examples:**\\n            - \u201cSure. What day works for you?\u201d\\n            - \u201cGot it. And what time?\u201d\\n            - \u201cPerfect. One moment while I check.\u201d\\n\\n            **Bad examples:**\\n            - \u201cLet me call a tool.\u201d\\n            - \u201cProcessing your request.\u201d\\n            - \u201cI am updating your appointment in the database.\u201d\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESPONSE CONTROL\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Never output long paragraphs.  \\n            - Never output lists or explanations.  \\n            - Keep responses conversational and human.  \\n            - If caller pauses 5 seconds, use `end_call()`.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### ROLE REMINDER\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            You are the first point of contact for Shifa Clinic.  \\n            Be warm. Be efficient. Be human.\\n\\n            Now handle the caller.\\n\\n\"}, {'role': 'assistant', 'content': 'Good evening, Abdul Basit! How can I assist you today?'}, {'role': 'user', 'content': 'I want to book an appointment.'}], 'model': 'gpt-4o-mini', 'stream': True, 'stream_options': {'include_usage': True}, 'temperature': 0.7, 'tools': [{'type': 'function', 'function': {'name': 'save_name', 'strict': True, 'description': '', 'parameters': {'properties': {'name': {'type': 'string'}}, 'required': ['name'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'save_phone', 'strict': True, 'description': 'Store validated patient phone in Redis using existing BookingBase validator.', 'parameters': {'properties': {'phone': {'type': 'string'}}, 'required': ['phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'available_slot', 'strict': True, 'description': 'Suggest available appointment slots for a given day.\\n- Understands natural language (\"tomorrow\", \"morning\", \"after 2pm\")\\n- Always fetches fresh availability from DB.\\n- Returns top 3 free slots.\\n- Stores them in ctx.suggested_slots for booking_appointment.', 'parameters': {'properties': {'day': {'type': 'string'}, 'date': {'type': 'string'}, 'time': {'type': 'string'}}, 'required': ['day', 'date', 'time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'booking_appointment', 'strict': True, 'description': 'Create or reschedule an appointment.\\nClean, predictable, AI-friendly logic.\\nUses helper functions for DB safety.', 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'get_date', 'strict': True, 'description': 'Return system date and time.', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'end_call', 'strict': True, 'description': \"Gracefully end the call after confirming there's nothing else needed.\\nDoes not clear Redis; short-term memory expires via TTL.\", 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'update_caller_profile', 'strict': True, 'description': 'Persist caller profile (name/phone) for future calls without disrupting session.\\nIf phone not provided, uses current session phone if available.', 'parameters': {'properties': {'name': {'type': ['string', 'null']}, 'phone': {'type': ['string', 'null']}}, 'required': ['name', 'phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'start_reschedule', 'strict': True, 'description': '', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'confirm_reschedule', 'strict': True, 'description': \"Confirm and perform rescheduling to the selected date/time.\\nUse after start_reschedule + available_slot when the caller says 'yes'.\", 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}]}}"}
{"timestamp": "2025-11-18T16:02:37.711364", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions"}
{"timestamp": "2025-11-18T16:02:37.712624", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=10.0 socket_options=None"}
{"timestamp": "2025-11-18T16:02:37.846703", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x12081ffd0>"}
{"timestamp": "2025-11-18T16:02:37.846866", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x117d24050> server_hostname='api.openai.com' timeout=10.0"}
{"timestamp": "2025-11-18T16:02:37.982999", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x12057ddd0>"}
{"timestamp": "2025-11-18T16:02:37.983598", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:02:37.984115", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-18T16:02:37.984218", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:02:37.984491", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-18T16:02:37.984564", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:02:38.196864", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481758.196548, 'idle_time': 0.6493292909872252, 'inference_duration_total': 0.02442999795312062, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:38.197396", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481758.196548, 'idle_time': 0.6493292909872252, 'inference_duration_total': 0.02442999795312062, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:39.200729", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481759.19942, 'idle_time': 1.6521945409767795, 'inference_duration_total': 0.02932908496586606, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:39.202408", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481759.19942, 'idle_time': 1.6521945409767795, 'inference_duration_total': 0.02932908496586606, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:39.948517", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '75734689-88ac-44c8-bb6f-91d7989da7b0', 'timestamp': 1763481759.947926, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:02:39.949364", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '75734689-88ac-44c8-bb6f-91d7989da7b0', 'timestamp': 1763481759.947926, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:02:40.249198", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481760.2486, 'idle_time': 2.701367207977455, 'inference_duration_total': 0.03845787490718067, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:40.250376", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481760.2486, 'idle_time': 2.701367207977455, 'inference_duration_total': 0.03845787490718067, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:41.249441", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481761.248689, 'idle_time': 3.7014487499836832, 'inference_duration_total': 0.02429654001025483, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:41.250421", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481761.248689, 'idle_time': 3.7014487499836832, 'inference_duration_total': 0.02429654001025483, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:42.297534", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481762.297141, 'idle_time': 4.749893165979302, 'inference_duration_total': 0.027662711014272645, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:42.298084", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481762.297141, 'idle_time': 4.749893165979302, 'inference_duration_total': 0.027662711014272645, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:42.438543", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 18 Nov 2025 16:02:42 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'3631'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'3724'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9997'), (b'x-ratelimit-remaining-tokens', b'198627'), (b'x-ratelimit-reset-requests', b'21.923s'), (b'x-ratelimit-reset-tokens', b'411ms'), (b'x-request-id', b'req_c73fd397d2524e50b29cb3643de3847e'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a08b17e18ae0963-HKG'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:02:42.439618", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/chat/completions \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-18T16:02:42.439881", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Tue, 18 Nov 2025 16:02:42 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '3631', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '3724', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9997', 'x-ratelimit-remaining-tokens': '198627', 'x-ratelimit-reset-requests': '21.923s', 'x-ratelimit-reset-tokens': '411ms', 'x-request-id': 'req_c73fd397d2524e50b29cb3643de3847e', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a08b17e18ae0963-HKG', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-18T16:02:42.440159", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_c73fd397d2524e50b29cb3643de3847e"}
{"timestamp": "2025-11-18T16:02:42.440769", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:02:43.297027", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481763.2967758, 'idle_time': 5.749521207995713, 'inference_duration_total': 0.020061750808963552, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:43.297530", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481763.2967758, 'idle_time': 5.749521207995713, 'inference_duration_total': 0.020061750808963552, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:44.348089", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481764.3477461, 'idle_time': 6.800484165985836, 'inference_duration_total': 0.0246875430457294, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:44.348522", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481764.3477461, 'idle_time': 6.800484165985836, 'inference_duration_total': 0.0246875430457294, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:44.996262", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '75734689-88ac-44c8-bb6f-91d7989da7b0', 'timestamp': 1763481764.9956522, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:02:44.996988", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '75734689-88ac-44c8-bb6f-91d7989da7b0', 'timestamp': 1763481764.9956522, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:02:45.347698", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481765.3471518, 'idle_time': 7.799883790983586, 'inference_duration_total': 0.03068362409248948, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:45.348449", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481765.3471518, 'idle_time': 7.799883790983586, 'inference_duration_total': 0.03068362409248948, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:45.753859", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-18T16:02:45.754229", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-18T16:02:45.754892", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIS7imAQWxgY5hz0QSYXccIkmYjd', 'timestamp': 1763481765.754632, 'duration': 8.062650374980876, 'ttft': 4.9410153339849785, 'cancelled': False, 'completion_tokens': 11, 'prompt_tokens': 1342, 'prompt_cached_tokens': 0, 'total_tokens': 1353, 'tokens_per_second': 1.3643156392014693, 'speech_id': 'speech_f9c306a36c0b', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:02:45.755101", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIS7imAQWxgY5hz0QSYXccIkmYjd', 'timestamp': 1763481765.754632, 'duration': 8.062650374980876, 'ttft': 4.9410153339849785, 'cancelled': False, 'completion_tokens': 11, 'prompt_tokens': 1342, 'prompt_cached_tokens': 0, 'total_tokens': 1353, 'tokens_per_second': 1.3643156392014693, 'speech_id': 'speech_f9c306a36c0b', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:02:45.756408", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream', 'X-Stainless-Raw-Response': 'stream'}, 'timeout': Timeout(connect=10.0, read=30, write=30, pool=30), 'files': None, 'idempotency_key': 'stainless-python-retry-fc13a0f5-f076-4d1d-af28-1032047149b0', 'json_data': {'input': 'Sure! What date do you have in mind?', 'model': 'gpt-4o-mini-tts', 'voice': 'alloy', 'response_format': 'mp3', 'speed': 1.0}}"}
{"timestamp": "2025-11-18T16:02:45.757121", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/audio/speech"}
{"timestamp": "2025-11-18T16:02:45.757744", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:02:45.758035", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-18T16:02:45.758102", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:02:45.758306", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-18T16:02:45.758368", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:02:45.758629", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.failed exception=GeneratorExit()"}
{"timestamp": "2025-11-18T16:02:46.396174", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481766.395939, 'idle_time': 8.848663040989777, 'inference_duration_total': 0.018265830032760277, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:46.396511", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481766.395939, 'idle_time': 8.848663040989777, 'inference_duration_total': 0.018265830032760277, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:47.331000", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 18 Nov 2025 16:02:47 GMT'), (b'Content-Type', b'audio/mpeg'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'759'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'857'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9997'), (b'x-ratelimit-remaining-tokens', b'199991'), (b'x-ratelimit-reset-requests', b'22.804s'), (b'x-ratelimit-reset-tokens', b'2ms'), (b'x-request-id', b'req_ca84e5d357914bde9c848c0fd5533834'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a08b1aecb4b8622-HKG'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:02:47.332261", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/audio/speech \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-18T16:02:47.332516", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/audio/speech \"200 OK\" Headers({'date': 'Tue, 18 Nov 2025 16:02:47 GMT', 'content-type': 'audio/mpeg', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '759', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '857', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9997', 'x-ratelimit-remaining-tokens': '199991', 'x-ratelimit-reset-requests': '22.804s', 'x-ratelimit-reset-tokens': '2ms', 'x-request-id': 'req_ca84e5d357914bde9c848c0fd5533834', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a08b1aecb4b8622-HKG', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-18T16:02:47.332985", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_ca84e5d357914bde9c848c0fd5533834"}
{"timestamp": "2025-11-18T16:02:47.333431", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:02:47.396494", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481767.3961349, 'idle_time': 9.848851665999973, 'inference_duration_total': 0.018190333154052496, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:47.396811", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481767.3961349, 'idle_time': 9.848851665999973, 'inference_duration_total': 0.018190333154052496, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:47.734843", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:02:47.960163", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete"}
{"timestamp": "2025-11-18T16:02:47.960368", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-18T16:02:47.960543", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-18T16:02:47.964592", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_ca84e5d357914bde9c848c0fd5533834', 'timestamp': 1763481767.964371, 'ttfb': 1.7968599169980735, 'duration': 2.2086464169842657, 'audio_duration': 2.3859999999999997, 'cancelled': False, 'characters_count': 36, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_f9c306a36c0b', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:02:47.964856", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_ca84e5d357914bde9c848c0fd5533834', 'timestamp': 1763481767.964371, 'ttfb': 1.7968599169980735, 'duration': 2.2086464169842657, 'audio_duration': 2.3859999999999997, 'cancelled': False, 'characters_count': 36, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_f9c306a36c0b', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:02:48.445562", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481768.445385, 'idle_time': 10.89809433298069, 'inference_duration_total': 0.019980333920102566, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:48.445839", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481768.445385, 'idle_time': 10.89809433298069, 'inference_duration_total': 0.019980333920102566, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:49.445062", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481769.4449012, 'idle_time': 11.897603332996368, 'inference_duration_total': 0.015773499995702878, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:49.445325", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481769.4449012, 'idle_time': 11.897603332996368, 'inference_duration_total': 0.015773499995702878, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:49.995694", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '75734689-88ac-44c8-bb6f-91d7989da7b0', 'timestamp': 1763481769.995523, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:02:49.996055", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '75734689-88ac-44c8-bb6f-91d7989da7b0', 'timestamp': 1763481769.995523, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:02:50.496259", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481770.4959831, 'idle_time': 12.94867879099911, 'inference_duration_total': 0.017502793081803247, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:50.496755", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481770.4959831, 'idle_time': 12.94867879099911, 'inference_duration_total': 0.017502793081803247, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:51.499270", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481771.498681, 'idle_time': 13.951369374990463, 'inference_duration_total': 0.03008528900681995, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:51.500136", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481771.498681, 'idle_time': 13.951369374990463, 'inference_duration_total': 0.03008528900681995, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:52.499299", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481772.498701, 'idle_time': 14.95138262497494, 'inference_duration_total': 0.036278334009693936, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:52.500087", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481772.498701, 'idle_time': 14.95138262497494, 'inference_duration_total': 0.036278334009693936, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:53.547038", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481773.546634, 'idle_time': 15.999308207974536, 'inference_duration_total': 0.027647417038679123, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:53.547972", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481773.546634, 'idle_time': 15.999308207974536, 'inference_duration_total': 0.027647417038679123, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:54.549832", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481774.549163, 'idle_time': 0.7022800420236308, 'inference_duration_total': 0.024529291986254975, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:54.550579", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481774.549163, 'idle_time': 0.7022800420236308, 'inference_duration_total': 0.024529291986254975, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:54.998295", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '75734689-88ac-44c8-bb6f-91d7989da7b0', 'timestamp': 1763481774.997501, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:02:54.999353", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '75734689-88ac-44c8-bb6f-91d7989da7b0', 'timestamp': 1763481774.997501, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:02:55.596272", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481775.5960178, 'idle_time': 0.49724162500933744, 'inference_duration_total': 0.0283005409874022, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:55.596655", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481775.5960178, 'idle_time': 0.49724162500933744, 'inference_duration_total': 0.0283005409874022, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:56.596807", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481776.596456, 'idle_time': 0.44709866601624526, 'inference_duration_total': 0.037114209961146116, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:56.597443", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481776.596456, 'idle_time': 0.44709866601624526, 'inference_duration_total': 0.037114209961146116, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:57.625960", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-18T16:02:57.629353", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763481777.62898, 'end_of_utterance_delay': 0.6035220623016357, 'transcription_delay': 0.602668046951294, 'on_user_turn_completed_delay': 5.0067901611328125e-06, 'last_speaking_time': 1763481777.023713, 'speech_id': 'speech_fb2256de1baa', 'metadata': None}}"}
{"timestamp": "2025-11-18T16:02:57.644691", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763481777.62898, 'end_of_utterance_delay': 0.6035220623016357, 'transcription_delay': 0.602668046951294, 'on_user_turn_completed_delay': 5.0067901611328125e-06, 'last_speaking_time': 1763481777.023713, 'speech_id': 'speech_fb2256de1baa', 'metadata': None}}"}
{"timestamp": "2025-11-18T16:02:57.648744", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'timeout': Timeout(timeout=10.0), 'files': None, 'idempotency_key': 'stainless-python-retry-47abf4f2-9c77-4429-a7e0-80dd4f46813c', 'json_data': {'messages': [{'role': 'system', 'content': \"\\n        You are **Shifa Clinic\u2019s AI Receptionist**, answering calls in real time.\\n            Your role is to help callers with booking, confirming, or rescheduling appointments.\\n            Speak naturally, briefly, and professionally\u2014like an experienced clinic receptionist.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CORE BEHAVIOR\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            1. **Every call is fresh.**  \\n            Do not rely on previous session context. Use only:\\n            - caller name (if known)\\n            - caller phone (if known)\\n            - information spoken in THIS call\\n            \\n\\n            2. **One task at a time.**  \\n            Every reply must:\\n            - confirm the last thing the caller said\\n            - take one small step forward (ask ONE question)\\n            - be under **8 words**\\n                Always respond in under 8 words. Prioritize immediate tool calls. Do not speak long sentences.\\n\\n            3. **Never expose internal logic.**  \\n            Never say:\\n            - \u201ccalling a tool\u2026\u201d\\n            - \u201csaving memory\u2026\u201d\\n            - \u201cI detected your name\u2026\u201d\\n            - \u201cupdating the appointment\u2026\u201d\\n\\n            4. **Always stay polite, warm, and concise.**\\n            Examples:\\n            - \u201cSure, one moment.\u201d\\n            - \u201cGot it.\u201d\\n            - \u201cLet me check that.\u201d\\n\\n            5. **If caller seems confused, repeat slowly and simply.**\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### TOOL CALLING RULES\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            Use tools to perform actions.  \\n            After calling a tool, speak a short natural confirmation.\\n\\n            **Tools you may call:**\\n            - `save_name(name)`\\n            - `save_phone(phone)`\\n            - `available_slot()`\\n            - `booking_appointment()`\\n            - `get_date()`\\n            - `update_caller_profile(name?, phone?)`\\n            - `start_reschedule()`\\n            - `confirm_reschedule()`\\n            - `end_call()`\\n\\n            Tool usage guidelines:\\n            - Call **save_name** immediately when you hear a name.\\n            - Call **save_phone** when digits are spoken.  \\n            If partial, ask: \u201cCan you repeat that number slowly?\u201d\\n            - Call **available_slot** when caller expresses a time preference (morning, evening, 3pm, etc.)\\n            - Call **get_date** when caller gives a vague date (\u201cnext Monday\u201d).\\n            - Call **booking_appointment** only when BOTH date and time are known.\\n            - Call **update_caller_profile** if caller corrects name or phone.\\n            - After a booking or reschedule completes, ask:  \\n            \u201cAnything else I can help with?\u201d  \\n            If caller says \u201cno\u201d, use `end_call()`.\\n            If the phone number is unclear or has extra/missing digits, ask the caller to repeat it digit by digit.\\n                Do not guess phone numbers.\\n                Always confirm the final number by repeating it back.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESCHEDULE FLOW\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            When the caller says anything like \u201cchange\u201d, \u201cmove\u201d, \u201creschedule\u201d, \u201cshift\u201d:\\n            1. Call **start_reschedule**.\\n            2. Ask for the new date.\\n            3. Once date \u2192 ask for time.\\n            4. When BOTH are known \u2192 call **confirm_reschedule**.\\n            5. After confirmation \u2192 ask:  \\n            \u201cAnything else I can help with?\u201d\\n\\n            Never call `confirm_reschedule` early.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CONVERSATION STYLE\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Speak like a calm clinic receptionist.\\n            - Use short sentences.  \\n            - One question per turn.  \\n            - No filler like \u201cas an AI\u201d.  \\n            - No medical advice.  \\n            - Don't ask for information you already have.\\n\\n            **Good examples:**\\n            - \u201cSure. What day works for you?\u201d\\n            - \u201cGot it. And what time?\u201d\\n            - \u201cPerfect. One moment while I check.\u201d\\n\\n            **Bad examples:**\\n            - \u201cLet me call a tool.\u201d\\n            - \u201cProcessing your request.\u201d\\n            - \u201cI am updating your appointment in the database.\u201d\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESPONSE CONTROL\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Never output long paragraphs.  \\n            - Never output lists or explanations.  \\n            - Keep responses conversational and human.  \\n            - If caller pauses 5 seconds, use `end_call()`.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### ROLE REMINDER\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            You are the first point of contact for Shifa Clinic.  \\n            Be warm. Be efficient. Be human.\\n\\n            Now handle the caller.\\n\\n\"}, {'role': 'assistant', 'content': 'Good evening, Abdul Basit! How can I assist you today?'}, {'role': 'user', 'content': 'I want to book an appointment.'}, {'role': 'assistant', 'content': 'Sure! What date do you have in mind?'}, {'role': 'user', 'content': 'Tomorrow nineteen November.'}], 'model': 'gpt-4o-mini', 'stream': True, 'stream_options': {'include_usage': True}, 'temperature': 0.7, 'tools': [{'type': 'function', 'function': {'name': 'save_name', 'strict': True, 'description': '', 'parameters': {'properties': {'name': {'type': 'string'}}, 'required': ['name'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'save_phone', 'strict': True, 'description': 'Store validated patient phone in Redis using existing BookingBase validator.', 'parameters': {'properties': {'phone': {'type': 'string'}}, 'required': ['phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'available_slot', 'strict': True, 'description': 'Suggest available appointment slots for a given day.\\n- Understands natural language (\"tomorrow\", \"morning\", \"after 2pm\")\\n- Always fetches fresh availability from DB.\\n- Returns top 3 free slots.\\n- Stores them in ctx.suggested_slots for booking_appointment.', 'parameters': {'properties': {'day': {'type': 'string'}, 'date': {'type': 'string'}, 'time': {'type': 'string'}}, 'required': ['day', 'date', 'time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'booking_appointment', 'strict': True, 'description': 'Create or reschedule an appointment.\\nClean, predictable, AI-friendly logic.\\nUses helper functions for DB safety.', 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'get_date', 'strict': True, 'description': 'Return system date and time.', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'end_call', 'strict': True, 'description': \"Gracefully end the call after confirming there's nothing else needed.\\nDoes not clear Redis; short-term memory expires via TTL.\", 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'update_caller_profile', 'strict': True, 'description': 'Persist caller profile (name/phone) for future calls without disrupting session.\\nIf phone not provided, uses current session phone if available.', 'parameters': {'properties': {'name': {'type': ['string', 'null']}, 'phone': {'type': ['string', 'null']}}, 'required': ['name', 'phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'start_reschedule', 'strict': True, 'description': '', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'confirm_reschedule', 'strict': True, 'description': \"Confirm and perform rescheduling to the selected date/time.\\nUse after start_reschedule + available_slot when the caller says 'yes'.\", 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}]}}"}
{"timestamp": "2025-11-18T16:02:57.651724", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions"}
{"timestamp": "2025-11-18T16:02:57.652768", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=10.0 socket_options=None"}
{"timestamp": "2025-11-18T16:02:57.657704", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481777.657554, 'idle_time': 0.05770429098629393, 'inference_duration_total': 0.03188937291270122, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:57.658079", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481777.657554, 'idle_time': 0.05770429098629393, 'inference_duration_total': 0.03188937291270122, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:57.922646", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x12084aa10>"}
{"timestamp": "2025-11-18T16:02:57.922833", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x117d24050> server_hostname='api.openai.com' timeout=10.0"}
{"timestamp": "2025-11-18T16:02:57.962274", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x12057f790>"}
{"timestamp": "2025-11-18T16:02:57.963024", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:02:57.963387", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-18T16:02:57.963463", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:02:57.963729", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-18T16:02:57.963801", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:02:58.648342", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481778.647735, 'idle_time': 1.0478786659950856, 'inference_duration_total': 0.02948816801654175, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:58.649201", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481778.647735, 'idle_time': 1.0478786659950856, 'inference_duration_total': 0.02948816801654175, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:59.362907", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-18T16:02:59.365523", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.failed exception=CancelledError()"}
{"timestamp": "2025-11-18T16:02:59.365864", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-18T16:02:59.366647", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-18T16:02:59.449539", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763481779.4492428, 'end_of_utterance_delay': 0.5764398574829102, 'transcription_delay': 0.4907798767089844, 'on_user_turn_completed_delay': 3.814697265625e-06, 'last_speaking_time': 1763481778.8723881, 'speech_id': 'speech_41156659e13f', 'metadata': None}}"}
{"timestamp": "2025-11-18T16:02:59.450644", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763481779.4492428, 'end_of_utterance_delay': 0.5764398574829102, 'transcription_delay': 0.4907798767089844, 'on_user_turn_completed_delay': 3.814697265625e-06, 'last_speaking_time': 1763481778.8723881, 'speech_id': 'speech_41156659e13f', 'metadata': None}}"}
{"timestamp": "2025-11-18T16:02:59.463528", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'timeout': Timeout(timeout=10.0), 'files': None, 'idempotency_key': 'stainless-python-retry-d4c53ed8-d114-4b5b-a231-2fd3151f9121', 'json_data': {'messages': [{'role': 'system', 'content': \"\\n        You are **Shifa Clinic\u2019s AI Receptionist**, answering calls in real time.\\n            Your role is to help callers with booking, confirming, or rescheduling appointments.\\n            Speak naturally, briefly, and professionally\u2014like an experienced clinic receptionist.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CORE BEHAVIOR\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            1. **Every call is fresh.**  \\n            Do not rely on previous session context. Use only:\\n            - caller name (if known)\\n            - caller phone (if known)\\n            - information spoken in THIS call\\n            \\n\\n            2. **One task at a time.**  \\n            Every reply must:\\n            - confirm the last thing the caller said\\n            - take one small step forward (ask ONE question)\\n            - be under **8 words**\\n                Always respond in under 8 words. Prioritize immediate tool calls. Do not speak long sentences.\\n\\n            3. **Never expose internal logic.**  \\n            Never say:\\n            - \u201ccalling a tool\u2026\u201d\\n            - \u201csaving memory\u2026\u201d\\n            - \u201cI detected your name\u2026\u201d\\n            - \u201cupdating the appointment\u2026\u201d\\n\\n            4. **Always stay polite, warm, and concise.**\\n            Examples:\\n            - \u201cSure, one moment.\u201d\\n            - \u201cGot it.\u201d\\n            - \u201cLet me check that.\u201d\\n\\n            5. **If caller seems confused, repeat slowly and simply.**\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### TOOL CALLING RULES\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            Use tools to perform actions.  \\n            After calling a tool, speak a short natural confirmation.\\n\\n            **Tools you may call:**\\n            - `save_name(name)`\\n            - `save_phone(phone)`\\n            - `available_slot()`\\n            - `booking_appointment()`\\n            - `get_date()`\\n            - `update_caller_profile(name?, phone?)`\\n            - `start_reschedule()`\\n            - `confirm_reschedule()`\\n            - `end_call()`\\n\\n            Tool usage guidelines:\\n            - Call **save_name** immediately when you hear a name.\\n            - Call **save_phone** when digits are spoken.  \\n            If partial, ask: \u201cCan you repeat that number slowly?\u201d\\n            - Call **available_slot** when caller expresses a time preference (morning, evening, 3pm, etc.)\\n            - Call **get_date** when caller gives a vague date (\u201cnext Monday\u201d).\\n            - Call **booking_appointment** only when BOTH date and time are known.\\n            - Call **update_caller_profile** if caller corrects name or phone.\\n            - After a booking or reschedule completes, ask:  \\n            \u201cAnything else I can help with?\u201d  \\n            If caller says \u201cno\u201d, use `end_call()`.\\n            If the phone number is unclear or has extra/missing digits, ask the caller to repeat it digit by digit.\\n                Do not guess phone numbers.\\n                Always confirm the final number by repeating it back.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESCHEDULE FLOW\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            When the caller says anything like \u201cchange\u201d, \u201cmove\u201d, \u201creschedule\u201d, \u201cshift\u201d:\\n            1. Call **start_reschedule**.\\n            2. Ask for the new date.\\n            3. Once date \u2192 ask for time.\\n            4. When BOTH are known \u2192 call **confirm_reschedule**.\\n            5. After confirmation \u2192 ask:  \\n            \u201cAnything else I can help with?\u201d\\n\\n            Never call `confirm_reschedule` early.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CONVERSATION STYLE\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Speak like a calm clinic receptionist.\\n            - Use short sentences.  \\n            - One question per turn.  \\n            - No filler like \u201cas an AI\u201d.  \\n            - No medical advice.  \\n            - Don't ask for information you already have.\\n\\n            **Good examples:**\\n            - \u201cSure. What day works for you?\u201d\\n            - \u201cGot it. And what time?\u201d\\n            - \u201cPerfect. One moment while I check.\u201d\\n\\n            **Bad examples:**\\n            - \u201cLet me call a tool.\u201d\\n            - \u201cProcessing your request.\u201d\\n            - \u201cI am updating your appointment in the database.\u201d\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESPONSE CONTROL\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Never output long paragraphs.  \\n            - Never output lists or explanations.  \\n            - Keep responses conversational and human.  \\n            - If caller pauses 5 seconds, use `end_call()`.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### ROLE REMINDER\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            You are the first point of contact for Shifa Clinic.  \\n            Be warm. Be efficient. Be human.\\n\\n            Now handle the caller.\\n\\n\"}, {'role': 'assistant', 'content': 'Good evening, Abdul Basit! How can I assist you today?'}, {'role': 'user', 'content': 'I want to book an appointment.'}, {'role': 'assistant', 'content': 'Sure! What date do you have in mind?'}, {'role': 'user', 'content': 'Tomorrow nineteen November.'}, {'role': 'user', 'content': 'Is it available?'}], 'model': 'gpt-4o-mini', 'stream': True, 'stream_options': {'include_usage': True}, 'temperature': 0.7, 'tools': [{'type': 'function', 'function': {'name': 'save_name', 'strict': True, 'description': '', 'parameters': {'properties': {'name': {'type': 'string'}}, 'required': ['name'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'save_phone', 'strict': True, 'description': 'Store validated patient phone in Redis using existing BookingBase validator.', 'parameters': {'properties': {'phone': {'type': 'string'}}, 'required': ['phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'available_slot', 'strict': True, 'description': 'Suggest available appointment slots for a given day.\\n- Understands natural language (\"tomorrow\", \"morning\", \"after 2pm\")\\n- Always fetches fresh availability from DB.\\n- Returns top 3 free slots.\\n- Stores them in ctx.suggested_slots for booking_appointment.', 'parameters': {'properties': {'day': {'type': 'string'}, 'date': {'type': 'string'}, 'time': {'type': 'string'}}, 'required': ['day', 'date', 'time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'booking_appointment', 'strict': True, 'description': 'Create or reschedule an appointment.\\nClean, predictable, AI-friendly logic.\\nUses helper functions for DB safety.', 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'get_date', 'strict': True, 'description': 'Return system date and time.', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'end_call', 'strict': True, 'description': \"Gracefully end the call after confirming there's nothing else needed.\\nDoes not clear Redis; short-term memory expires via TTL.\", 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'update_caller_profile', 'strict': True, 'description': 'Persist caller profile (name/phone) for future calls without disrupting session.\\nIf phone not provided, uses current session phone if available.', 'parameters': {'properties': {'name': {'type': ['string', 'null']}, 'phone': {'type': ['string', 'null']}}, 'required': ['name', 'phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'start_reschedule', 'strict': True, 'description': '', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'confirm_reschedule', 'strict': True, 'description': \"Confirm and perform rescheduling to the selected date/time.\\nUse after start_reschedule + available_slot when the caller says 'yes'.\", 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}]}}"}
{"timestamp": "2025-11-18T16:02:59.466051", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions"}
{"timestamp": "2025-11-18T16:02:59.466541", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=10.0 socket_options=None"}
{"timestamp": "2025-11-18T16:02:59.616407", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x117750c10>"}
{"timestamp": "2025-11-18T16:02:59.617011", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x117d24050> server_hostname='api.openai.com' timeout=10.0"}
{"timestamp": "2025-11-18T16:02:59.698779", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481779.698238, 'idle_time': 0.24943475000327453, 'inference_duration_total': 0.029336497973417863, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:59.699537", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481779.698238, 'idle_time': 0.24943475000327453, 'inference_duration_total': 0.029336497973417863, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:02:59.753871", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x117753b50>"}
{"timestamp": "2025-11-18T16:02:59.754455", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:02:59.755053", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-18T16:02:59.755157", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:02:59.755577", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-18T16:02:59.755641", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:02:59.998456", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '75734689-88ac-44c8-bb6f-91d7989da7b0', 'timestamp': 1763481779.997937, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:02:59.999130", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '75734689-88ac-44c8-bb6f-91d7989da7b0', 'timestamp': 1763481779.997937, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:03:00.695538", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481780.695241, 'idle_time': 1.24643025000114, 'inference_duration_total': 0.035026544937863946, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:00.695868", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481780.695241, 'idle_time': 1.24643025000114, 'inference_duration_total': 0.035026544937863946, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:01.562188", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 18 Nov 2025 16:03:01 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'473'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'824'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9997'), (b'x-ratelimit-remaining-tokens', b'198604'), (b'x-ratelimit-reset-requests', b'25.738s'), (b'x-ratelimit-reset-tokens', b'418ms'), (b'x-request-id', b'req_0f9f2e36683e4caa9b22d401ac9c8970'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a08b20618fa07a7-HKG'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:03:01.563907", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/chat/completions \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-18T16:03:01.564267", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Tue, 18 Nov 2025 16:03:01 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '473', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '824', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9997', 'x-ratelimit-remaining-tokens': '198604', 'x-ratelimit-reset-requests': '25.738s', 'x-ratelimit-reset-tokens': '418ms', 'x-request-id': 'req_0f9f2e36683e4caa9b22d401ac9c8970', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a08b20618fa07a7-HKG', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-18T16:03:01.564644", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_0f9f2e36683e4caa9b22d401ac9c8970"}
{"timestamp": "2025-11-18T16:03:01.565411", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:03:01.678430", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-18T16:03:01.678931", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-18T16:03:01.679795", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdISTahh8QKaO0S09Ko7uJhaiex95', 'timestamp': 1763481781.679395, 'duration': 2.2282853750220966, 'ttft': 2.2110877920058556, 'cancelled': False, 'completion_tokens': 10, 'prompt_tokens': 1372, 'prompt_cached_tokens': 1280, 'total_tokens': 1382, 'tokens_per_second': 4.487755523639263, 'speech_id': 'speech_41156659e13f', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:03:01.680135", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdISTahh8QKaO0S09Ko7uJhaiex95', 'timestamp': 1763481781.679395, 'duration': 2.2282853750220966, 'ttft': 2.2110877920058556, 'cancelled': False, 'completion_tokens': 10, 'prompt_tokens': 1372, 'prompt_cached_tokens': 1280, 'total_tokens': 1382, 'tokens_per_second': 4.487755523639263, 'speech_id': 'speech_41156659e13f', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:03:01.683782", "level": "DEBUG", "logger": "livekit.agents", "message": "executing tool"}
{"timestamp": "2025-11-18T16:03:01.684421", "level": "DEBUG", "logger": "livekit.agents", "message": "tools execution completed"}
{"timestamp": "2025-11-18T16:03:01.684669", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.failed exception=GeneratorExit()"}
{"timestamp": "2025-11-18T16:03:01.685779", "level": "ERROR", "logger": "livekit", "message": "failed to emit event function_tools_executed", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 273, in on_tools_executed\n    \"arguments\": call.args,\n                 ^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/pydantic/main.py\", line 1026, in __getattr__\n    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\nAttributeError: 'FunctionCall' object has no attribute 'args'"}
{"timestamp": "2025-11-18T16:03:01.689933", "level": "ERROR", "logger": "livekit", "message": "failed to emit event function_tools_executed\nTraceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 273, in on_tools_executed\n    \"arguments\": call.args,\n                 ^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/pydantic/main.py\", line 1026, in __getattr__\n    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\nAttributeError: 'FunctionCall' object has no attribute 'args'"}
{"timestamp": "2025-11-18T16:03:01.697688", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'timeout': Timeout(timeout=10.0), 'files': None, 'idempotency_key': 'stainless-python-retry-82062c2d-3ba0-4de2-ad8e-00b806ff1a70', 'json_data': {'messages': [{'role': 'system', 'content': \"\\n        You are **Shifa Clinic\u2019s AI Receptionist**, answering calls in real time.\\n            Your role is to help callers with booking, confirming, or rescheduling appointments.\\n            Speak naturally, briefly, and professionally\u2014like an experienced clinic receptionist.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CORE BEHAVIOR\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            1. **Every call is fresh.**  \\n            Do not rely on previous session context. Use only:\\n            - caller name (if known)\\n            - caller phone (if known)\\n            - information spoken in THIS call\\n            \\n\\n            2. **One task at a time.**  \\n            Every reply must:\\n            - confirm the last thing the caller said\\n            - take one small step forward (ask ONE question)\\n            - be under **8 words**\\n                Always respond in under 8 words. Prioritize immediate tool calls. Do not speak long sentences.\\n\\n            3. **Never expose internal logic.**  \\n            Never say:\\n            - \u201ccalling a tool\u2026\u201d\\n            - \u201csaving memory\u2026\u201d\\n            - \u201cI detected your name\u2026\u201d\\n            - \u201cupdating the appointment\u2026\u201d\\n\\n            4. **Always stay polite, warm, and concise.**\\n            Examples:\\n            - \u201cSure, one moment.\u201d\\n            - \u201cGot it.\u201d\\n            - \u201cLet me check that.\u201d\\n\\n            5. **If caller seems confused, repeat slowly and simply.**\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### TOOL CALLING RULES\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            Use tools to perform actions.  \\n            After calling a tool, speak a short natural confirmation.\\n\\n            **Tools you may call:**\\n            - `save_name(name)`\\n            - `save_phone(phone)`\\n            - `available_slot()`\\n            - `booking_appointment()`\\n            - `get_date()`\\n            - `update_caller_profile(name?, phone?)`\\n            - `start_reschedule()`\\n            - `confirm_reschedule()`\\n            - `end_call()`\\n\\n            Tool usage guidelines:\\n            - Call **save_name** immediately when you hear a name.\\n            - Call **save_phone** when digits are spoken.  \\n            If partial, ask: \u201cCan you repeat that number slowly?\u201d\\n            - Call **available_slot** when caller expresses a time preference (morning, evening, 3pm, etc.)\\n            - Call **get_date** when caller gives a vague date (\u201cnext Monday\u201d).\\n            - Call **booking_appointment** only when BOTH date and time are known.\\n            - Call **update_caller_profile** if caller corrects name or phone.\\n            - After a booking or reschedule completes, ask:  \\n            \u201cAnything else I can help with?\u201d  \\n            If caller says \u201cno\u201d, use `end_call()`.\\n            If the phone number is unclear or has extra/missing digits, ask the caller to repeat it digit by digit.\\n                Do not guess phone numbers.\\n                Always confirm the final number by repeating it back.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESCHEDULE FLOW\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            When the caller says anything like \u201cchange\u201d, \u201cmove\u201d, \u201creschedule\u201d, \u201cshift\u201d:\\n            1. Call **start_reschedule**.\\n            2. Ask for the new date.\\n            3. Once date \u2192 ask for time.\\n            4. When BOTH are known \u2192 call **confirm_reschedule**.\\n            5. After confirmation \u2192 ask:  \\n            \u201cAnything else I can help with?\u201d\\n\\n            Never call `confirm_reschedule` early.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CONVERSATION STYLE\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Speak like a calm clinic receptionist.\\n            - Use short sentences.  \\n            - One question per turn.  \\n            - No filler like \u201cas an AI\u201d.  \\n            - No medical advice.  \\n            - Don't ask for information you already have.\\n\\n            **Good examples:**\\n            - \u201cSure. What day works for you?\u201d\\n            - \u201cGot it. And what time?\u201d\\n            - \u201cPerfect. One moment while I check.\u201d\\n\\n            **Bad examples:**\\n            - \u201cLet me call a tool.\u201d\\n            - \u201cProcessing your request.\u201d\\n            - \u201cI am updating your appointment in the database.\u201d\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESPONSE CONTROL\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Never output long paragraphs.  \\n            - Never output lists or explanations.  \\n            - Keep responses conversational and human.  \\n            - If caller pauses 5 seconds, use `end_call()`.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### ROLE REMINDER\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            You are the first point of contact for Shifa Clinic.  \\n            Be warm. Be efficient. Be human.\\n\\n            Now handle the caller.\\n\\n\"}, {'role': 'assistant', 'content': 'Good evening, Abdul Basit! How can I assist you today?'}, {'role': 'user', 'content': 'I want to book an appointment.'}, {'role': 'assistant', 'content': 'Sure! What date do you have in mind?'}, {'role': 'user', 'content': 'Tomorrow nineteen November.'}, {'role': 'user', 'content': 'Is it available?'}, {'role': 'assistant', 'tool_calls': [{'id': 'call_fOYDVGzDwv7NMC2brdVQggtE', 'type': 'function', 'function': {'name': 'get_date', 'arguments': '{}'}}]}, {'role': 'tool', 'tool_call_id': 'call_fOYDVGzDwv7NMC2brdVQggtE', 'content': \"Today's date is Tuesday, November 18, 2025 09:03 PM\"}], 'model': 'gpt-4o-mini', 'stream': True, 'stream_options': {'include_usage': True}, 'temperature': 0.7, 'tool_choice': 'auto', 'tools': [{'type': 'function', 'function': {'name': 'save_name', 'strict': True, 'description': '', 'parameters': {'properties': {'name': {'type': 'string'}}, 'required': ['name'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'save_phone', 'strict': True, 'description': 'Store validated patient phone in Redis using existing BookingBase validator.', 'parameters': {'properties': {'phone': {'type': 'string'}}, 'required': ['phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'available_slot', 'strict': True, 'description': 'Suggest available appointment slots for a given day.\\n- Understands natural language (\"tomorrow\", \"morning\", \"after 2pm\")\\n- Always fetches fresh availability from DB.\\n- Returns top 3 free slots.\\n- Stores them in ctx.suggested_slots for booking_appointment.', 'parameters': {'properties': {'day': {'type': 'string'}, 'date': {'type': 'string'}, 'time': {'type': 'string'}}, 'required': ['day', 'date', 'time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'booking_appointment', 'strict': True, 'description': 'Create or reschedule an appointment.\\nClean, predictable, AI-friendly logic.\\nUses helper functions for DB safety.', 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'get_date', 'strict': True, 'description': 'Return system date and time.', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'end_call', 'strict': True, 'description': \"Gracefully end the call after confirming there's nothing else needed.\\nDoes not clear Redis; short-term memory expires via TTL.\", 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'update_caller_profile', 'strict': True, 'description': 'Persist caller profile (name/phone) for future calls without disrupting session.\\nIf phone not provided, uses current session phone if available.', 'parameters': {'properties': {'name': {'type': ['string', 'null']}, 'phone': {'type': ['string', 'null']}}, 'required': ['name', 'phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'start_reschedule', 'strict': True, 'description': '', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'confirm_reschedule', 'strict': True, 'description': \"Confirm and perform rescheduling to the selected date/time.\\nUse after start_reschedule + available_slot when the caller says 'yes'.\", 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}]}}"}
{"timestamp": "2025-11-18T16:03:01.698826", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions"}
{"timestamp": "2025-11-18T16:03:01.699119", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=10.0 socket_options=None"}
{"timestamp": "2025-11-18T16:03:01.746407", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481781.7462358, 'idle_time': 2.2974182500038296, 'inference_duration_total': 0.02384366700425744, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:01.746680", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481781.7462358, 'idle_time': 2.2974182500038296, 'inference_duration_total': 0.02384366700425744, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:01.830598", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x117752010>"}
{"timestamp": "2025-11-18T16:03:01.830784", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x117d24050> server_hostname='api.openai.com' timeout=10.0"}
{"timestamp": "2025-11-18T16:03:01.981843", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x116c3c990>"}
{"timestamp": "2025-11-18T16:03:01.982831", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:03:01.983554", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-18T16:03:01.983703", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:03:01.984106", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-18T16:03:01.984225", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:03:02.748027", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481782.7475488, 'idle_time': 3.298725041997386, 'inference_duration_total': 0.030760828871279955, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:02.748798", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481782.7475488, 'idle_time': 3.298725041997386, 'inference_duration_total': 0.030760828871279955, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:03.010666", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 18 Nov 2025 16:03:03 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'612'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'636'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9996'), (b'x-ratelimit-remaining-tokens', b'198590'), (b'x-ratelimit-reset-requests', b'32.921s'), (b'x-ratelimit-reset-tokens', b'423ms'), (b'x-request-id', b'req_dbb02bb9e8c64fef8d6a7fb771acfb7d'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a08b2140f10096c-HKG'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:03:03.011786", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/chat/completions \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-18T16:03:03.012012", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Tue, 18 Nov 2025 16:03:03 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '612', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '636', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9996', 'x-ratelimit-remaining-tokens': '198590', 'x-ratelimit-reset-requests': '32.921s', 'x-ratelimit-reset-tokens': '423ms', 'x-request-id': 'req_dbb02bb9e8c64fef8d6a7fb771acfb7d', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a08b2140f10096c-HKG', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-18T16:03:03.012343", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_dbb02bb9e8c64fef8d6a7fb771acfb7d"}
{"timestamp": "2025-11-18T16:03:03.013023", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:03:03.468732", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-18T16:03:03.469238", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-18T16:03:03.470055", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdISUpgY8BZmcSK2JOZRISb1P5Uqe', 'timestamp': 1763481783.469697, 'duration': 1.7791876249830239, 'ttft': 1.7676956669893116, 'cancelled': False, 'completion_tokens': 29, 'prompt_tokens': 1407, 'prompt_cached_tokens': 1280, 'total_tokens': 1436, 'tokens_per_second': 16.299573801429013, 'speech_id': 'speech_41156659e13f', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:03:03.470318", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdISUpgY8BZmcSK2JOZRISb1P5Uqe', 'timestamp': 1763481783.469697, 'duration': 1.7791876249830239, 'ttft': 1.7676956669893116, 'cancelled': False, 'completion_tokens': 29, 'prompt_tokens': 1407, 'prompt_cached_tokens': 1280, 'total_tokens': 1436, 'tokens_per_second': 16.299573801429013, 'speech_id': 'speech_41156659e13f', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:03:03.473171", "level": "DEBUG", "logger": "livekit.agents", "message": "executing tool"}
{"timestamp": "2025-11-18T16:03:03.475314", "level": "INFO", "logger": "voice_agent.tools", "message": "[available_slot] \u25b6 Input: day='tomorrow', date='November 19, 2025', time=''"}
{"timestamp": "2025-11-18T16:03:03.475536", "level": "INFO", "logger": "voice_agent.tools", "message": "[available_slot] \u25b6 Input: day='tomorrow', date='November 19, 2025', time=''"}
{"timestamp": "2025-11-18T16:03:03.495734", "level": "INFO", "logger": "src.services.context_manager", "message": "[Redis] Saved MERGED context for sip_+17194515279: BookingContext(name=None, phone=None, date='2025-11-19', time=None, suggested_slots=None, stage='start', status='Pending', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, created_at='2025-11-18T16:03:03.475260')"}
{"timestamp": "2025-11-18T16:03:03.507426", "level": "INFO", "logger": "src.services.context_manager", "message": "[Redis] Saved MERGED context for sip_+17194515279: BookingContext(name=None, phone=None, date='2025-11-19', time=None, suggested_slots=None, stage='start', status='Pending', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, created_at='2025-11-18T16:03:03.475260')"}
{"timestamp": "2025-11-18T16:03:03.510923", "level": "INFO", "logger": "voice_agent.tools", "message": "[available_slot] Booked slots for 2025-11-19: []"}
{"timestamp": "2025-11-18T16:03:03.511168", "level": "INFO", "logger": "voice_agent.tools", "message": "[available_slot] Booked slots for 2025-11-19: []"}
{"timestamp": "2025-11-18T16:03:03.512061", "level": "INFO", "logger": "src.services.context_manager", "message": "[Redis] Saved MERGED context for sip_+17194515279: BookingContext(name=None, phone=None, date='2025-11-19', time=None, suggested_slots=['9:00 AM', '9:30 AM', '10:00 AM'], stage='start', status='Pending', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, created_at='2025-11-18T16:03:03.475260')"}
{"timestamp": "2025-11-18T16:03:03.512160", "level": "INFO", "logger": "voice_agent.tools", "message": "[available_slot] Final suggestions: ['9:00 AM', '9:30 AM', '10:00 AM']"}
{"timestamp": "2025-11-18T16:03:03.512233", "level": "INFO", "logger": "src.services.context_manager", "message": "[Redis] Saved MERGED context for sip_+17194515279: BookingContext(name=None, phone=None, date='2025-11-19', time=None, suggested_slots=['9:00 AM', '9:30 AM', '10:00 AM'], stage='start', status='Pending', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, created_at='2025-11-18T16:03:03.475260')"}
{"timestamp": "2025-11-18T16:03:03.512315", "level": "INFO", "logger": "voice_agent.tools", "message": "[available_slot] Final suggestions: ['9:00 AM', '9:30 AM', '10:00 AM']"}
{"timestamp": "2025-11-18T16:03:03.512625", "level": "DEBUG", "logger": "livekit.agents", "message": "tools execution completed"}
{"timestamp": "2025-11-18T16:03:03.513090", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.failed exception=GeneratorExit()"}
{"timestamp": "2025-11-18T16:03:03.515051", "level": "ERROR", "logger": "livekit", "message": "failed to emit event function_tools_executed", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 273, in on_tools_executed\n    \"arguments\": call.args,\n                 ^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/pydantic/main.py\", line 1026, in __getattr__\n    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\nAttributeError: 'FunctionCall' object has no attribute 'args'"}
{"timestamp": "2025-11-18T16:03:03.515845", "level": "ERROR", "logger": "livekit", "message": "failed to emit event function_tools_executed\nTraceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 273, in on_tools_executed\n    \"arguments\": call.args,\n                 ^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/pydantic/main.py\", line 1026, in __getattr__\n    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\nAttributeError: 'FunctionCall' object has no attribute 'args'"}
{"timestamp": "2025-11-18T16:03:03.523937", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'timeout': Timeout(timeout=10.0), 'files': None, 'idempotency_key': 'stainless-python-retry-668c47fd-6025-4498-a025-5c31aa761b73', 'json_data': {'messages': [{'role': 'system', 'content': \"\\n        You are **Shifa Clinic\u2019s AI Receptionist**, answering calls in real time.\\n            Your role is to help callers with booking, confirming, or rescheduling appointments.\\n            Speak naturally, briefly, and professionally\u2014like an experienced clinic receptionist.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CORE BEHAVIOR\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            1. **Every call is fresh.**  \\n            Do not rely on previous session context. Use only:\\n            - caller name (if known)\\n            - caller phone (if known)\\n            - information spoken in THIS call\\n            \\n\\n            2. **One task at a time.**  \\n            Every reply must:\\n            - confirm the last thing the caller said\\n            - take one small step forward (ask ONE question)\\n            - be under **8 words**\\n                Always respond in under 8 words. Prioritize immediate tool calls. Do not speak long sentences.\\n\\n            3. **Never expose internal logic.**  \\n            Never say:\\n            - \u201ccalling a tool\u2026\u201d\\n            - \u201csaving memory\u2026\u201d\\n            - \u201cI detected your name\u2026\u201d\\n            - \u201cupdating the appointment\u2026\u201d\\n\\n            4. **Always stay polite, warm, and concise.**\\n            Examples:\\n            - \u201cSure, one moment.\u201d\\n            - \u201cGot it.\u201d\\n            - \u201cLet me check that.\u201d\\n\\n            5. **If caller seems confused, repeat slowly and simply.**\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### TOOL CALLING RULES\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            Use tools to perform actions.  \\n            After calling a tool, speak a short natural confirmation.\\n\\n            **Tools you may call:**\\n            - `save_name(name)`\\n            - `save_phone(phone)`\\n            - `available_slot()`\\n            - `booking_appointment()`\\n            - `get_date()`\\n            - `update_caller_profile(name?, phone?)`\\n            - `start_reschedule()`\\n            - `confirm_reschedule()`\\n            - `end_call()`\\n\\n            Tool usage guidelines:\\n            - Call **save_name** immediately when you hear a name.\\n            - Call **save_phone** when digits are spoken.  \\n            If partial, ask: \u201cCan you repeat that number slowly?\u201d\\n            - Call **available_slot** when caller expresses a time preference (morning, evening, 3pm, etc.)\\n            - Call **get_date** when caller gives a vague date (\u201cnext Monday\u201d).\\n            - Call **booking_appointment** only when BOTH date and time are known.\\n            - Call **update_caller_profile** if caller corrects name or phone.\\n            - After a booking or reschedule completes, ask:  \\n            \u201cAnything else I can help with?\u201d  \\n            If caller says \u201cno\u201d, use `end_call()`.\\n            If the phone number is unclear or has extra/missing digits, ask the caller to repeat it digit by digit.\\n                Do not guess phone numbers.\\n                Always confirm the final number by repeating it back.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESCHEDULE FLOW\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            When the caller says anything like \u201cchange\u201d, \u201cmove\u201d, \u201creschedule\u201d, \u201cshift\u201d:\\n            1. Call **start_reschedule**.\\n            2. Ask for the new date.\\n            3. Once date \u2192 ask for time.\\n            4. When BOTH are known \u2192 call **confirm_reschedule**.\\n            5. After confirmation \u2192 ask:  \\n            \u201cAnything else I can help with?\u201d\\n\\n            Never call `confirm_reschedule` early.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CONVERSATION STYLE\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Speak like a calm clinic receptionist.\\n            - Use short sentences.  \\n            - One question per turn.  \\n            - No filler like \u201cas an AI\u201d.  \\n            - No medical advice.  \\n            - Don't ask for information you already have.\\n\\n            **Good examples:**\\n            - \u201cSure. What day works for you?\u201d\\n            - \u201cGot it. And what time?\u201d\\n            - \u201cPerfect. One moment while I check.\u201d\\n\\n            **Bad examples:**\\n            - \u201cLet me call a tool.\u201d\\n            - \u201cProcessing your request.\u201d\\n            - \u201cI am updating your appointment in the database.\u201d\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESPONSE CONTROL\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Never output long paragraphs.  \\n            - Never output lists or explanations.  \\n            - Keep responses conversational and human.  \\n            - If caller pauses 5 seconds, use `end_call()`.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### ROLE REMINDER\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            You are the first point of contact for Shifa Clinic.  \\n            Be warm. Be efficient. Be human.\\n\\n            Now handle the caller.\\n\\n\"}, {'role': 'assistant', 'content': 'Good evening, Abdul Basit! How can I assist you today?'}, {'role': 'user', 'content': 'I want to book an appointment.'}, {'role': 'assistant', 'content': 'Sure! What date do you have in mind?'}, {'role': 'user', 'content': 'Tomorrow nineteen November.'}, {'role': 'user', 'content': 'Is it available?'}, {'role': 'assistant', 'tool_calls': [{'id': 'call_fOYDVGzDwv7NMC2brdVQggtE', 'type': 'function', 'function': {'name': 'get_date', 'arguments': '{}'}}]}, {'role': 'tool', 'tool_call_id': 'call_fOYDVGzDwv7NMC2brdVQggtE', 'content': \"Today's date is Tuesday, November 18, 2025 09:03 PM\"}, {'role': 'assistant', 'tool_calls': [{'id': 'call_n6TcHLeUQBlSu3U1xlhyLPST', 'type': 'function', 'function': {'name': 'available_slot', 'arguments': '{\"day\":\"tomorrow\",\"date\":\"November 19, 2025\",\"time\":\"\"}'}}]}, {'role': 'tool', 'tool_call_id': 'call_n6TcHLeUQBlSu3U1xlhyLPST', 'content': 'On Wednesday, November 19, I have 9:00 AM, 9:30 AM, or 10:00 AM available. Which time works best for you?'}], 'model': 'gpt-4o-mini', 'stream': True, 'stream_options': {'include_usage': True}, 'temperature': 0.7, 'tool_choice': 'auto', 'tools': [{'type': 'function', 'function': {'name': 'save_name', 'strict': True, 'description': '', 'parameters': {'properties': {'name': {'type': 'string'}}, 'required': ['name'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'save_phone', 'strict': True, 'description': 'Store validated patient phone in Redis using existing BookingBase validator.', 'parameters': {'properties': {'phone': {'type': 'string'}}, 'required': ['phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'available_slot', 'strict': True, 'description': 'Suggest available appointment slots for a given day.\\n- Understands natural language (\"tomorrow\", \"morning\", \"after 2pm\")\\n- Always fetches fresh availability from DB.\\n- Returns top 3 free slots.\\n- Stores them in ctx.suggested_slots for booking_appointment.', 'parameters': {'properties': {'day': {'type': 'string'}, 'date': {'type': 'string'}, 'time': {'type': 'string'}}, 'required': ['day', 'date', 'time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'booking_appointment', 'strict': True, 'description': 'Create or reschedule an appointment.\\nClean, predictable, AI-friendly logic.\\nUses helper functions for DB safety.', 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'get_date', 'strict': True, 'description': 'Return system date and time.', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'end_call', 'strict': True, 'description': \"Gracefully end the call after confirming there's nothing else needed.\\nDoes not clear Redis; short-term memory expires via TTL.\", 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'update_caller_profile', 'strict': True, 'description': 'Persist caller profile (name/phone) for future calls without disrupting session.\\nIf phone not provided, uses current session phone if available.', 'parameters': {'properties': {'name': {'type': ['string', 'null']}, 'phone': {'type': ['string', 'null']}}, 'required': ['name', 'phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'start_reschedule', 'strict': True, 'description': '', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'confirm_reschedule', 'strict': True, 'description': \"Confirm and perform rescheduling to the selected date/time.\\nUse after start_reschedule + available_slot when the caller says 'yes'.\", 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}]}}"}
{"timestamp": "2025-11-18T16:03:03.525245", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions"}
{"timestamp": "2025-11-18T16:03:03.525630", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=10.0 socket_options=None"}
{"timestamp": "2025-11-18T16:03:03.662567", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x117d73f50>"}
{"timestamp": "2025-11-18T16:03:03.662718", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x117d24050> server_hostname='api.openai.com' timeout=10.0"}
{"timestamp": "2025-11-18T16:03:03.796678", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481783.796326, 'idle_time': 4.347495082998648, 'inference_duration_total': 0.0397060829855036, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:03.797086", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481783.796326, 'idle_time': 4.347495082998648, 'inference_duration_total': 0.0397060829855036, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:03.816058", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1208377d0>"}
{"timestamp": "2025-11-18T16:03:03.816405", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:03:03.816807", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-18T16:03:03.816899", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:03:03.817249", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-18T16:03:03.817348", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:03:04.801427", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481784.800144, 'idle_time': 5.351306041993666, 'inference_duration_total': 0.04724187694955617, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:04.802731", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481784.800144, 'idle_time': 5.351306041993666, 'inference_duration_total': 0.04724187694955617, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:05.047477", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '75734689-88ac-44c8-bb6f-91d7989da7b0', 'timestamp': 1763481785.0471702, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:03:05.048520", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '75734689-88ac-44c8-bb6f-91d7989da7b0', 'timestamp': 1763481785.0471702, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:03:05.375749", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 18 Nov 2025 16:03:05 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'388'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'578'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9995'), (b'x-ratelimit-remaining-tokens', b'198561'), (b'x-ratelimit-reset-requests', b'38.972s'), (b'x-ratelimit-reset-tokens', b'431ms'), (b'x-request-id', b'req_3511e3170dee4fa8b6e7a1885a8829d9'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a08b21f88f25167-HKG'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:03:05.376659", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/chat/completions \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-18T16:03:05.376909", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Tue, 18 Nov 2025 16:03:05 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '388', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '578', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9995', 'x-ratelimit-remaining-tokens': '198561', 'x-ratelimit-reset-requests': '38.972s', 'x-ratelimit-reset-tokens': '431ms', 'x-request-id': 'req_3511e3170dee4fa8b6e7a1885a8829d9', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a08b21f88f25167-HKG', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-18T16:03:05.377124", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_3511e3170dee4fa8b6e7a1885a8829d9"}
{"timestamp": "2025-11-18T16:03:05.377587", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:03:05.847112", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481785.8467898, 'idle_time': 6.397944583004573, 'inference_duration_total': 0.02287437507766299, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:05.847600", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481785.8467898, 'idle_time': 6.397944583004573, 'inference_duration_total': 0.02287437507766299, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:05.977631", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream', 'X-Stainless-Raw-Response': 'stream'}, 'timeout': Timeout(connect=10.0, read=30, write=30, pool=30), 'files': None, 'idempotency_key': 'stainless-python-retry-99ed18b5-142c-46ab-9ec7-55c92b6df3a3', 'json_data': {'input': 'We have 9:00 AM, 9:30 AM, or 10:00 AM.', 'model': 'gpt-4o-mini-tts', 'voice': 'alloy', 'response_format': 'mp3', 'speed': 1.0}}"}
{"timestamp": "2025-11-18T16:03:05.978242", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/audio/speech"}
{"timestamp": "2025-11-18T16:03:05.978848", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:03:05.979221", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-18T16:03:05.979326", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:03:05.979534", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-18T16:03:05.979615", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:03:06.569396", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-18T16:03:06.569932", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-18T16:03:06.570703", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdISXs3Ge21bfCJefllG9mqpJyogA', 'timestamp': 1763481786.5704389, 'duration': 3.054020417010179, 'ttft': 2.0754262919945177, 'cancelled': False, 'completion_tokens': 28, 'prompt_tokens': 1480, 'prompt_cached_tokens': 1408, 'total_tokens': 1508, 'tokens_per_second': 9.168242571020992, 'speech_id': 'speech_41156659e13f', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:03:06.571006", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdISXs3Ge21bfCJefllG9mqpJyogA', 'timestamp': 1763481786.5704389, 'duration': 3.054020417010179, 'ttft': 2.0754262919945177, 'cancelled': False, 'completion_tokens': 28, 'prompt_tokens': 1480, 'prompt_cached_tokens': 1408, 'total_tokens': 1508, 'tokens_per_second': 9.168242571020992, 'speech_id': 'speech_41156659e13f', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:03:06.571637", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.failed exception=GeneratorExit()"}
{"timestamp": "2025-11-18T16:03:06.849606", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481786.8488052, 'idle_time': 7.399953167012427, 'inference_duration_total': 0.025755416107131168, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:06.850478", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481786.8488052, 'idle_time': 7.399953167012427, 'inference_duration_total': 0.025755416107131168, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:07.896706", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481787.896489, 'idle_time': 8.447630375012523, 'inference_duration_total': 0.02215775111108087, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:07.897105", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481787.896489, 'idle_time': 8.447630375012523, 'inference_duration_total': 0.02215775111108087, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:08.590358", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 18 Nov 2025 16:03:08 GMT'), (b'Content-Type', b'audio/mpeg'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'749'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'1022'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9994'), (b'x-ratelimit-remaining-tokens', b'199991'), (b'x-ratelimit-reset-requests', b'44.942s'), (b'x-ratelimit-reset-tokens', b'2ms'), (b'x-request-id', b'req_00b73bf4012f48e29bed138367c2dfc2'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a08b22d08588622-HKG'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:03:08.591030", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/audio/speech \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-18T16:03:08.591244", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/audio/speech \"200 OK\" Headers({'date': 'Tue, 18 Nov 2025 16:03:08 GMT', 'content-type': 'audio/mpeg', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '749', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '1022', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9994', 'x-ratelimit-remaining-tokens': '199991', 'x-ratelimit-reset-requests': '44.942s', 'x-ratelimit-reset-tokens': '2ms', 'x-request-id': 'req_00b73bf4012f48e29bed138367c2dfc2', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a08b22d08588622-HKG', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-18T16:03:08.591629", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_00b73bf4012f48e29bed138367c2dfc2"}
{"timestamp": "2025-11-18T16:03:08.591933", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:03:08.896890", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481788.896739, 'idle_time': 9.447873416997027, 'inference_duration_total': 0.021338375081541017, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:08.897147", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481788.896739, 'idle_time': 9.447873416997027, 'inference_duration_total': 0.021338375081541017, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:09.060742", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete"}
{"timestamp": "2025-11-18T16:03:09.060922", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-18T16:03:09.061081", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-18T16:03:09.080083", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_00b73bf4012f48e29bed138367c2dfc2', 'timestamp': 1763481789.079731, 'ttfb': 2.8293873330112547, 'duration': 3.1027622080000583, 'audio_duration': 4.738000000000001, 'cancelled': False, 'characters_count': 38, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_41156659e13f', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:03:09.080402", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_00b73bf4012f48e29bed138367c2dfc2', 'timestamp': 1763481789.079731, 'ttfb': 2.8293873330112547, 'duration': 3.1027622080000583, 'audio_duration': 4.738000000000001, 'cancelled': False, 'characters_count': 38, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_41156659e13f', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:03:09.080876", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream', 'X-Stainless-Raw-Response': 'stream'}, 'timeout': Timeout(connect=10.0, read=30, write=30, pool=30), 'files': None, 'idempotency_key': 'stainless-python-retry-eead9c06-c62c-4647-913f-776bf0b9bb21', 'json_data': {'input': 'Which time works for you?', 'model': 'gpt-4o-mini-tts', 'voice': 'alloy', 'response_format': 'mp3', 'speed': 1.0}}"}
{"timestamp": "2025-11-18T16:03:09.081402", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/audio/speech"}
{"timestamp": "2025-11-18T16:03:09.086192", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:03:09.086515", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-18T16:03:09.086588", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:03:09.086804", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-18T16:03:09.086874", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:03:09.947168", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481789.946301, 'idle_time': 10.497427666996373, 'inference_duration_total': 0.026393873122287914, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:09.948136", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481789.946301, 'idle_time': 10.497427666996373, 'inference_duration_total': 0.026393873122287914, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:10.095972", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '75734689-88ac-44c8-bb6f-91d7989da7b0', 'timestamp': 1763481790.0957382, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:03:10.096350", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '75734689-88ac-44c8-bb6f-91d7989da7b0', 'timestamp': 1763481790.0957382, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:03:10.946620", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481790.9463098, 'idle_time': 11.497430167015409, 'inference_duration_total': 0.020807378023164347, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:10.947052", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481790.9463098, 'idle_time': 11.497430167015409, 'inference_duration_total': 0.020807378023164347, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:10.994721", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 18 Nov 2025 16:03:10 GMT'), (b'Content-Type', b'audio/mpeg'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'628'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'782'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9994'), (b'x-ratelimit-remaining-tokens', b'199994'), (b'x-ratelimit-reset-requests', b'51.176s'), (b'x-ratelimit-reset-tokens', b'1ms'), (b'x-request-id', b'req_ff6aab905c794c95a799c6fa0f7c57bb'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a08b2407cbc8622-HKG'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:03:10.998106", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/audio/speech \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-18T16:03:10.998533", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/audio/speech \"200 OK\" Headers({'date': 'Tue, 18 Nov 2025 16:03:10 GMT', 'content-type': 'audio/mpeg', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '628', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '782', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9994', 'x-ratelimit-remaining-tokens': '199994', 'x-ratelimit-reset-requests': '51.176s', 'x-ratelimit-reset-tokens': '1ms', 'x-request-id': 'req_ff6aab905c794c95a799c6fa0f7c57bb', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a08b2407cbc8622-HKG', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-18T16:03:10.998855", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_ff6aab905c794c95a799c6fa0f7c57bb"}
{"timestamp": "2025-11-18T16:03:10.999705", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:03:11.786276", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:03:11.984719", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:03:11.996983", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481791.9965281, 'idle_time': 12.547640667005908, 'inference_duration_total': 0.017389916843967512, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:11.997440", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481791.9965281, 'idle_time': 12.547640667005908, 'inference_duration_total': 0.017389916843967512, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:12.439631", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete"}
{"timestamp": "2025-11-18T16:03:12.440105", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-18T16:03:12.440515", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-18T16:03:12.448664", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_ff6aab905c794c95a799c6fa0f7c57bb', 'timestamp': 1763481792.4483259, 'ttfb': 1.9240276670025196, 'duration': 3.367762625013711, 'audio_duration': 1.522, 'cancelled': False, 'characters_count': 25, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_41156659e13f', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:03:12.449001", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_ff6aab905c794c95a799c6fa0f7c57bb', 'timestamp': 1763481792.4483259, 'ttfb': 1.9240276670025196, 'duration': 3.367762625013711, 'audio_duration': 1.522, 'cancelled': False, 'characters_count': 25, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_41156659e13f', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:03:12.995915", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481792.995585, 'idle_time': 13.546691833005752, 'inference_duration_total': 0.024110620928695425, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:12.996474", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481792.995585, 'idle_time': 13.546691833005752, 'inference_duration_total': 0.024110620928695425, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:14.046864", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481794.046323, 'idle_time': 14.597422833001474, 'inference_duration_total': 0.01917812303872779, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:14.047351", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481794.046323, 'idle_time': 14.597422833001474, 'inference_duration_total': 0.01917812303872779, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:15.047220", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481795.046737, 'idle_time': 15.597829750011442, 'inference_duration_total': 0.022288045060122386, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:15.047788", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481795.046737, 'idle_time': 15.597829750011442, 'inference_duration_total': 0.022288045060122386, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:15.096360", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '75734689-88ac-44c8-bb6f-91d7989da7b0', 'timestamp': 1763481795.096069, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:03:15.096907", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '75734689-88ac-44c8-bb6f-91d7989da7b0', 'timestamp': 1763481795.096069, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:03:16.097045", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481796.096738, 'idle_time': 16.647823957988294, 'inference_duration_total': 0.02106737092253752, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:16.098036", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481796.096738, 'idle_time': 16.647823957988294, 'inference_duration_total': 0.02106737092253752, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:17.097087", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481797.096731, 'idle_time': 17.647810166992713, 'inference_duration_total': 0.022379373927833512, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:17.097700", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481797.096731, 'idle_time': 17.647810166992713, 'inference_duration_total': 0.022379373927833512, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:18.097541", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481798.0972722, 'idle_time': 18.648344332992565, 'inference_duration_total': 0.02147612499538809, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:18.097965", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481798.0972722, 'idle_time': 18.648344332992565, 'inference_duration_total': 0.02147612499538809, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:19.147146", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481799.146776, 'idle_time': 19.697841207991587, 'inference_duration_total': 0.02351291588274762, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:19.147777", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481799.146776, 'idle_time': 19.697841207991587, 'inference_duration_total': 0.02351291588274762, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:20.096531", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '75734689-88ac-44c8-bb6f-91d7989da7b0', 'timestamp': 1763481800.096077, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:03:20.097319", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '75734689-88ac-44c8-bb6f-91d7989da7b0', 'timestamp': 1763481800.096077, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:03:20.147426", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481800.1471848, 'idle_time': 20.698242999991635, 'inference_duration_total': 0.022762252105167136, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:20.148057", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481800.1471848, 'idle_time': 20.698242999991635, 'inference_duration_total': 0.022762252105167136, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:21.196859", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481801.196435, 'idle_time': 21.74748608301161, 'inference_duration_total': 0.02286533298320137, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:21.197268", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481801.196435, 'idle_time': 21.74748608301161, 'inference_duration_total': 0.02286533298320137, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:21.408427", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-18T16:03:22.100923", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763481802.0999591, 'end_of_utterance_delay': 0.57676100730896, 'transcription_delay': 0.0, 'on_user_turn_completed_delay': 2.1457672119140625e-06, 'last_speaking_time': 1763481801.522407, 'speech_id': 'speech_a0b767e460bb', 'metadata': None}}"}
{"timestamp": "2025-11-18T16:03:22.101847", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763481802.0999591, 'end_of_utterance_delay': 0.57676100730896, 'transcription_delay': 0.0, 'on_user_turn_completed_delay': 2.1457672119140625e-06, 'last_speaking_time': 1763481801.522407, 'speech_id': 'speech_a0b767e460bb', 'metadata': None}}"}
{"timestamp": "2025-11-18T16:03:22.116832", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'timeout': Timeout(timeout=10.0), 'files': None, 'idempotency_key': 'stainless-python-retry-c5c62bd6-3905-4f7c-9712-a685feb4f0d6', 'json_data': {'messages': [{'role': 'system', 'content': \"\\n        You are **Shifa Clinic\u2019s AI Receptionist**, answering calls in real time.\\n            Your role is to help callers with booking, confirming, or rescheduling appointments.\\n            Speak naturally, briefly, and professionally\u2014like an experienced clinic receptionist.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CORE BEHAVIOR\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            1. **Every call is fresh.**  \\n            Do not rely on previous session context. Use only:\\n            - caller name (if known)\\n            - caller phone (if known)\\n            - information spoken in THIS call\\n            \\n\\n            2. **One task at a time.**  \\n            Every reply must:\\n            - confirm the last thing the caller said\\n            - take one small step forward (ask ONE question)\\n            - be under **8 words**\\n                Always respond in under 8 words. Prioritize immediate tool calls. Do not speak long sentences.\\n\\n            3. **Never expose internal logic.**  \\n            Never say:\\n            - \u201ccalling a tool\u2026\u201d\\n            - \u201csaving memory\u2026\u201d\\n            - \u201cI detected your name\u2026\u201d\\n            - \u201cupdating the appointment\u2026\u201d\\n\\n            4. **Always stay polite, warm, and concise.**\\n            Examples:\\n            - \u201cSure, one moment.\u201d\\n            - \u201cGot it.\u201d\\n            - \u201cLet me check that.\u201d\\n\\n            5. **If caller seems confused, repeat slowly and simply.**\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### TOOL CALLING RULES\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            Use tools to perform actions.  \\n            After calling a tool, speak a short natural confirmation.\\n\\n            **Tools you may call:**\\n            - `save_name(name)`\\n            - `save_phone(phone)`\\n            - `available_slot()`\\n            - `booking_appointment()`\\n            - `get_date()`\\n            - `update_caller_profile(name?, phone?)`\\n            - `start_reschedule()`\\n            - `confirm_reschedule()`\\n            - `end_call()`\\n\\n            Tool usage guidelines:\\n            - Call **save_name** immediately when you hear a name.\\n            - Call **save_phone** when digits are spoken.  \\n            If partial, ask: \u201cCan you repeat that number slowly?\u201d\\n            - Call **available_slot** when caller expresses a time preference (morning, evening, 3pm, etc.)\\n            - Call **get_date** when caller gives a vague date (\u201cnext Monday\u201d).\\n            - Call **booking_appointment** only when BOTH date and time are known.\\n            - Call **update_caller_profile** if caller corrects name or phone.\\n            - After a booking or reschedule completes, ask:  \\n            \u201cAnything else I can help with?\u201d  \\n            If caller says \u201cno\u201d, use `end_call()`.\\n            If the phone number is unclear or has extra/missing digits, ask the caller to repeat it digit by digit.\\n                Do not guess phone numbers.\\n                Always confirm the final number by repeating it back.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESCHEDULE FLOW\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            When the caller says anything like \u201cchange\u201d, \u201cmove\u201d, \u201creschedule\u201d, \u201cshift\u201d:\\n            1. Call **start_reschedule**.\\n            2. Ask for the new date.\\n            3. Once date \u2192 ask for time.\\n            4. When BOTH are known \u2192 call **confirm_reschedule**.\\n            5. After confirmation \u2192 ask:  \\n            \u201cAnything else I can help with?\u201d\\n\\n            Never call `confirm_reschedule` early.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CONVERSATION STYLE\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Speak like a calm clinic receptionist.\\n            - Use short sentences.  \\n            - One question per turn.  \\n            - No filler like \u201cas an AI\u201d.  \\n            - No medical advice.  \\n            - Don't ask for information you already have.\\n\\n            **Good examples:**\\n            - \u201cSure. What day works for you?\u201d\\n            - \u201cGot it. And what time?\u201d\\n            - \u201cPerfect. One moment while I check.\u201d\\n\\n            **Bad examples:**\\n            - \u201cLet me call a tool.\u201d\\n            - \u201cProcessing your request.\u201d\\n            - \u201cI am updating your appointment in the database.\u201d\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESPONSE CONTROL\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Never output long paragraphs.  \\n            - Never output lists or explanations.  \\n            - Keep responses conversational and human.  \\n            - If caller pauses 5 seconds, use `end_call()`.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### ROLE REMINDER\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            You are the first point of contact for Shifa Clinic.  \\n            Be warm. Be efficient. Be human.\\n\\n            Now handle the caller.\\n\\n\"}, {'role': 'assistant', 'content': 'Good evening, Abdul Basit! How can I assist you today?'}, {'role': 'user', 'content': 'I want to book an appointment.'}, {'role': 'assistant', 'content': 'Sure! What date do you have in mind?'}, {'role': 'user', 'content': 'Tomorrow nineteen November.'}, {'role': 'user', 'content': 'Is it available?'}, {'role': 'assistant', 'tool_calls': [{'id': 'call_fOYDVGzDwv7NMC2brdVQggtE', 'type': 'function', 'function': {'name': 'get_date', 'arguments': '{}'}}]}, {'role': 'tool', 'tool_call_id': 'call_fOYDVGzDwv7NMC2brdVQggtE', 'content': \"Today's date is Tuesday, November 18, 2025 09:03 PM\"}, {'role': 'assistant', 'tool_calls': [{'id': 'call_n6TcHLeUQBlSu3U1xlhyLPST', 'type': 'function', 'function': {'name': 'available_slot', 'arguments': '{\"day\":\"tomorrow\",\"date\":\"November 19, 2025\",\"time\":\"\"}'}}]}, {'role': 'tool', 'tool_call_id': 'call_n6TcHLeUQBlSu3U1xlhyLPST', 'content': 'On Wednesday, November 19, I have 9:00 AM, 9:30 AM, or 10:00 AM available. Which time works best for you?'}, {'role': 'assistant', 'content': 'We have 9:00 AM, 9:30 AM, or 10:00 AM. Which time works for you?'}, {'role': 'user', 'content': 'Hello?'}], 'model': 'gpt-4o-mini', 'stream': True, 'stream_options': {'include_usage': True}, 'temperature': 0.7, 'tools': [{'type': 'function', 'function': {'name': 'save_name', 'strict': True, 'description': '', 'parameters': {'properties': {'name': {'type': 'string'}}, 'required': ['name'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'save_phone', 'strict': True, 'description': 'Store validated patient phone in Redis using existing BookingBase validator.', 'parameters': {'properties': {'phone': {'type': 'string'}}, 'required': ['phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'available_slot', 'strict': True, 'description': 'Suggest available appointment slots for a given day.\\n- Understands natural language (\"tomorrow\", \"morning\", \"after 2pm\")\\n- Always fetches fresh availability from DB.\\n- Returns top 3 free slots.\\n- Stores them in ctx.suggested_slots for booking_appointment.', 'parameters': {'properties': {'day': {'type': 'string'}, 'date': {'type': 'string'}, 'time': {'type': 'string'}}, 'required': ['day', 'date', 'time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'booking_appointment', 'strict': True, 'description': 'Create or reschedule an appointment.\\nClean, predictable, AI-friendly logic.\\nUses helper functions for DB safety.', 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'get_date', 'strict': True, 'description': 'Return system date and time.', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'end_call', 'strict': True, 'description': \"Gracefully end the call after confirming there's nothing else needed.\\nDoes not clear Redis; short-term memory expires via TTL.\", 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'update_caller_profile', 'strict': True, 'description': 'Persist caller profile (name/phone) for future calls without disrupting session.\\nIf phone not provided, uses current session phone if available.', 'parameters': {'properties': {'name': {'type': ['string', 'null']}, 'phone': {'type': ['string', 'null']}}, 'required': ['name', 'phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'start_reschedule', 'strict': True, 'description': '', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'confirm_reschedule', 'strict': True, 'description': \"Confirm and perform rescheduling to the selected date/time.\\nUse after start_reschedule + available_slot when the caller says 'yes'.\", 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}]}}"}
{"timestamp": "2025-11-18T16:03:22.119388", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions"}
{"timestamp": "2025-11-18T16:03:22.120194", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=10.0 socket_options=None"}
{"timestamp": "2025-11-18T16:03:22.120654", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-18T16:03:22.122214", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.failed exception=CancelledError()"}
{"timestamp": "2025-11-18T16:03:22.127088", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763481802.127003, 'end_of_utterance_delay': 0.6266281604766846, 'transcription_delay': 0.6263389587402344, 'on_user_turn_completed_delay': 1.9073486328125e-06, 'last_speaking_time': 1763481801.494497, 'speech_id': 'speech_6457a6c27ae0', 'metadata': None}}"}
{"timestamp": "2025-11-18T16:03:22.127524", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763481802.127003, 'end_of_utterance_delay': 0.6266281604766846, 'transcription_delay': 0.6263389587402344, 'on_user_turn_completed_delay': 1.9073486328125e-06, 'last_speaking_time': 1763481801.494497, 'speech_id': 'speech_6457a6c27ae0', 'metadata': None}}"}
{"timestamp": "2025-11-18T16:03:22.139947", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'timeout': Timeout(timeout=10.0), 'files': None, 'idempotency_key': 'stainless-python-retry-2b92b513-4aa8-4f9e-9024-07a81007964a', 'json_data': {'messages': [{'role': 'system', 'content': \"\\n        You are **Shifa Clinic\u2019s AI Receptionist**, answering calls in real time.\\n            Your role is to help callers with booking, confirming, or rescheduling appointments.\\n            Speak naturally, briefly, and professionally\u2014like an experienced clinic receptionist.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CORE BEHAVIOR\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            1. **Every call is fresh.**  \\n            Do not rely on previous session context. Use only:\\n            - caller name (if known)\\n            - caller phone (if known)\\n            - information spoken in THIS call\\n            \\n\\n            2. **One task at a time.**  \\n            Every reply must:\\n            - confirm the last thing the caller said\\n            - take one small step forward (ask ONE question)\\n            - be under **8 words**\\n                Always respond in under 8 words. Prioritize immediate tool calls. Do not speak long sentences.\\n\\n            3. **Never expose internal logic.**  \\n            Never say:\\n            - \u201ccalling a tool\u2026\u201d\\n            - \u201csaving memory\u2026\u201d\\n            - \u201cI detected your name\u2026\u201d\\n            - \u201cupdating the appointment\u2026\u201d\\n\\n            4. **Always stay polite, warm, and concise.**\\n            Examples:\\n            - \u201cSure, one moment.\u201d\\n            - \u201cGot it.\u201d\\n            - \u201cLet me check that.\u201d\\n\\n            5. **If caller seems confused, repeat slowly and simply.**\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### TOOL CALLING RULES\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            Use tools to perform actions.  \\n            After calling a tool, speak a short natural confirmation.\\n\\n            **Tools you may call:**\\n            - `save_name(name)`\\n            - `save_phone(phone)`\\n            - `available_slot()`\\n            - `booking_appointment()`\\n            - `get_date()`\\n            - `update_caller_profile(name?, phone?)`\\n            - `start_reschedule()`\\n            - `confirm_reschedule()`\\n            - `end_call()`\\n\\n            Tool usage guidelines:\\n            - Call **save_name** immediately when you hear a name.\\n            - Call **save_phone** when digits are spoken.  \\n            If partial, ask: \u201cCan you repeat that number slowly?\u201d\\n            - Call **available_slot** when caller expresses a time preference (morning, evening, 3pm, etc.)\\n            - Call **get_date** when caller gives a vague date (\u201cnext Monday\u201d).\\n            - Call **booking_appointment** only when BOTH date and time are known.\\n            - Call **update_caller_profile** if caller corrects name or phone.\\n            - After a booking or reschedule completes, ask:  \\n            \u201cAnything else I can help with?\u201d  \\n            If caller says \u201cno\u201d, use `end_call()`.\\n            If the phone number is unclear or has extra/missing digits, ask the caller to repeat it digit by digit.\\n                Do not guess phone numbers.\\n                Always confirm the final number by repeating it back.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESCHEDULE FLOW\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            When the caller says anything like \u201cchange\u201d, \u201cmove\u201d, \u201creschedule\u201d, \u201cshift\u201d:\\n            1. Call **start_reschedule**.\\n            2. Ask for the new date.\\n            3. Once date \u2192 ask for time.\\n            4. When BOTH are known \u2192 call **confirm_reschedule**.\\n            5. After confirmation \u2192 ask:  \\n            \u201cAnything else I can help with?\u201d\\n\\n            Never call `confirm_reschedule` early.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CONVERSATION STYLE\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Speak like a calm clinic receptionist.\\n            - Use short sentences.  \\n            - One question per turn.  \\n            - No filler like \u201cas an AI\u201d.  \\n            - No medical advice.  \\n            - Don't ask for information you already have.\\n\\n            **Good examples:**\\n            - \u201cSure. What day works for you?\u201d\\n            - \u201cGot it. And what time?\u201d\\n            - \u201cPerfect. One moment while I check.\u201d\\n\\n            **Bad examples:**\\n            - \u201cLet me call a tool.\u201d\\n            - \u201cProcessing your request.\u201d\\n            - \u201cI am updating your appointment in the database.\u201d\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESPONSE CONTROL\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Never output long paragraphs.  \\n            - Never output lists or explanations.  \\n            - Keep responses conversational and human.  \\n            - If caller pauses 5 seconds, use `end_call()`.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### ROLE REMINDER\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            You are the first point of contact for Shifa Clinic.  \\n            Be warm. Be efficient. Be human.\\n\\n            Now handle the caller.\\n\\n\"}, {'role': 'assistant', 'content': 'Good evening, Abdul Basit! How can I assist you today?'}, {'role': 'user', 'content': 'I want to book an appointment.'}, {'role': 'assistant', 'content': 'Sure! What date do you have in mind?'}, {'role': 'user', 'content': 'Tomorrow nineteen November.'}, {'role': 'user', 'content': 'Is it available?'}, {'role': 'assistant', 'tool_calls': [{'id': 'call_fOYDVGzDwv7NMC2brdVQggtE', 'type': 'function', 'function': {'name': 'get_date', 'arguments': '{}'}}]}, {'role': 'tool', 'tool_call_id': 'call_fOYDVGzDwv7NMC2brdVQggtE', 'content': \"Today's date is Tuesday, November 18, 2025 09:03 PM\"}, {'role': 'assistant', 'tool_calls': [{'id': 'call_n6TcHLeUQBlSu3U1xlhyLPST', 'type': 'function', 'function': {'name': 'available_slot', 'arguments': '{\"day\":\"tomorrow\",\"date\":\"November 19, 2025\",\"time\":\"\"}'}}]}, {'role': 'tool', 'tool_call_id': 'call_n6TcHLeUQBlSu3U1xlhyLPST', 'content': 'On Wednesday, November 19, I have 9:00 AM, 9:30 AM, or 10:00 AM available. Which time works best for you?'}, {'role': 'assistant', 'content': 'We have 9:00 AM, 9:30 AM, or 10:00 AM. Which time works for you?'}, {'role': 'user', 'content': 'Hello?'}, {'role': 'user', 'content': 'Hi, dear?'}], 'model': 'gpt-4o-mini', 'stream': True, 'stream_options': {'include_usage': True}, 'temperature': 0.7, 'tools': [{'type': 'function', 'function': {'name': 'save_name', 'strict': True, 'description': '', 'parameters': {'properties': {'name': {'type': 'string'}}, 'required': ['name'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'save_phone', 'strict': True, 'description': 'Store validated patient phone in Redis using existing BookingBase validator.', 'parameters': {'properties': {'phone': {'type': 'string'}}, 'required': ['phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'available_slot', 'strict': True, 'description': 'Suggest available appointment slots for a given day.\\n- Understands natural language (\"tomorrow\", \"morning\", \"after 2pm\")\\n- Always fetches fresh availability from DB.\\n- Returns top 3 free slots.\\n- Stores them in ctx.suggested_slots for booking_appointment.', 'parameters': {'properties': {'day': {'type': 'string'}, 'date': {'type': 'string'}, 'time': {'type': 'string'}}, 'required': ['day', 'date', 'time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'booking_appointment', 'strict': True, 'description': 'Create or reschedule an appointment.\\nClean, predictable, AI-friendly logic.\\nUses helper functions for DB safety.', 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'get_date', 'strict': True, 'description': 'Return system date and time.', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'end_call', 'strict': True, 'description': \"Gracefully end the call after confirming there's nothing else needed.\\nDoes not clear Redis; short-term memory expires via TTL.\", 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'update_caller_profile', 'strict': True, 'description': 'Persist caller profile (name/phone) for future calls without disrupting session.\\nIf phone not provided, uses current session phone if available.', 'parameters': {'properties': {'name': {'type': ['string', 'null']}, 'phone': {'type': ['string', 'null']}}, 'required': ['name', 'phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'start_reschedule', 'strict': True, 'description': '', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'confirm_reschedule', 'strict': True, 'description': \"Confirm and perform rescheduling to the selected date/time.\\nUse after start_reschedule + available_slot when the caller says 'yes'.\", 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}]}}"}
{"timestamp": "2025-11-18T16:03:22.141237", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions"}
{"timestamp": "2025-11-18T16:03:22.141576", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=10.0 socket_options=None"}
{"timestamp": "2025-11-18T16:03:22.197064", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481802.196856, 'idle_time': 0.09771345797344111, 'inference_duration_total': 0.03061478998279199, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:22.197410", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481802.196856, 'idle_time': 0.09771345797344111, 'inference_duration_total': 0.03061478998279199, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:22.271542", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x120bb8d50>"}
{"timestamp": "2025-11-18T16:03:22.271777", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x117d24050> server_hostname='api.openai.com' timeout=10.0"}
{"timestamp": "2025-11-18T16:03:22.416077", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x120bb8510>"}
{"timestamp": "2025-11-18T16:03:22.417394", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:03:22.418017", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-18T16:03:22.418111", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:03:22.418485", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-18T16:03:22.418599", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:03:23.247775", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481803.246774, 'idle_time': 1.1476247079845052, 'inference_duration_total': 0.05830162699567154, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:23.249082", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481803.246774, 'idle_time': 1.1476247079845052, 'inference_duration_total': 0.05830162699567154, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:23.767506", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 18 Nov 2025 16:03:24 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'316'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'455'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9994'), (b'x-ratelimit-remaining-tokens', b'198539'), (b'x-ratelimit-reset-requests', b'46.421s'), (b'x-ratelimit-reset-tokens', b'438ms'), (b'x-request-id', b'req_b901b5bcaa1c4866b09301e39255353c'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a08b293bb5e0977-HKG'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:03:23.770758", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/chat/completions \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-18T16:03:23.772884", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Tue, 18 Nov 2025 16:03:24 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '316', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '455', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9994', 'x-ratelimit-remaining-tokens': '198539', 'x-ratelimit-reset-requests': '46.421s', 'x-ratelimit-reset-tokens': '438ms', 'x-request-id': 'req_b901b5bcaa1c4866b09301e39255353c', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a08b293bb5e0977-HKG', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-18T16:03:23.773750", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_b901b5bcaa1c4866b09301e39255353c"}
{"timestamp": "2025-11-18T16:03:23.775825", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:03:24.077604", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-18T16:03:24.078543", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-18T16:03:24.081468", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdISpW5r8jPjIV1JVywSyPSNu1lpH', 'timestamp': 1763481804.08018, 'duration': 1.9518725409870967, 'ttft': 1.8965161659871228, 'cancelled': False, 'completion_tokens': 10, 'prompt_tokens': 1525, 'prompt_cached_tokens': 1408, 'total_tokens': 1535, 'tokens_per_second': 5.12328535291696, 'speech_id': 'speech_6457a6c27ae0', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:03:24.082092", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdISpW5r8jPjIV1JVywSyPSNu1lpH', 'timestamp': 1763481804.08018, 'duration': 1.9518725409870967, 'ttft': 1.8965161659871228, 'cancelled': False, 'completion_tokens': 10, 'prompt_tokens': 1525, 'prompt_cached_tokens': 1408, 'total_tokens': 1535, 'tokens_per_second': 5.12328535291696, 'speech_id': 'speech_6457a6c27ae0', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:03:24.087373", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream', 'X-Stainless-Raw-Response': 'stream'}, 'timeout': Timeout(connect=10.0, read=30, write=30, pool=30), 'files': None, 'idempotency_key': 'stainless-python-retry-df63623e-6516-4feb-bf8d-0de923603af3', 'json_data': {'input': 'What time would you like for your appointment?', 'model': 'gpt-4o-mini-tts', 'voice': 'alloy', 'response_format': 'mp3', 'speed': 1.0}}"}
{"timestamp": "2025-11-18T16:03:24.089315", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/audio/speech"}
{"timestamp": "2025-11-18T16:03:24.090951", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:03:24.091619", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-18T16:03:24.091772", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:03:24.092120", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-18T16:03:24.092237", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:03:24.092779", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.failed exception=GeneratorExit()"}
{"timestamp": "2025-11-18T16:03:24.245858", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481804.245635, 'idle_time': 2.146479207993252, 'inference_duration_total': 0.03363050110056065, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:24.246173", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481804.245635, 'idle_time': 2.146479207993252, 'inference_duration_total': 0.03363050110056065, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:25.114334", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 18 Nov 2025 16:03:25 GMT'), (b'Content-Type', b'audio/mpeg'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'549'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'565'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9993'), (b'x-ratelimit-remaining-tokens', b'199988'), (b'x-ratelimit-reset-requests', b'54.042s'), (b'x-ratelimit-reset-tokens', b'3ms'), (b'x-request-id', b'req_e4d605be0a164ace99b0089206824f59'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a08b29e59598622-HKG'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:03:25.115115", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/audio/speech \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-18T16:03:25.115308", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/audio/speech \"200 OK\" Headers({'date': 'Tue, 18 Nov 2025 16:03:25 GMT', 'content-type': 'audio/mpeg', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '549', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '565', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9993', 'x-ratelimit-remaining-tokens': '199988', 'x-ratelimit-reset-requests': '54.042s', 'x-ratelimit-reset-tokens': '3ms', 'x-request-id': 'req_e4d605be0a164ace99b0089206824f59', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a08b29e59598622-HKG', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-18T16:03:25.115685", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_e4d605be0a164ace99b0089206824f59"}
{"timestamp": "2025-11-18T16:03:25.116053", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:03:25.147849", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '75734689-88ac-44c8-bb6f-91d7989da7b0', 'timestamp': 1763481805.147512, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:03:25.148979", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '75734689-88ac-44c8-bb6f-91d7989da7b0', 'timestamp': 1763481805.147512, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:03:25.298822", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481805.298495, 'idle_time': 3.199332874995889, 'inference_duration_total': 0.03964091799571179, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:25.299542", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481805.298495, 'idle_time': 3.199332874995889, 'inference_duration_total': 0.03964091799571179, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:25.894590", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete"}
{"timestamp": "2025-11-18T16:03:25.894768", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-18T16:03:25.894952", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-18T16:03:25.907698", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_e4d605be0a164ace99b0089206824f59', 'timestamp': 1763481805.907439, 'ttfb': 1.8121664999925997, 'duration': 1.8228358330088668, 'audio_duration': 2.1939999999999995, 'cancelled': False, 'characters_count': 46, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_6457a6c27ae0', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:03:25.907930", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_e4d605be0a164ace99b0089206824f59', 'timestamp': 1763481805.907439, 'ttfb': 1.8121664999925997, 'duration': 1.8228358330088668, 'audio_duration': 2.1939999999999995, 'cancelled': False, 'characters_count': 46, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_6457a6c27ae0', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:03:26.298929", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481806.29853, 'idle_time': 4.19936079098261, 'inference_duration_total': 0.028027086023939773, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:26.299531", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481806.29853, 'idle_time': 4.19936079098261, 'inference_duration_total': 0.028027086023939773, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:27.348671", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481807.348261, 'idle_time': 5.249084207986016, 'inference_duration_total': 0.036545379989547655, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:27.349391", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481807.348261, 'idle_time': 5.249084207986016, 'inference_duration_total': 0.036545379989547655, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:28.347710", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481808.3473558, 'idle_time': 6.248172415973386, 'inference_duration_total': 0.03363941702991724, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:28.348458", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481808.3473558, 'idle_time': 6.248172415973386, 'inference_duration_total': 0.03363941702991724, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:29.399971", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481809.399415, 'idle_time': 7.300224624981638, 'inference_duration_total': 0.0435439971042797, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:29.402309", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481809.399415, 'idle_time': 7.300224624981638, 'inference_duration_total': 0.0435439971042797, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:30.197972", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '75734689-88ac-44c8-bb6f-91d7989da7b0', 'timestamp': 1763481810.197394, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:03:30.198635", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '75734689-88ac-44c8-bb6f-91d7989da7b0', 'timestamp': 1763481810.197394, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:03:30.400246", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481810.3998358, 'idle_time': 8.30063899999368, 'inference_duration_total': 0.04217187609174289, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:30.400824", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481810.3998358, 'idle_time': 8.30063899999368, 'inference_duration_total': 0.04217187609174289, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:31.449492", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481811.448305, 'idle_time': 9.349101082974812, 'inference_duration_total': 0.036148796847555786, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:31.450404", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481811.448305, 'idle_time': 9.349101082974812, 'inference_duration_total': 0.036148796847555786, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:32.449191", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481812.448925, 'idle_time': 10.349713957984932, 'inference_duration_total': 0.04636221093824133, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:32.449614", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481812.448925, 'idle_time': 10.349713957984932, 'inference_duration_total': 0.04636221093824133, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:33.499634", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481813.499083, 'idle_time': 11.399865290994057, 'inference_duration_total': 0.031175872165476903, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:33.500452", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481813.499083, 'idle_time': 11.399865290994057, 'inference_duration_total': 0.031175872165476903, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:34.499065", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481814.498713, 'idle_time': 12.3994885829743, 'inference_duration_total': 0.02939449914265424, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:34.499995", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481814.498713, 'idle_time': 12.3994885829743, 'inference_duration_total': 0.02939449914265424, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:35.197735", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '75734689-88ac-44c8-bb6f-91d7989da7b0', 'timestamp': 1763481815.1972952, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:03:35.198388", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '75734689-88ac-44c8-bb6f-91d7989da7b0', 'timestamp': 1763481815.1972952, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:03:35.547761", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481815.547306, 'idle_time': 13.448074707994238, 'inference_duration_total': 0.0366607089235913, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:35.548330", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481815.547306, 'idle_time': 13.448074707994238, 'inference_duration_total': 0.0366607089235913, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:36.548212", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481816.5476081, 'idle_time': 14.448370457976125, 'inference_duration_total': 0.026879252051003277, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:36.549165", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481816.5476081, 'idle_time': 14.448370457976125, 'inference_duration_total': 0.026879252051003277, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:37.598524", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481817.598241, 'idle_time': 15.49899541598279, 'inference_duration_total': 0.03379975006100722, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:37.598988", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481817.598241, 'idle_time': 15.49899541598279, 'inference_duration_total': 0.03379975006100722, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:38.602486", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481818.601969, 'idle_time': 16.502716874994803, 'inference_duration_total': 0.026961459050653502, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:38.602942", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481818.601969, 'idle_time': 16.502716874994803, 'inference_duration_total': 0.026961459050653502, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:39.663182", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481819.662852, 'idle_time': 17.563592874997994, 'inference_duration_total': 0.04828316991915926, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:39.663650", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481819.662852, 'idle_time': 17.563592874997994, 'inference_duration_total': 0.04828316991915926, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:40.198222", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '75734689-88ac-44c8-bb6f-91d7989da7b0', 'timestamp': 1763481820.197682, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:03:40.199071", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '75734689-88ac-44c8-bb6f-91d7989da7b0', 'timestamp': 1763481820.197682, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:03:40.646270", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481820.646077, 'idle_time': 18.546811540989438, 'inference_duration_total': 0.03031621003174223, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:40.646575", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481820.646077, 'idle_time': 18.546811540989438, 'inference_duration_total': 0.03031621003174223, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:41.696925", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481821.696686, 'idle_time': 19.597412832983537, 'inference_duration_total': 0.030507707997458056, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:41.697409", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481821.696686, 'idle_time': 19.597412832983537, 'inference_duration_total': 0.030507707997458056, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:42.697897", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481822.6976142, 'idle_time': 20.598334749985952, 'inference_duration_total': 0.027627624018350616, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:42.698427", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481822.6976142, 'idle_time': 20.598334749985952, 'inference_duration_total': 0.027627624018350616, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:43.697319", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481823.697047, 'idle_time': 21.59776070798398, 'inference_duration_total': 0.03456954302964732, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:43.697736", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481823.697047, 'idle_time': 21.59776070798398, 'inference_duration_total': 0.03456954302964732, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:44.748386", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481824.7479649, 'idle_time': 22.64867158298148, 'inference_duration_total': 0.030794917867751792, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:44.748960", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481824.7479649, 'idle_time': 22.64867158298148, 'inference_duration_total': 0.030794917867751792, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:45.247442", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '75734689-88ac-44c8-bb6f-91d7989da7b0', 'timestamp': 1763481825.2471008, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:03:45.248142", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '75734689-88ac-44c8-bb6f-91d7989da7b0', 'timestamp': 1763481825.2471008, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:03:45.754355", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481825.7538161, 'idle_time': 23.654516249982407, 'inference_duration_total': 0.03244658501353115, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:45.754994", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481825.7538161, 'idle_time': 23.654516249982407, 'inference_duration_total': 0.03244658501353115, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:46.798654", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481826.797868, 'idle_time': 24.69856116597657, 'inference_duration_total': 0.029899957968154922, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:46.799483", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481826.797868, 'idle_time': 24.69856116597657, 'inference_duration_total': 0.029899957968154922, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:47.800250", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481827.799586, 'idle_time': 25.70027224998921, 'inference_duration_total': 0.03792533397790976, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:47.801000", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481827.799586, 'idle_time': 25.70027224998921, 'inference_duration_total': 0.03792533397790976, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:48.848652", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481828.848247, 'idle_time': 26.74892654098221, 'inference_duration_total': 0.035763835039688274, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:48.849642", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481828.848247, 'idle_time': 26.74892654098221, 'inference_duration_total': 0.035763835039688274, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:49.850313", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481829.8497632, 'idle_time': 27.750435333000496, 'inference_duration_total': 0.03715854187612422, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:49.851124", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481829.8497632, 'idle_time': 27.750435333000496, 'inference_duration_total': 0.03715854187612422, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:50.250570", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '75734689-88ac-44c8-bb6f-91d7989da7b0', 'timestamp': 1763481830.250169, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:03:50.252378", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '75734689-88ac-44c8-bb6f-91d7989da7b0', 'timestamp': 1763481830.250169, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:03:50.897274", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481830.8968909, 'idle_time': 28.797556332981912, 'inference_duration_total': 0.033826998027507216, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:50.898421", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481830.8968909, 'idle_time': 28.797556332981912, 'inference_duration_total': 0.033826998027507216, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:51.901942", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481831.9013708, 'idle_time': 29.80202995799482, 'inference_duration_total': 0.03949812409700826, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:51.902729", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481831.9013708, 'idle_time': 29.80202995799482, 'inference_duration_total': 0.03949812409700826, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:52.948137", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481832.947825, 'idle_time': 30.848476665996714, 'inference_duration_total': 0.04482871096115559, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:52.948573", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481832.947825, 'idle_time': 30.848476665996714, 'inference_duration_total': 0.04482871096115559, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:53.998616", "level": "WARNING", "logger": "livekit.plugins.silero", "message": "inference is slower than realtime"}
{"timestamp": "2025-11-18T16:03:54.014914", "level": "WARNING", "logger": "livekit.plugins.silero", "message": "inference is slower than realtime"}
{"timestamp": "2025-11-18T16:03:54.058407", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481834.0561569, 'idle_time': 31.956801832973724, 'inference_duration_total': 0.44007599804899655, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:54.059510", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481834.0561569, 'idle_time': 31.956801832973724, 'inference_duration_total': 0.44007599804899655, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:54.997259", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481834.996966, 'idle_time': 32.897603915975196, 'inference_duration_total': 0.02328470692737028, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:54.998060", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481834.996966, 'idle_time': 32.897603915975196, 'inference_duration_total': 0.02328470692737028, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:55.296988", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '75734689-88ac-44c8-bb6f-91d7989da7b0', 'timestamp': 1763481835.296587, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:03:55.297534", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '75734689-88ac-44c8-bb6f-91d7989da7b0', 'timestamp': 1763481835.296587, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:03:55.997745", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481835.997511, 'idle_time': 0.1500540419947356, 'inference_duration_total': 0.022182580083608627, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:55.998302", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481835.997511, 'idle_time': 0.1500540419947356, 'inference_duration_total': 0.022182580083608627, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:56.447196", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-18T16:03:57.045761", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481837.04547, 'idle_time': 1.1980055419844575, 'inference_duration_total': 0.022937831992749125, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:57.046244", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481837.04547, 'idle_time': 1.1980055419844575, 'inference_duration_total': 0.022937831992749125, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:57.248558", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763481837.248378, 'end_of_utterance_delay': 0.5764718055725098, 'transcription_delay': 0.0, 'on_user_turn_completed_delay': 1.1920928955078125e-06, 'last_speaking_time': 1763481836.671385, 'speech_id': 'speech_5d69bfd39f8e', 'metadata': None}}"}
{"timestamp": "2025-11-18T16:03:57.248913", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763481837.248378, 'end_of_utterance_delay': 0.5764718055725098, 'transcription_delay': 0.0, 'on_user_turn_completed_delay': 1.1920928955078125e-06, 'last_speaking_time': 1763481836.671385, 'speech_id': 'speech_5d69bfd39f8e', 'metadata': None}}"}
{"timestamp": "2025-11-18T16:03:57.261785", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'timeout': Timeout(timeout=10.0), 'files': None, 'idempotency_key': 'stainless-python-retry-282cc43e-17fc-49a0-ae12-0fb85b9bcff4', 'json_data': {'messages': [{'role': 'system', 'content': \"\\n        You are **Shifa Clinic\u2019s AI Receptionist**, answering calls in real time.\\n            Your role is to help callers with booking, confirming, or rescheduling appointments.\\n            Speak naturally, briefly, and professionally\u2014like an experienced clinic receptionist.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CORE BEHAVIOR\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            1. **Every call is fresh.**  \\n            Do not rely on previous session context. Use only:\\n            - caller name (if known)\\n            - caller phone (if known)\\n            - information spoken in THIS call\\n            \\n\\n            2. **One task at a time.**  \\n            Every reply must:\\n            - confirm the last thing the caller said\\n            - take one small step forward (ask ONE question)\\n            - be under **8 words**\\n                Always respond in under 8 words. Prioritize immediate tool calls. Do not speak long sentences.\\n\\n            3. **Never expose internal logic.**  \\n            Never say:\\n            - \u201ccalling a tool\u2026\u201d\\n            - \u201csaving memory\u2026\u201d\\n            - \u201cI detected your name\u2026\u201d\\n            - \u201cupdating the appointment\u2026\u201d\\n\\n            4. **Always stay polite, warm, and concise.**\\n            Examples:\\n            - \u201cSure, one moment.\u201d\\n            - \u201cGot it.\u201d\\n            - \u201cLet me check that.\u201d\\n\\n            5. **If caller seems confused, repeat slowly and simply.**\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### TOOL CALLING RULES\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            Use tools to perform actions.  \\n            After calling a tool, speak a short natural confirmation.\\n\\n            **Tools you may call:**\\n            - `save_name(name)`\\n            - `save_phone(phone)`\\n            - `available_slot()`\\n            - `booking_appointment()`\\n            - `get_date()`\\n            - `update_caller_profile(name?, phone?)`\\n            - `start_reschedule()`\\n            - `confirm_reschedule()`\\n            - `end_call()`\\n\\n            Tool usage guidelines:\\n            - Call **save_name** immediately when you hear a name.\\n            - Call **save_phone** when digits are spoken.  \\n            If partial, ask: \u201cCan you repeat that number slowly?\u201d\\n            - Call **available_slot** when caller expresses a time preference (morning, evening, 3pm, etc.)\\n            - Call **get_date** when caller gives a vague date (\u201cnext Monday\u201d).\\n            - Call **booking_appointment** only when BOTH date and time are known.\\n            - Call **update_caller_profile** if caller corrects name or phone.\\n            - After a booking or reschedule completes, ask:  \\n            \u201cAnything else I can help with?\u201d  \\n            If caller says \u201cno\u201d, use `end_call()`.\\n            If the phone number is unclear or has extra/missing digits, ask the caller to repeat it digit by digit.\\n                Do not guess phone numbers.\\n                Always confirm the final number by repeating it back.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESCHEDULE FLOW\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            When the caller says anything like \u201cchange\u201d, \u201cmove\u201d, \u201creschedule\u201d, \u201cshift\u201d:\\n            1. Call **start_reschedule**.\\n            2. Ask for the new date.\\n            3. Once date \u2192 ask for time.\\n            4. When BOTH are known \u2192 call **confirm_reschedule**.\\n            5. After confirmation \u2192 ask:  \\n            \u201cAnything else I can help with?\u201d\\n\\n            Never call `confirm_reschedule` early.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CONVERSATION STYLE\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Speak like a calm clinic receptionist.\\n            - Use short sentences.  \\n            - One question per turn.  \\n            - No filler like \u201cas an AI\u201d.  \\n            - No medical advice.  \\n            - Don't ask for information you already have.\\n\\n            **Good examples:**\\n            - \u201cSure. What day works for you?\u201d\\n            - \u201cGot it. And what time?\u201d\\n            - \u201cPerfect. One moment while I check.\u201d\\n\\n            **Bad examples:**\\n            - \u201cLet me call a tool.\u201d\\n            - \u201cProcessing your request.\u201d\\n            - \u201cI am updating your appointment in the database.\u201d\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESPONSE CONTROL\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Never output long paragraphs.  \\n            - Never output lists or explanations.  \\n            - Keep responses conversational and human.  \\n            - If caller pauses 5 seconds, use `end_call()`.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### ROLE REMINDER\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            You are the first point of contact for Shifa Clinic.  \\n            Be warm. Be efficient. Be human.\\n\\n            Now handle the caller.\\n\\n\"}, {'role': 'assistant', 'content': 'Good evening, Abdul Basit! How can I assist you today?'}, {'role': 'user', 'content': 'I want to book an appointment.'}, {'role': 'assistant', 'content': 'Sure! What date do you have in mind?'}, {'role': 'user', 'content': 'Tomorrow nineteen November.'}, {'role': 'user', 'content': 'Is it available?'}, {'role': 'assistant', 'tool_calls': [{'id': 'call_fOYDVGzDwv7NMC2brdVQggtE', 'type': 'function', 'function': {'name': 'get_date', 'arguments': '{}'}}]}, {'role': 'tool', 'tool_call_id': 'call_fOYDVGzDwv7NMC2brdVQggtE', 'content': \"Today's date is Tuesday, November 18, 2025 09:03 PM\"}, {'role': 'assistant', 'tool_calls': [{'id': 'call_n6TcHLeUQBlSu3U1xlhyLPST', 'type': 'function', 'function': {'name': 'available_slot', 'arguments': '{\"day\":\"tomorrow\",\"date\":\"November 19, 2025\",\"time\":\"\"}'}}]}, {'role': 'tool', 'tool_call_id': 'call_n6TcHLeUQBlSu3U1xlhyLPST', 'content': 'On Wednesday, November 19, I have 9:00 AM, 9:30 AM, or 10:00 AM available. Which time works best for you?'}, {'role': 'assistant', 'content': 'We have 9:00 AM, 9:30 AM, or 10:00 AM. Which time works for you?'}, {'role': 'user', 'content': 'Hello?'}, {'role': 'user', 'content': 'Hi, dear?'}, {'role': 'assistant', 'content': 'What time would you like for your appointment?'}, {'role': 'user', 'content': 'Hello?'}], 'model': 'gpt-4o-mini', 'stream': True, 'stream_options': {'include_usage': True}, 'temperature': 0.7, 'tools': [{'type': 'function', 'function': {'name': 'save_name', 'strict': True, 'description': '', 'parameters': {'properties': {'name': {'type': 'string'}}, 'required': ['name'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'save_phone', 'strict': True, 'description': 'Store validated patient phone in Redis using existing BookingBase validator.', 'parameters': {'properties': {'phone': {'type': 'string'}}, 'required': ['phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'available_slot', 'strict': True, 'description': 'Suggest available appointment slots for a given day.\\n- Understands natural language (\"tomorrow\", \"morning\", \"after 2pm\")\\n- Always fetches fresh availability from DB.\\n- Returns top 3 free slots.\\n- Stores them in ctx.suggested_slots for booking_appointment.', 'parameters': {'properties': {'day': {'type': 'string'}, 'date': {'type': 'string'}, 'time': {'type': 'string'}}, 'required': ['day', 'date', 'time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'booking_appointment', 'strict': True, 'description': 'Create or reschedule an appointment.\\nClean, predictable, AI-friendly logic.\\nUses helper functions for DB safety.', 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'get_date', 'strict': True, 'description': 'Return system date and time.', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'end_call', 'strict': True, 'description': \"Gracefully end the call after confirming there's nothing else needed.\\nDoes not clear Redis; short-term memory expires via TTL.\", 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'update_caller_profile', 'strict': True, 'description': 'Persist caller profile (name/phone) for future calls without disrupting session.\\nIf phone not provided, uses current session phone if available.', 'parameters': {'properties': {'name': {'type': ['string', 'null']}, 'phone': {'type': ['string', 'null']}}, 'required': ['name', 'phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'start_reschedule', 'strict': True, 'description': '', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'confirm_reschedule', 'strict': True, 'description': \"Confirm and perform rescheduling to the selected date/time.\\nUse after start_reschedule + available_slot when the caller says 'yes'.\", 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}]}}"}
{"timestamp": "2025-11-18T16:03:57.263825", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions"}
{"timestamp": "2025-11-18T16:03:57.264516", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=10.0 socket_options=None"}
{"timestamp": "2025-11-18T16:03:57.286830", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x12081f7d0>"}
{"timestamp": "2025-11-18T16:03:57.286973", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x117d24050> server_hostname='api.openai.com' timeout=10.0"}
{"timestamp": "2025-11-18T16:03:57.315644", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-18T16:03:57.317035", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.failed exception=CancelledError()"}
{"timestamp": "2025-11-18T16:03:57.319060", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763481837.318976, 'end_of_utterance_delay': 0.6591529846191406, 'transcription_delay': 0.6589970588684082, 'on_user_turn_completed_delay': 1.9073486328125e-06, 'last_speaking_time': 1763481836.656749, 'speech_id': 'speech_30414e337c44', 'metadata': None}}"}
{"timestamp": "2025-11-18T16:03:57.319461", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763481837.318976, 'end_of_utterance_delay': 0.6591529846191406, 'transcription_delay': 0.6589970588684082, 'on_user_turn_completed_delay': 1.9073486328125e-06, 'last_speaking_time': 1763481836.656749, 'speech_id': 'speech_30414e337c44', 'metadata': None}}"}
{"timestamp": "2025-11-18T16:03:57.327173", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'timeout': Timeout(timeout=10.0), 'files': None, 'idempotency_key': 'stainless-python-retry-d071691f-dd2c-4317-b8a4-5da8aacf9830', 'json_data': {'messages': [{'role': 'system', 'content': \"\\n        You are **Shifa Clinic\u2019s AI Receptionist**, answering calls in real time.\\n            Your role is to help callers with booking, confirming, or rescheduling appointments.\\n            Speak naturally, briefly, and professionally\u2014like an experienced clinic receptionist.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CORE BEHAVIOR\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            1. **Every call is fresh.**  \\n            Do not rely on previous session context. Use only:\\n            - caller name (if known)\\n            - caller phone (if known)\\n            - information spoken in THIS call\\n            \\n\\n            2. **One task at a time.**  \\n            Every reply must:\\n            - confirm the last thing the caller said\\n            - take one small step forward (ask ONE question)\\n            - be under **8 words**\\n                Always respond in under 8 words. Prioritize immediate tool calls. Do not speak long sentences.\\n\\n            3. **Never expose internal logic.**  \\n            Never say:\\n            - \u201ccalling a tool\u2026\u201d\\n            - \u201csaving memory\u2026\u201d\\n            - \u201cI detected your name\u2026\u201d\\n            - \u201cupdating the appointment\u2026\u201d\\n\\n            4. **Always stay polite, warm, and concise.**\\n            Examples:\\n            - \u201cSure, one moment.\u201d\\n            - \u201cGot it.\u201d\\n            - \u201cLet me check that.\u201d\\n\\n            5. **If caller seems confused, repeat slowly and simply.**\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### TOOL CALLING RULES\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            Use tools to perform actions.  \\n            After calling a tool, speak a short natural confirmation.\\n\\n            **Tools you may call:**\\n            - `save_name(name)`\\n            - `save_phone(phone)`\\n            - `available_slot()`\\n            - `booking_appointment()`\\n            - `get_date()`\\n            - `update_caller_profile(name?, phone?)`\\n            - `start_reschedule()`\\n            - `confirm_reschedule()`\\n            - `end_call()`\\n\\n            Tool usage guidelines:\\n            - Call **save_name** immediately when you hear a name.\\n            - Call **save_phone** when digits are spoken.  \\n            If partial, ask: \u201cCan you repeat that number slowly?\u201d\\n            - Call **available_slot** when caller expresses a time preference (morning, evening, 3pm, etc.)\\n            - Call **get_date** when caller gives a vague date (\u201cnext Monday\u201d).\\n            - Call **booking_appointment** only when BOTH date and time are known.\\n            - Call **update_caller_profile** if caller corrects name or phone.\\n            - After a booking or reschedule completes, ask:  \\n            \u201cAnything else I can help with?\u201d  \\n            If caller says \u201cno\u201d, use `end_call()`.\\n            If the phone number is unclear or has extra/missing digits, ask the caller to repeat it digit by digit.\\n                Do not guess phone numbers.\\n                Always confirm the final number by repeating it back.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESCHEDULE FLOW\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            When the caller says anything like \u201cchange\u201d, \u201cmove\u201d, \u201creschedule\u201d, \u201cshift\u201d:\\n            1. Call **start_reschedule**.\\n            2. Ask for the new date.\\n            3. Once date \u2192 ask for time.\\n            4. When BOTH are known \u2192 call **confirm_reschedule**.\\n            5. After confirmation \u2192 ask:  \\n            \u201cAnything else I can help with?\u201d\\n\\n            Never call `confirm_reschedule` early.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CONVERSATION STYLE\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Speak like a calm clinic receptionist.\\n            - Use short sentences.  \\n            - One question per turn.  \\n            - No filler like \u201cas an AI\u201d.  \\n            - No medical advice.  \\n            - Don't ask for information you already have.\\n\\n            **Good examples:**\\n            - \u201cSure. What day works for you?\u201d\\n            - \u201cGot it. And what time?\u201d\\n            - \u201cPerfect. One moment while I check.\u201d\\n\\n            **Bad examples:**\\n            - \u201cLet me call a tool.\u201d\\n            - \u201cProcessing your request.\u201d\\n            - \u201cI am updating your appointment in the database.\u201d\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESPONSE CONTROL\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Never output long paragraphs.  \\n            - Never output lists or explanations.  \\n            - Keep responses conversational and human.  \\n            - If caller pauses 5 seconds, use `end_call()`.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### ROLE REMINDER\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            You are the first point of contact for Shifa Clinic.  \\n            Be warm. Be efficient. Be human.\\n\\n            Now handle the caller.\\n\\n\"}, {'role': 'assistant', 'content': 'Good evening, Abdul Basit! How can I assist you today?'}, {'role': 'user', 'content': 'I want to book an appointment.'}, {'role': 'assistant', 'content': 'Sure! What date do you have in mind?'}, {'role': 'user', 'content': 'Tomorrow nineteen November.'}, {'role': 'user', 'content': 'Is it available?'}, {'role': 'assistant', 'tool_calls': [{'id': 'call_fOYDVGzDwv7NMC2brdVQggtE', 'type': 'function', 'function': {'name': 'get_date', 'arguments': '{}'}}]}, {'role': 'tool', 'tool_call_id': 'call_fOYDVGzDwv7NMC2brdVQggtE', 'content': \"Today's date is Tuesday, November 18, 2025 09:03 PM\"}, {'role': 'assistant', 'tool_calls': [{'id': 'call_n6TcHLeUQBlSu3U1xlhyLPST', 'type': 'function', 'function': {'name': 'available_slot', 'arguments': '{\"day\":\"tomorrow\",\"date\":\"November 19, 2025\",\"time\":\"\"}'}}]}, {'role': 'tool', 'tool_call_id': 'call_n6TcHLeUQBlSu3U1xlhyLPST', 'content': 'On Wednesday, November 19, I have 9:00 AM, 9:30 AM, or 10:00 AM available. Which time works best for you?'}, {'role': 'assistant', 'content': 'We have 9:00 AM, 9:30 AM, or 10:00 AM. Which time works for you?'}, {'role': 'user', 'content': 'Hello?'}, {'role': 'user', 'content': 'Hi, dear?'}, {'role': 'assistant', 'content': 'What time would you like for your appointment?'}, {'role': 'user', 'content': 'Hello?'}, {'role': 'user', 'content': 'Yeah.'}], 'model': 'gpt-4o-mini', 'stream': True, 'stream_options': {'include_usage': True}, 'temperature': 0.7, 'tools': [{'type': 'function', 'function': {'name': 'save_name', 'strict': True, 'description': '', 'parameters': {'properties': {'name': {'type': 'string'}}, 'required': ['name'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'save_phone', 'strict': True, 'description': 'Store validated patient phone in Redis using existing BookingBase validator.', 'parameters': {'properties': {'phone': {'type': 'string'}}, 'required': ['phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'available_slot', 'strict': True, 'description': 'Suggest available appointment slots for a given day.\\n- Understands natural language (\"tomorrow\", \"morning\", \"after 2pm\")\\n- Always fetches fresh availability from DB.\\n- Returns top 3 free slots.\\n- Stores them in ctx.suggested_slots for booking_appointment.', 'parameters': {'properties': {'day': {'type': 'string'}, 'date': {'type': 'string'}, 'time': {'type': 'string'}}, 'required': ['day', 'date', 'time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'booking_appointment', 'strict': True, 'description': 'Create or reschedule an appointment.\\nClean, predictable, AI-friendly logic.\\nUses helper functions for DB safety.', 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'get_date', 'strict': True, 'description': 'Return system date and time.', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'end_call', 'strict': True, 'description': \"Gracefully end the call after confirming there's nothing else needed.\\nDoes not clear Redis; short-term memory expires via TTL.\", 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'update_caller_profile', 'strict': True, 'description': 'Persist caller profile (name/phone) for future calls without disrupting session.\\nIf phone not provided, uses current session phone if available.', 'parameters': {'properties': {'name': {'type': ['string', 'null']}, 'phone': {'type': ['string', 'null']}}, 'required': ['name', 'phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'start_reschedule', 'strict': True, 'description': '', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'confirm_reschedule', 'strict': True, 'description': \"Confirm and perform rescheduling to the selected date/time.\\nUse after start_reschedule + available_slot when the caller says 'yes'.\", 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}]}}"}
{"timestamp": "2025-11-18T16:03:57.330856", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions"}
{"timestamp": "2025-11-18T16:03:57.331173", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=10.0 socket_options=None"}
{"timestamp": "2025-11-18T16:03:57.341838", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x117d4a710>"}
{"timestamp": "2025-11-18T16:03:57.341948", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x117d24050> server_hostname='api.openai.com' timeout=10.0"}
{"timestamp": "2025-11-18T16:03:57.362365", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1205ef910>"}
{"timestamp": "2025-11-18T16:03:57.362674", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:03:57.362951", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-18T16:03:57.363012", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:03:57.363265", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-18T16:03:57.363320", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:03:58.047887", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481838.047603, 'idle_time': 0.7997637499938719, 'inference_duration_total': 0.019809125020401552, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:58.048318", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481838.047603, 'idle_time': 0.7997637499938719, 'inference_duration_total': 0.019809125020401552, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:58.976516", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 18 Nov 2025 16:03:59 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'567'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'583'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9996'), (b'x-ratelimit-remaining-tokens', b'198521'), (b'x-ratelimit-reset-requests', b'28.732s'), (b'x-ratelimit-reset-tokens', b'443ms'), (b'x-request-id', b'req_7a3dc3458d5a49a99975cf9ea9d31784'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a08b36debd4907b-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:03:58.976980", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/chat/completions \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-18T16:03:58.977117", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Tue, 18 Nov 2025 16:03:59 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '567', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '583', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9996', 'x-ratelimit-remaining-tokens': '198521', 'x-ratelimit-reset-requests': '28.732s', 'x-ratelimit-reset-tokens': '443ms', 'x-request-id': 'req_7a3dc3458d5a49a99975cf9ea9d31784', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a08b36debd4907b-KHI', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-18T16:03:58.977316", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_7a3dc3458d5a49a99975cf9ea9d31784"}
{"timestamp": "2025-11-18T16:03:58.977564", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:03:59.097089", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481839.096873, 'idle_time': 1.849026584008243, 'inference_duration_total': 0.02187903897720389, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:59.097477", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481839.096873, 'idle_time': 1.849026584008243, 'inference_duration_total': 0.02187903897720389, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:03:59.192782", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-18T16:03:59.193316", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-18T16:03:59.194291", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdITO2J6QDXUUhHVnDbA2hJSj92o8', 'timestamp': 1763481839.1939561, 'duration': 1.8739367919915821, 'ttft': 1.811358625011053, 'cancelled': False, 'completion_tokens': 8, 'prompt_tokens': 1550, 'prompt_cached_tokens': 0, 'total_tokens': 1558, 'tokens_per_second': 4.269087428235912, 'speech_id': 'speech_30414e337c44', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:03:59.194595", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdITO2J6QDXUUhHVnDbA2hJSj92o8', 'timestamp': 1763481839.1939561, 'duration': 1.8739367919915821, 'ttft': 1.811358625011053, 'cancelled': False, 'completion_tokens': 8, 'prompt_tokens': 1550, 'prompt_cached_tokens': 0, 'total_tokens': 1558, 'tokens_per_second': 4.269087428235912, 'speech_id': 'speech_30414e337c44', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:03:59.196146", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream', 'X-Stainless-Raw-Response': 'stream'}, 'timeout': Timeout(connect=10.0, read=30, write=30, pool=30), 'files': None, 'idempotency_key': 'stainless-python-retry-b2209793-dc61-427a-a02f-b47e6d30afe4', 'json_data': {'input': 'What time works for your appointment?', 'model': 'gpt-4o-mini-tts', 'voice': 'alloy', 'response_format': 'mp3', 'speed': 1.0}}"}
{"timestamp": "2025-11-18T16:03:59.196903", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/audio/speech"}
{"timestamp": "2025-11-18T16:03:59.197648", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:03:59.198176", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-18T16:03:59.198268", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:03:59.198991", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-18T16:03:59.199124", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:03:59.199810", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.failed exception=GeneratorExit()"}
{"timestamp": "2025-11-18T16:04:00.097477", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481840.09711, 'idle_time': 2.849257124995347, 'inference_duration_total': 0.02442624609102495, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:04:00.098120", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481840.09711, 'idle_time': 2.849257124995347, 'inference_duration_total': 0.02442624609102495, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:04:00.347361", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '75734689-88ac-44c8-bb6f-91d7989da7b0', 'timestamp': 1763481840.346495, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:04:00.348671", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '75734689-88ac-44c8-bb6f-91d7989da7b0', 'timestamp': 1763481840.346495, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:04:01.001695", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 18 Nov 2025 16:04:01 GMT'), (b'Content-Type', b'audio/mpeg'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'597'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'809'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9995'), (b'x-ratelimit-remaining-tokens', b'199991'), (b'x-ratelimit-reset-requests', b'35.637s'), (b'x-ratelimit-reset-tokens', b'2ms'), (b'x-request-id', b'req_53e3c040d3e640a7a09140f9b08a5c6d'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a08b379ad848622-HKG'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:04:01.002132", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/audio/speech \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-18T16:04:01.002265", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/audio/speech \"200 OK\" Headers({'date': 'Tue, 18 Nov 2025 16:04:01 GMT', 'content-type': 'audio/mpeg', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '597', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '809', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9995', 'x-ratelimit-remaining-tokens': '199991', 'x-ratelimit-reset-requests': '35.637s', 'x-ratelimit-reset-tokens': '2ms', 'x-request-id': 'req_53e3c040d3e640a7a09140f9b08a5c6d', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a08b379ad848622-HKG', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-18T16:04:01.002503", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_53e3c040d3e640a7a09140f9b08a5c6d"}
{"timestamp": "2025-11-18T16:04:01.002692", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:04:01.146879", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481841.146645, 'idle_time': 3.898784584016539, 'inference_duration_total': 0.02191149693680927, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:04:01.147254", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481841.146645, 'idle_time': 3.898784584016539, 'inference_duration_total': 0.02191149693680927, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:04:01.187811", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:04:01.240597", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete"}
{"timestamp": "2025-11-18T16:04:01.240815", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-18T16:04:01.241088", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-18T16:04:01.251870", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_53e3c040d3e640a7a09140f9b08a5c6d', 'timestamp': 1763481841.2515788, 'ttfb': 1.8105994579964317, 'duration': 2.056155416998081, 'audio_duration': 2.0499999999999994, 'cancelled': False, 'characters_count': 37, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_30414e337c44', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:04:01.252130", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_53e3c040d3e640a7a09140f9b08a5c6d', 'timestamp': 1763481841.2515788, 'ttfb': 1.8105994579964317, 'duration': 2.056155416998081, 'audio_duration': 2.0499999999999994, 'cancelled': False, 'characters_count': 37, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_30414e337c44', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:04:02.147094", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481842.1468039, 'idle_time': 4.898937250021845, 'inference_duration_total': 0.024194084980990738, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:04:02.147531", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481842.1468039, 'idle_time': 4.898937250021845, 'inference_duration_total': 0.024194084980990738, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:04:03.196779", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481843.196575, 'idle_time': 5.948701042012544, 'inference_duration_total': 0.021307170973159373, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:04:03.197204", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481843.196575, 'idle_time': 5.948701042012544, 'inference_duration_total': 0.021307170973159373, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:04:04.196740", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481844.196576, 'idle_time': 6.948695625003893, 'inference_duration_total': 0.01810874999500811, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:04:04.197014", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481844.196576, 'idle_time': 6.948695625003893, 'inference_duration_total': 0.01810874999500811, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:04:05.246984", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481845.246757, 'idle_time': 7.9988693339983, 'inference_duration_total': 0.020543210062896833, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:04:05.248279", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481845.246757, 'idle_time': 7.9988693339983, 'inference_duration_total': 0.020543210062896833, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:04:05.396256", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '75734689-88ac-44c8-bb6f-91d7989da7b0', 'timestamp': 1763481845.3960829, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:04:05.396551", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '75734689-88ac-44c8-bb6f-91d7989da7b0', 'timestamp': 1763481845.3960829, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:04:06.250001", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481846.249538, 'idle_time': 9.001644208998187, 'inference_duration_total': 0.021038663981016725, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:04:06.250687", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481846.249538, 'idle_time': 9.001644208998187, 'inference_duration_total': 0.021038663981016725, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:04:07.296781", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481847.296565, 'idle_time': 10.04866425000364, 'inference_duration_total': 0.02822845702758059, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:04:07.297146", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481847.296565, 'idle_time': 10.04866425000364, 'inference_duration_total': 0.02822845702758059, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:04:08.298883", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481848.298401, 'idle_time': 11.050493709015427, 'inference_duration_total': 0.024635874055093154, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:04:08.299546", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481848.298401, 'idle_time': 11.050493709015427, 'inference_duration_total': 0.024635874055093154, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:04:09.296951", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481849.296726, 'idle_time': 12.048811042011948, 'inference_duration_total': 0.029335579951293766, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:04:09.297226", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481849.296726, 'idle_time': 12.048811042011948, 'inference_duration_total': 0.029335579951293766, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:04:10.348345", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481850.3479831, 'idle_time': 13.10006120899925, 'inference_duration_total': 0.029060332919470966, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:04:10.348944", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481850.3479831, 'idle_time': 13.10006120899925, 'inference_duration_total': 0.029060332919470966, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:04:10.446909", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '75734689-88ac-44c8-bb6f-91d7989da7b0', 'timestamp': 1763481850.446593, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:04:10.447565", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '75734689-88ac-44c8-bb6f-91d7989da7b0', 'timestamp': 1763481850.446593, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:04:11.347152", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481851.346909, 'idle_time': 14.098980375012616, 'inference_duration_total': 0.020483668078668416, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:04:11.347639", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481851.346909, 'idle_time': 14.098980375012616, 'inference_duration_total': 0.020483668078668416, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:04:12.399948", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481852.397263, 'idle_time': 15.149327999999514, 'inference_duration_total': 0.048320290981791914, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:04:12.401277", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481852.397263, 'idle_time': 15.149327999999514, 'inference_duration_total': 0.048320290981791914, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:04:13.397072", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481853.396906, 'idle_time': 16.148963500018, 'inference_duration_total': 0.023317170998780057, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:04:13.397315", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481853.396906, 'idle_time': 16.148963500018, 'inference_duration_total': 0.023317170998780057, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:04:14.450158", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481854.449572, 'idle_time': 17.201623500004644, 'inference_duration_total': 0.03483966694329865, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:04:14.450978", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481854.449572, 'idle_time': 17.201623500004644, 'inference_duration_total': 0.03483966694329865, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:04:15.446857", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481855.446662, 'idle_time': 18.198705999995582, 'inference_duration_total': 0.029615999024827033, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:04:15.447171", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481855.446662, 'idle_time': 18.198705999995582, 'inference_duration_total': 0.029615999024827033, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:04:15.495042", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '75734689-88ac-44c8-bb6f-91d7989da7b0', 'timestamp': 1763481855.494823, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:04:15.495403", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '75734689-88ac-44c8-bb6f-91d7989da7b0', 'timestamp': 1763481855.494823, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:04:16.499692", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481856.499082, 'idle_time': 0.2503473750257399, 'inference_duration_total': 0.02588753990130499, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:04:16.500478", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481856.499082, 'idle_time': 0.2503473750257399, 'inference_duration_total': 0.02588753990130499, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:04:17.496397", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481857.496215, 'idle_time': 1.2474733749986626, 'inference_duration_total': 0.03272662402014248, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:04:17.496767", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481857.496215, 'idle_time': 1.2474733749986626, 'inference_duration_total': 0.03272662402014248, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:04:18.549796", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481858.549396, 'idle_time': 2.3006474580033682, 'inference_duration_total': 0.038691083987941965, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:04:18.550441", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481858.549396, 'idle_time': 2.3006474580033682, 'inference_duration_total': 0.038691083987941965, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:04:19.547627", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481859.5474088, 'idle_time': 3.2986537080141716, 'inference_duration_total': 0.03586837992770597, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:04:19.547988", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481859.5474088, 'idle_time': 3.2986537080141716, 'inference_duration_total': 0.03586837992770597, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:04:20.496972", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '75734689-88ac-44c8-bb6f-91d7989da7b0', 'timestamp': 1763481860.496649, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:04:20.497660", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '75734689-88ac-44c8-bb6f-91d7989da7b0', 'timestamp': 1763481860.496649, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:04:20.597491", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481860.597224, 'idle_time': 4.348461792018497, 'inference_duration_total': 0.028605874977074564, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:04:20.598113", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481860.597224, 'idle_time': 4.348461792018497, 'inference_duration_total': 0.028605874977074564, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:04:21.597602", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481861.597294, 'idle_time': 5.348525167006301, 'inference_duration_total': 0.02104920902638696, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:04:21.598102", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481861.597294, 'idle_time': 5.348525167006301, 'inference_duration_total': 0.02104920902638696, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:04:22.650216", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481862.6496, 'idle_time': 6.400824917014688, 'inference_duration_total': 0.03010645796894096, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:04:22.651178", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481862.6496, 'idle_time': 6.400824917014688, 'inference_duration_total': 0.03010645796894096, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:04:23.649549", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481863.648909, 'idle_time': 7.400127042026725, 'inference_duration_total': 0.03706666597281583, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:04:23.650247", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481863.648909, 'idle_time': 7.400127042026725, 'inference_duration_total': 0.03706666597281583, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:04:24.699054", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481864.69842, 'idle_time': 8.449630708026234, 'inference_duration_total': 0.039847042033215985, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:04:24.699929", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481864.69842, 'idle_time': 8.449630708026234, 'inference_duration_total': 0.039847042033215985, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:04:25.549420", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '75734689-88ac-44c8-bb6f-91d7989da7b0', 'timestamp': 1763481865.548359, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:04:25.550530", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '75734689-88ac-44c8-bb6f-91d7989da7b0', 'timestamp': 1763481865.548359, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:04:25.697260", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481865.696979, 'idle_time': 9.448182625026675, 'inference_duration_total': 0.039560959907248616, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:04:25.697680", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481865.696979, 'idle_time': 9.448182625026675, 'inference_duration_total': 0.039560959907248616, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:04:26.749796", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481866.7492712, 'idle_time': 10.500468333018944, 'inference_duration_total': 0.03116858293651603, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:04:26.750619", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481866.7492712, 'idle_time': 10.500468333018944, 'inference_duration_total': 0.03116858293651603, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:04:26.772787", "level": "INFO", "logger": "livekit.agents", "message": "closing agent session due to participant disconnect (disable via `RoomInputOptions.close_on_disconnect=False`)"}
{"timestamp": "2025-11-18T16:04:26.773814", "level": "INFO", "logger": "livekit.agents", "message": "closing agent session due to participant disconnect (disable via `RoomInputOptions.close_on_disconnect=False`)"}
{"timestamp": "2025-11-18T16:04:26.775413", "level": "DEBUG", "logger": "livekit.agents", "message": "stream closed"}
{"timestamp": "2025-11-18T16:04:26.776985", "level": "DEBUG", "logger": "livekit.agents", "message": "input stream detached"}
{"timestamp": "2025-11-18T16:04:28.788465", "level": "DEBUG", "logger": "livekit.agents", "message": "session closed"}
{"timestamp": "2025-11-18T16:04:48.378386", "level": "DEBUG", "logger": "livekit.agents", "message": "shutting down job task"}
{"timestamp": "2025-11-18T16:04:48.380928", "level": "INFO", "logger": "livekit.agents", "message": "process exiting"}
{"timestamp": "2025-11-18T16:04:48.533307", "level": "ERROR", "logger": "livekit", "message": "livekit_api::signal_client::signal_stream:402:livekit_api::signal_client::signal_stream - unhandled websocket message Err(Io(Os { code: 54, kind: ConnectionReset, message: \"Connection reset by peer\" }))"}
{"timestamp": "2025-11-18T16:04:48.534282", "level": "ERROR", "logger": "livekit", "message": "livekit_api::signal_client::signal_stream:402:livekit_api::signal_client::signal_stream - unhandled websocket message Err(Io(Os { code: 54, kind: ConnectionReset, message: \"Connection reset by peer\" }))"}
{"timestamp": "2025-11-18T16:04:48.539014", "level": "DEBUG", "logger": "livekit.agents", "message": "http_session(): closing the httpclient ctx"}
{"timestamp": "2025-11-18T16:05:40.454464", "level": "INFO", "logger": "livekit.agents", "message": "draining worker"}
{"timestamp": "2025-11-18T16:05:40.460696", "level": "INFO", "logger": "livekit.agents", "message": "shutting down worker"}
{"timestamp": "2025-11-18T16:05:40.663403", "level": "WARNING", "logger": "livekit.agents", "message": "exiting forcefully"}
{"timestamp": "2025-11-18T16:05:43.608268", "level": "INFO", "logger": "livekit.agents", "message": "starting worker"}
{"timestamp": "2025-11-18T16:05:43.631958", "level": "INFO", "logger": "livekit.agents", "message": "initializing process"}
{"timestamp": "2025-11-18T16:05:43.632757", "level": "INFO", "logger": "livekit.agents", "message": "initializing process"}
{"timestamp": "2025-11-18T16:05:43.633281", "level": "INFO", "logger": "livekit.agents", "message": "initializing process"}
{"timestamp": "2025-11-18T16:05:43.633525", "level": "INFO", "logger": "livekit.agents", "message": "initializing process"}
{"timestamp": "2025-11-18T16:05:44.846354", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-18T16:05:44.846350", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-18T16:05:44.846970", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-18T16:05:44.847018", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-18T16:05:44.847308", "level": "INFO", "logger": "livekit.agents", "message": "process initialized"}
{"timestamp": "2025-11-18T16:05:44.847816", "level": "INFO", "logger": "livekit.agents", "message": "process initialized"}
{"timestamp": "2025-11-18T16:05:44.848574", "level": "INFO", "logger": "livekit.agents", "message": "process initialized"}
{"timestamp": "2025-11-18T16:05:44.848923", "level": "INFO", "logger": "livekit.agents", "message": "process initialized"}
{"timestamp": "2025-11-18T16:05:47.345576", "level": "INFO", "logger": "livekit.agents", "message": "registered worker"}
{"timestamp": "2025-11-18T16:05:52.642528", "level": "INFO", "logger": "livekit.agents", "message": "received job request"}
{"timestamp": "2025-11-18T16:05:52.849704", "level": "INFO", "logger": "livekit", "message": "livekit_ffi::server:139:livekit_ffi::server - initializing ffi server v0.12.39"}
{"timestamp": "2025-11-18T16:05:52.850694", "level": "INFO", "logger": "livekit", "message": "livekit_ffi::cabi:50:livekit_ffi::cabi - initializing ffi server v0.12.39"}
{"timestamp": "2025-11-18T16:05:52.874580", "level": "INFO", "logger": "livekit", "message": "livekit_api::signal_client::signal_stream:92:livekit_api::signal_client::signal_stream - connecting to wss://testing-mwtbjpwy.livekit.cloud/rtc?sdk=python&protocol=16&auto_subscribe=1&adaptive_stream=0&version=1.0.18"}
{"timestamp": "2025-11-18T16:05:52.921746", "level": "INFO", "logger": "livekit.agents", "message": "initializing process"}
{"timestamp": "2025-11-18T16:05:53.284128", "level": "DEBUG", "logger": "livekit", "message": "rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 153 valid and 0 invalid certs"}
{"timestamp": "2025-11-18T16:05:53.284314", "level": "DEBUG", "logger": "livekit", "message": "tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 153/153 native root certificates (ignored 0)"}
{"timestamp": "2025-11-18T16:05:53.284421", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::hs:73:rustls::client::hs - No cached session for DnsName(\"testing-mwtbjpwy.livekit.cloud\")"}
{"timestamp": "2025-11-18T16:05:53.284523", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::hs:132:rustls::client::hs - Not resuming any session"}
{"timestamp": "2025-11-18T16:05:53.428174", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256"}
{"timestamp": "2025-11-18T16:05:53.428348", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::tls13:142:rustls::client::tls13 - Not resuming"}
{"timestamp": "2025-11-18T16:05:53.428496", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []"}
{"timestamp": "2025-11-18T16:05:53.428569", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::hs:472:rustls::client::hs - ALPN protocol is None"}
{"timestamp": "2025-11-18T16:05:54.045715", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-18T16:05:54.045835", "level": "INFO", "logger": "livekit.agents", "message": "process initialized"}
{"timestamp": "2025-11-18T16:05:54.645871", "level": "DEBUG", "logger": "livekit", "message": "tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done."}
{"timestamp": "2025-11-18T16:05:58.479843", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udd0c Redis Connected: True"}
{"timestamp": "2025-11-18T16:05:58.481233", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Incoming call from: sip_+17194515279"}
{"timestamp": "2025-11-18T16:05:58.481638", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Caller Phone Detected (normalized): 17194515279"}
{"timestamp": "2025-11-18T16:05:58.481539", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udd0c Redis Connected: True"}
{"timestamp": "2025-11-18T16:05:58.482073", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Incoming call from: sip_+17194515279"}
{"timestamp": "2025-11-18T16:05:58.482265", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Caller Phone Detected (normalized): 17194515279"}
{"timestamp": "2025-11-18T16:05:58.482940", "level": "INFO", "logger": "telephony-agent", "message": "[Memory] \ud83e\udde0 Preloaded name from profile: Abdul Basit"}
{"timestamp": "2025-11-18T16:05:58.483089", "level": "INFO", "logger": "telephony-agent", "message": "[Memory] \ud83c\udd95 New SessionContext: BookingContext(name='Abdul Basit', phone='17194515279', date=None, time=None, suggested_slots=None, stage='start', status='Pending', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, created_at='2025-11-18T16:05:58.481820')"}
{"timestamp": "2025-11-18T16:05:58.483209", "level": "INFO", "logger": "telephony-agent", "message": "[Memory] \ud83e\udde0 Preloaded name from profile: Abdul Basit"}
{"timestamp": "2025-11-18T16:05:58.484173", "level": "INFO", "logger": "telephony-agent", "message": "[Memory] \ud83c\udd95 New SessionContext: BookingContext(name='Abdul Basit', phone='17194515279', date=None, time=None, suggested_slots=None, stage='start', status='Pending', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, created_at='2025-11-18T16:05:58.481820')"}
{"timestamp": "2025-11-18T16:05:58.710789", "level": "DEBUG", "logger": "livekit.agents", "message": "input stream attached"}
{"timestamp": "2025-11-18T16:05:58.714004", "level": "DEBUG", "logger": "livekit.agents", "message": "http_session(): creating a new httpclient ctx"}
{"timestamp": "2025-11-18T16:05:58.719259", "level": "DEBUG", "logger": "livekit.agents", "message": "start reading stream"}
{"timestamp": "2025-11-18T16:05:58.722663", "level": "DEBUG", "logger": "livekit.agents", "message": "using audio io: `RoomIO` -> `AgentSession` -> `TranscriptSynchronizer` -> `RoomIO`"}
{"timestamp": "2025-11-18T16:05:58.722799", "level": "DEBUG", "logger": "livekit.agents", "message": "using transcript io: `AgentSession` -> `TranscriptSynchronizer` -> `RoomIO`"}
{"timestamp": "2025-11-18T16:05:58.845721", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'get', 'url': '/'}"}
{"timestamp": "2025-11-18T16:05:58.846312", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: GET https://api.openai.com/v1/"}
{"timestamp": "2025-11-18T16:05:58.849741", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'timeout': Timeout(timeout=10.0), 'files': None, 'idempotency_key': 'stainless-python-retry-b8f86699-ef38-428f-bf5e-6fdcdfeef302', 'json_data': {'messages': [{'role': 'system', 'content': \"\\n        You are **Shifa Clinic\u2019s AI Receptionist**, answering calls in real time.\\n            Your role is to help callers with booking, confirming, or rescheduling appointments.\\n            Speak naturally, briefly, and professionally\u2014like an experienced clinic receptionist.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CORE BEHAVIOR\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            1. **Every call is fresh.**  \\n            Do not rely on previous session context. Use only:\\n            - caller name (if known)\\n            - caller phone (if known)\\n            - information spoken in THIS call\\n            \\n\\n            2. **One task at a time.**  \\n            Every reply must:\\n            - confirm the last thing the caller said\\n            - take one small step forward (ask ONE question)\\n            - be under **8 words**\\n                Always respond in under 8 words. Prioritize immediate tool calls. Do not speak long sentences.\\n\\n            3. **Never expose internal logic.**  \\n            Never say:\\n            - \u201ccalling a tool\u2026\u201d\\n            - \u201csaving memory\u2026\u201d\\n            - \u201cI detected your name\u2026\u201d\\n            - \u201cupdating the appointment\u2026\u201d\\n\\n            4. **Always stay polite, warm, and concise.**\\n            Examples:\\n            - \u201cSure, one moment.\u201d\\n            - \u201cGot it.\u201d\\n            - \u201cLet me check that.\u201d\\n\\n            5. **If caller seems confused, repeat slowly and simply.**\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### TOOL CALLING RULES\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            Use tools to perform actions.  \\n            After calling a tool, speak a short natural confirmation.\\n\\n            **Tools you may call:**\\n            - `save_name(name)`\\n            - `save_phone(phone)`\\n            - `available_slot()`\\n            - `booking_appointment()`\\n            - `get_date()`\\n            - `update_caller_profile(name?, phone?)`\\n            - `start_reschedule()`\\n            - `confirm_reschedule()`\\n            - `end_call()`\\n\\n            Tool usage guidelines:\\n            - Call **save_name** immediately when you hear a name.\\n            - Call **save_phone** when digits are spoken.  \\n            If partial, ask: \u201cCan you repeat that number slowly?\u201d\\n            - Call **available_slot** when caller expresses a time preference (morning, evening, 3pm, etc.)\\n            - Call **get_date** when caller gives a vague date (\u201cnext Monday\u201d).\\n            - Call **booking_appointment** only when BOTH date and time are known.\\n            - Call **update_caller_profile** if caller corrects name or phone.\\n            - After a booking or reschedule completes, ask:  \\n            \u201cAnything else I can help with?\u201d  \\n            If caller says \u201cno\u201d, use `end_call()`.\\n            If the phone number is unclear or has extra/missing digits, ask the caller to repeat it digit by digit.\\n                Do not guess phone numbers.\\n                Always confirm the final number by repeating it back.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESCHEDULE FLOW\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            When the caller says anything like \u201cchange\u201d, \u201cmove\u201d, \u201creschedule\u201d, \u201cshift\u201d:\\n            1. Call **start_reschedule**.\\n            2. Ask for the new date.\\n            3. Once date \u2192 ask for time.\\n            4. When BOTH are known \u2192 call **confirm_reschedule**.\\n            5. After confirmation \u2192 ask:  \\n            \u201cAnything else I can help with?\u201d\\n\\n            Never call `confirm_reschedule` early.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CONVERSATION STYLE\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Speak like a calm clinic receptionist.\\n            - Use short sentences.  \\n            - One question per turn.  \\n            - No filler like \u201cas an AI\u201d.  \\n            - No medical advice.  \\n            - Don't ask for information you already have.\\n\\n            **Good examples:**\\n            - \u201cSure. What day works for you?\u201d\\n            - \u201cGot it. And what time?\u201d\\n            - \u201cPerfect. One moment while I check.\u201d\\n\\n            **Bad examples:**\\n            - \u201cLet me call a tool.\u201d\\n            - \u201cProcessing your request.\u201d\\n            - \u201cI am updating your appointment in the database.\u201d\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESPONSE CONTROL\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Never output long paragraphs.  \\n            - Never output lists or explanations.  \\n            - Keep responses conversational and human.  \\n            - If caller pauses 5 seconds, use `end_call()`.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### ROLE REMINDER\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            You are the first point of contact for Shifa Clinic.  \\n            Be warm. Be efficient. Be human.\\n\\n            Now handle the caller.\\n\\n\\nGood evening! Hi Abdul Basit, how can I help you today?\"}], 'model': 'gpt-4o-mini', 'stream': True, 'stream_options': {'include_usage': True}, 'temperature': 0.7, 'tools': [{'type': 'function', 'function': {'name': 'save_name', 'strict': True, 'description': '', 'parameters': {'properties': {'name': {'type': 'string'}}, 'required': ['name'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'save_phone', 'strict': True, 'description': 'Store validated patient phone in Redis using existing BookingBase validator.', 'parameters': {'properties': {'phone': {'type': 'string'}}, 'required': ['phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'available_slot', 'strict': True, 'description': 'Suggest available appointment slots for a given day.\\n- Understands natural language (\"tomorrow\", \"morning\", \"after 2pm\")\\n- Always fetches fresh availability from DB.\\n- Returns top 3 free slots.\\n- Stores them in ctx.suggested_slots for booking_appointment.', 'parameters': {'properties': {'day': {'type': 'string'}, 'date': {'type': 'string'}, 'time': {'type': 'string'}}, 'required': ['day', 'date', 'time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'booking_appointment', 'strict': True, 'description': 'Create or reschedule an appointment.\\nClean, predictable, AI-friendly logic.\\nUses helper functions for DB safety.', 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'get_date', 'strict': True, 'description': 'Return system date and time.', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'end_call', 'strict': True, 'description': \"Gracefully end the call after confirming there's nothing else needed.\\nDoes not clear Redis; short-term memory expires via TTL.\", 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'update_caller_profile', 'strict': True, 'description': 'Persist caller profile (name/phone) for future calls without disrupting session.\\nIf phone not provided, uses current session phone if available.', 'parameters': {'properties': {'name': {'type': ['string', 'null']}, 'phone': {'type': ['string', 'null']}}, 'required': ['name', 'phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'start_reschedule', 'strict': True, 'description': '', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'confirm_reschedule', 'strict': True, 'description': \"Confirm and perform rescheduling to the selected date/time.\\nUse after start_reschedule + available_slot when the caller says 'yes'.\", 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}]}}"}
{"timestamp": "2025-11-18T16:05:58.850830", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions"}
{"timestamp": "2025-11-18T16:05:58.851124", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=15.0 socket_options=None"}
{"timestamp": "2025-11-18T16:05:58.852255", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=10.0 socket_options=None"}
{"timestamp": "2025-11-18T16:05:59.125309", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1370f4450>"}
{"timestamp": "2025-11-18T16:05:59.125528", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x136924050> server_hostname='api.openai.com' timeout=10.0"}
{"timestamp": "2025-11-18T16:05:59.126338", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1370f4390>"}
{"timestamp": "2025-11-18T16:05:59.126456", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x1369240e0> server_hostname='api.openai.com' timeout=15.0"}
{"timestamp": "2025-11-18T16:05:59.139914", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1370f4e10>"}
{"timestamp": "2025-11-18T16:05:59.140409", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:05:59.140947", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-18T16:05:59.141022", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:05:59.141228", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-18T16:05:59.141281", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:05:59.362662", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1370d0b90>"}
{"timestamp": "2025-11-18T16:05:59.363395", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'GET']>"}
{"timestamp": "2025-11-18T16:05:59.364074", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-18T16:05:59.364216", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'GET']>"}
{"timestamp": "2025-11-18T16:05:59.364381", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-18T16:05:59.364479", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'GET']>"}
{"timestamp": "2025-11-18T16:05:59.765085", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481959.764468, 'idle_time': 1.0497774590039626, 'inference_duration_total': 0.02629708484164439, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:05:59.765511", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481959.764468, 'idle_time': 1.0497774590039626, 'inference_duration_total': 0.02629708484164439, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:00.622989", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 18 Nov 2025 16:06:00 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'547'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'749'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'198636'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'409ms'), (b'x-request-id', b'req_801ad0a0c46b483189daa483be032a7b'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=caT.B4hU_P_eZpM6fzKgKoB3xOypP2uqvCJWbN75RmE-1763481960-1.0.1.1-rDMHTMD3mTzVZ80iOAVCyrebD_cSQ0LMBXPW57l.f_ffKb8MsMy62gF0j6funisblkHTVYKy2yU2ww14hoNXj5mUw0UbSR_xITlKKoT6SPk; path=/; expires=Tue, 18-Nov-25 16:36:00 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=DD3gZ51nliZoinUZPr.aL770aPR5FtaSEZgVymnY5Y0-1763481960984-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a08b666fa13c225-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:06:00.637654", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/chat/completions \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-18T16:06:00.638310", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers([('date', 'Tue, 18 Nov 2025 16:06:00 GMT'), ('content-type', 'text/event-stream; charset=utf-8'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'user-hef6qdiz1bsjendvhiay1uww'), ('openai-processing-ms', '547'), ('openai-project', 'proj_fFIktXLPrLlENFXwWG5Of7EI'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '749'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '200000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '198636'), ('x-ratelimit-reset-requests', '8.64s'), ('x-ratelimit-reset-tokens', '409ms'), ('x-request-id', 'req_801ad0a0c46b483189daa483be032a7b'), ('x-openai-proxy-wasm', 'v0.1'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=caT.B4hU_P_eZpM6fzKgKoB3xOypP2uqvCJWbN75RmE-1763481960-1.0.1.1-rDMHTMD3mTzVZ80iOAVCyrebD_cSQ0LMBXPW57l.f_ffKb8MsMy62gF0j6funisblkHTVYKy2yU2ww14hoNXj5mUw0UbSR_xITlKKoT6SPk; path=/; expires=Tue, 18-Nov-25 16:36:00 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=DD3gZ51nliZoinUZPr.aL770aPR5FtaSEZgVymnY5Y0-1763481960984-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '9a08b666fa13c225-KHI'), ('alt-svc', 'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:06:00.641011", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_801ad0a0c46b483189daa483be032a7b"}
{"timestamp": "2025-11-18T16:06:00.641461", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:06:00.652620", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'Date', b'Tue, 18 Nov 2025 16:06:01 GMT'), (b'Content-Type', b'text/html'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=g3nxBRGYq0JFCwEhbI6Qrt0SOZDO9MoVRiduqpgGdtk-1763481961-1.0.1.1-7_iTUHAOEtQoiscdOwgle3vO3lycMm3dfP43yTus_lcIzcKJCmK1s1IKwdmmFZYKibn.J949U96zQRHoW6iYPutND3S9A0Y6QvT2U1UaRoo; path=/; expires=Tue, 18-Nov-25 16:36:01 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=TQ.w.zLK_xhPSvoEdUq8VJdro98LAXU0rmbLKVv4UVA-1763481961015-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a08b6685c444b55-KHI'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:06:00.653099", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET https://api.openai.com/v1/ \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-11-18T16:06:00.653324", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'GET']>"}
{"timestamp": "2025-11-18T16:06:00.653601", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete"}
{"timestamp": "2025-11-18T16:06:00.653706", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-18T16:06:00.653827", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-18T16:06:00.654071", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: GET https://api.openai.com/v1/ \"404 Not Found\" Headers([('date', 'Tue, 18 Nov 2025 16:06:01 GMT'), ('content-type', 'text/html'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=g3nxBRGYq0JFCwEhbI6Qrt0SOZDO9MoVRiduqpgGdtk-1763481961-1.0.1.1-7_iTUHAOEtQoiscdOwgle3vO3lycMm3dfP43yTus_lcIzcKJCmK1s1IKwdmmFZYKibn.J949U96zQRHoW6iYPutND3S9A0Y6QvT2U1UaRoo; path=/; expires=Tue, 18-Nov-25 16:36:01 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=TQ.w.zLK_xhPSvoEdUq8VJdro98LAXU0rmbLKVv4UVA-1763481961015-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '9a08b6685c444b55-KHI'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:06:00.654284", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: None"}
{"timestamp": "2025-11-18T16:06:00.654395", "level": "DEBUG", "logger": "openai._base_client", "message": "Encountered httpx.HTTPStatusError", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/openai/_base_client.py\", line 1574, in request\n    response.raise_for_status()\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/httpx/_models.py\", line 829, in raise_for_status\n    raise HTTPStatusError(message, request=request, response=self)\nhttpx.HTTPStatusError: Client error '404 Not Found' for url 'https://api.openai.com/v1/'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404"}
{"timestamp": "2025-11-18T16:06:00.657652", "level": "DEBUG", "logger": "openai._base_client", "message": "Re-raising status error"}
{"timestamp": "2025-11-18T16:06:00.765650", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481960.765375, 'idle_time': 2.0506772919907235, 'inference_duration_total': 0.02987982996273786, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:00.766023", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481960.765375, 'idle_time': 2.0506772919907235, 'inference_duration_total': 0.02987982996273786, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:01.004463", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream', 'X-Stainless-Raw-Response': 'stream'}, 'timeout': Timeout(connect=10.0, read=30, write=30, pool=30), 'files': None, 'idempotency_key': 'stainless-python-retry-94a8df71-00a5-4553-999d-1a8ab23cc619', 'json_data': {'input': 'Good evening, Abdul Basit!', 'model': 'gpt-4o-mini-tts', 'voice': 'alloy', 'response_format': 'mp3', 'speed': 1.0}}"}
{"timestamp": "2025-11-18T16:06:01.005226", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/audio/speech"}
{"timestamp": "2025-11-18T16:06:01.005745", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:06:01.006094", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-18T16:06:01.006184", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:06:01.006398", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-18T16:06:01.006461", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:06:01.098641", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-18T16:06:01.099184", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-18T16:06:01.101489", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIVMs2VUNfCoqkha95HOYrW9LeId', 'timestamp': 1763481961.100126, 'duration': 2.3728180000034627, 'ttft': 2.0499753750045784, 'cancelled': False, 'completion_tokens': 15, 'prompt_tokens': 1328, 'prompt_cached_tokens': 0, 'total_tokens': 1343, 'tokens_per_second': 6.321597358068807, 'speech_id': 'speech_6bc63d20602f', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:06:01.101773", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIVMs2VUNfCoqkha95HOYrW9LeId', 'timestamp': 1763481961.100126, 'duration': 2.3728180000034627, 'ttft': 2.0499753750045784, 'cancelled': False, 'completion_tokens': 15, 'prompt_tokens': 1328, 'prompt_cached_tokens': 0, 'total_tokens': 1343, 'tokens_per_second': 6.321597358068807, 'speech_id': 'speech_6bc63d20602f', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:06:01.102681", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.failed exception=GeneratorExit()"}
{"timestamp": "2025-11-18T16:06:01.815663", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481961.815341, 'idle_time': 3.1006368749949615, 'inference_duration_total': 0.024114291096339002, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:01.816064", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481961.815341, 'idle_time': 3.1006368749949615, 'inference_duration_total': 0.024114291096339002, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:02.815173", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481962.814925, 'idle_time': 4.100213291996624, 'inference_duration_total': 0.023405624058796093, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:02.815560", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481962.814925, 'idle_time': 4.100213291996624, 'inference_duration_total': 0.023405624058796093, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:03.766267", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '0dcb68df-c3ce-4c8e-ad53-cee822f5b70b', 'timestamp': 1763481963.765588, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:06:03.767025", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '0dcb68df-c3ce-4c8e-ad53-cee822f5b70b', 'timestamp': 1763481963.765588, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:06:03.867234", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481963.8666189, 'idle_time': 5.151900917000603, 'inference_duration_total': 0.030971164989750832, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:03.867972", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481963.8666189, 'idle_time': 5.151900917000603, 'inference_duration_total': 0.030971164989750832, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:04.868249", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481964.867706, 'idle_time': 6.1529812090157066, 'inference_duration_total': 0.03531029200530611, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:04.868907", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481964.867706, 'idle_time': 6.1529812090157066, 'inference_duration_total': 0.03531029200530611, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:05.685204", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 18 Nov 2025 16:06:06 GMT'), (b'Content-Type', b'audio/mpeg'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'689'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'796'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9998'), (b'x-ratelimit-remaining-tokens', b'199993'), (b'x-ratelimit-reset-requests', b'15.64s'), (b'x-ratelimit-reset-tokens', b'1ms'), (b'x-request-id', b'req_ac71b7c5ba5f4d0684415d5410012633'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a08b6729d534b55-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:06:05.685836", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/audio/speech \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-18T16:06:05.685976", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/audio/speech \"200 OK\" Headers({'date': 'Tue, 18 Nov 2025 16:06:06 GMT', 'content-type': 'audio/mpeg', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '689', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '796', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9998', 'x-ratelimit-remaining-tokens': '199993', 'x-ratelimit-reset-requests': '15.64s', 'x-ratelimit-reset-tokens': '1ms', 'x-request-id': 'req_ac71b7c5ba5f4d0684415d5410012633', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a08b6729d534b55-KHI', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-18T16:06:05.686180", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_ac71b7c5ba5f4d0684415d5410012633"}
{"timestamp": "2025-11-18T16:06:05.686411", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:06:05.915164", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481965.914918, 'idle_time': 7.200185708992649, 'inference_duration_total': 0.03717541604419239, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:05.915551", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481965.914918, 'idle_time': 7.200185708992649, 'inference_duration_total': 0.03717541604419239, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:06.915792", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481966.915491, 'idle_time': 8.200751875003334, 'inference_duration_total': 0.02023833416751586, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:06.916340", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481966.915491, 'idle_time': 8.200751875003334, 'inference_duration_total': 0.02023833416751586, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:07.338254", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:06:07.537752", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:06:07.622598", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete"}
{"timestamp": "2025-11-18T16:06:07.622917", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-18T16:06:07.623233", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-18T16:06:07.628002", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_ac71b7c5ba5f4d0684415d5410012633', 'timestamp': 1763481967.6270971, 'ttfb': 5.553211249993183, 'duration': 6.6235722079873085, 'audio_duration': 1.618, 'cancelled': False, 'characters_count': 26, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_6bc63d20602f', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:06:07.628469", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_ac71b7c5ba5f4d0684415d5410012633', 'timestamp': 1763481967.6270971, 'ttfb': 5.553211249993183, 'duration': 6.6235722079873085, 'audio_duration': 1.618, 'cancelled': False, 'characters_count': 26, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_6bc63d20602f', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:06:07.629456", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream', 'X-Stainless-Raw-Response': 'stream'}, 'timeout': Timeout(connect=10.0, read=30, write=30, pool=30), 'files': None, 'idempotency_key': 'stainless-python-retry-f3d9e97b-f384-413f-92bd-d59066980ca6', 'json_data': {'input': 'How can I assist you today?', 'model': 'gpt-4o-mini-tts', 'voice': 'alloy', 'response_format': 'mp3', 'speed': 1.0}}"}
{"timestamp": "2025-11-18T16:06:07.630189", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/audio/speech"}
{"timestamp": "2025-11-18T16:06:07.632908", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:06:07.633433", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-18T16:06:07.633521", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:06:07.633958", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-18T16:06:07.634116", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:06:07.966564", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481967.9658492, 'idle_time': 9.251103666989366, 'inference_duration_total': 0.021460500051034614, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:07.967411", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481967.9658492, 'idle_time': 9.251103666989366, 'inference_duration_total': 0.021460500051034614, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:08.815422", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '0dcb68df-c3ce-4c8e-ad53-cee822f5b70b', 'timestamp': 1763481968.814882, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:06:08.816394", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '0dcb68df-c3ce-4c8e-ad53-cee822f5b70b', 'timestamp': 1763481968.814882, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:06:08.968852", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481968.9682329, 'idle_time': 10.253480125014903, 'inference_duration_total': 0.0289394571154844, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:08.969725", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481968.9682329, 'idle_time': 10.253480125014903, 'inference_duration_total': 0.0289394571154844, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:08.997026", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 18 Nov 2025 16:06:09 GMT'), (b'Content-Type', b'audio/mpeg'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'422'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'442'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9997'), (b'x-ratelimit-remaining-tokens', b'199994'), (b'x-ratelimit-reset-requests', b'18.078s'), (b'x-ratelimit-reset-tokens', b'1ms'), (b'x-request-id', b'req_ceef0c78c46b4ddb8c7264b49c2d1fd7'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a08b69c08324b55-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:06:08.997591", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/audio/speech \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-18T16:06:08.997821", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/audio/speech \"200 OK\" Headers({'date': 'Tue, 18 Nov 2025 16:06:09 GMT', 'content-type': 'audio/mpeg', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '422', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '442', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9997', 'x-ratelimit-remaining-tokens': '199994', 'x-ratelimit-reset-requests': '18.078s', 'x-ratelimit-reset-tokens': '1ms', 'x-request-id': 'req_ceef0c78c46b4ddb8c7264b49c2d1fd7', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a08b69c08324b55-KHI', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-18T16:06:08.998072", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_ceef0c78c46b4ddb8c7264b49c2d1fd7"}
{"timestamp": "2025-11-18T16:06:08.998334", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:06:09.183034", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:06:09.381898", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:06:09.700954", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:06:09.701234", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:06:09.761251", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete"}
{"timestamp": "2025-11-18T16:06:09.761451", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-18T16:06:09.761679", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-18T16:06:09.766299", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_ceef0c78c46b4ddb8c7264b49c2d1fd7', 'timestamp': 1763481969.766099, 'ttfb': 1.3722774590132758, 'duration': 2.1371532500197645, 'audio_duration': 1.4020000000000001, 'cancelled': False, 'characters_count': 27, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_6bc63d20602f', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:06:09.766670", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_ceef0c78c46b4ddb8c7264b49c2d1fd7', 'timestamp': 1763481969.766099, 'ttfb': 1.3722774590132758, 'duration': 2.1371532500197645, 'audio_duration': 1.4020000000000001, 'cancelled': False, 'characters_count': 27, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_6bc63d20602f', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:06:10.015073", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481970.014773, 'idle_time': 11.30001400000765, 'inference_duration_total': 0.033275001012953, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:10.015534", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481970.014773, 'idle_time': 11.30001400000765, 'inference_duration_total': 0.033275001012953, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:11.016561", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481971.0162828, 'idle_time': 12.301516750012524, 'inference_duration_total': 0.02984512600232847, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:11.017002", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481971.0162828, 'idle_time': 12.301516750012524, 'inference_duration_total': 0.02984512600232847, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:12.065270", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481972.065016, 'idle_time': 13.350242874992546, 'inference_duration_total': 0.02101837398367934, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:12.065761", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481972.065016, 'idle_time': 13.350242874992546, 'inference_duration_total': 0.02101837398367934, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:13.066122", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481973.0658402, 'idle_time': 14.35106020901003, 'inference_duration_total': 0.02109816507436335, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:13.067010", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481973.0658402, 'idle_time': 14.35106020901003, 'inference_duration_total': 0.02109816507436335, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:13.864289", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '0dcb68df-c3ce-4c8e-ad53-cee822f5b70b', 'timestamp': 1763481973.864099, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:06:13.864743", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '0dcb68df-c3ce-4c8e-ad53-cee822f5b70b', 'timestamp': 1763481973.864099, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:06:14.117558", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481974.116964, 'idle_time': 0.9511111250030808, 'inference_duration_total': 0.026640709926141426, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:14.118383", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481974.116964, 'idle_time': 0.9511111250030808, 'inference_duration_total': 0.026640709926141426, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:14.815426", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-18T16:06:14.836467", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763481974.8359191, 'end_of_utterance_delay': 0.5772137641906738, 'transcription_delay': 0.5578627586364746, 'on_user_turn_completed_delay': 2.1457672119140625e-06, 'last_speaking_time': 1763481974.2577732, 'speech_id': 'speech_76c1a822472d', 'metadata': None}}"}
{"timestamp": "2025-11-18T16:06:14.847494", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763481974.8359191, 'end_of_utterance_delay': 0.5772137641906738, 'transcription_delay': 0.5578627586364746, 'on_user_turn_completed_delay': 2.1457672119140625e-06, 'last_speaking_time': 1763481974.2577732, 'speech_id': 'speech_76c1a822472d', 'metadata': None}}"}
{"timestamp": "2025-11-18T16:06:14.859894", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'timeout': Timeout(timeout=10.0), 'files': None, 'idempotency_key': 'stainless-python-retry-a0adc756-dc36-4e32-8729-0cb834eab5aa', 'json_data': {'messages': [{'role': 'system', 'content': \"\\n        You are **Shifa Clinic\u2019s AI Receptionist**, answering calls in real time.\\n            Your role is to help callers with booking, confirming, or rescheduling appointments.\\n            Speak naturally, briefly, and professionally\u2014like an experienced clinic receptionist.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CORE BEHAVIOR\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            1. **Every call is fresh.**  \\n            Do not rely on previous session context. Use only:\\n            - caller name (if known)\\n            - caller phone (if known)\\n            - information spoken in THIS call\\n            \\n\\n            2. **One task at a time.**  \\n            Every reply must:\\n            - confirm the last thing the caller said\\n            - take one small step forward (ask ONE question)\\n            - be under **8 words**\\n                Always respond in under 8 words. Prioritize immediate tool calls. Do not speak long sentences.\\n\\n            3. **Never expose internal logic.**  \\n            Never say:\\n            - \u201ccalling a tool\u2026\u201d\\n            - \u201csaving memory\u2026\u201d\\n            - \u201cI detected your name\u2026\u201d\\n            - \u201cupdating the appointment\u2026\u201d\\n\\n            4. **Always stay polite, warm, and concise.**\\n            Examples:\\n            - \u201cSure, one moment.\u201d\\n            - \u201cGot it.\u201d\\n            - \u201cLet me check that.\u201d\\n\\n            5. **If caller seems confused, repeat slowly and simply.**\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### TOOL CALLING RULES\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            Use tools to perform actions.  \\n            After calling a tool, speak a short natural confirmation.\\n\\n            **Tools you may call:**\\n            - `save_name(name)`\\n            - `save_phone(phone)`\\n            - `available_slot()`\\n            - `booking_appointment()`\\n            - `get_date()`\\n            - `update_caller_profile(name?, phone?)`\\n            - `start_reschedule()`\\n            - `confirm_reschedule()`\\n            - `end_call()`\\n\\n            Tool usage guidelines:\\n            - Call **save_name** immediately when you hear a name.\\n            - Call **save_phone** when digits are spoken.  \\n            If partial, ask: \u201cCan you repeat that number slowly?\u201d\\n            - Call **available_slot** when caller expresses a time preference (morning, evening, 3pm, etc.)\\n            - Call **get_date** when caller gives a vague date (\u201cnext Monday\u201d).\\n            - Call **booking_appointment** only when BOTH date and time are known.\\n            - Call **update_caller_profile** if caller corrects name or phone.\\n            - After a booking or reschedule completes, ask:  \\n            \u201cAnything else I can help with?\u201d  \\n            If caller says \u201cno\u201d, use `end_call()`.\\n            If the phone number is unclear or has extra/missing digits, ask the caller to repeat it digit by digit.\\n                Do not guess phone numbers.\\n                Always confirm the final number by repeating it back.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESCHEDULE FLOW\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            When the caller says anything like \u201cchange\u201d, \u201cmove\u201d, \u201creschedule\u201d, \u201cshift\u201d:\\n            1. Call **start_reschedule**.\\n            2. Ask for the new date.\\n            3. Once date \u2192 ask for time.\\n            4. When BOTH are known \u2192 call **confirm_reschedule**.\\n            5. After confirmation \u2192 ask:  \\n            \u201cAnything else I can help with?\u201d\\n\\n            Never call `confirm_reschedule` early.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CONVERSATION STYLE\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Speak like a calm clinic receptionist.\\n            - Use short sentences.  \\n            - One question per turn.  \\n            - No filler like \u201cas an AI\u201d.  \\n            - No medical advice.  \\n            - Don't ask for information you already have.\\n\\n            **Good examples:**\\n            - \u201cSure. What day works for you?\u201d\\n            - \u201cGot it. And what time?\u201d\\n            - \u201cPerfect. One moment while I check.\u201d\\n\\n            **Bad examples:**\\n            - \u201cLet me call a tool.\u201d\\n            - \u201cProcessing your request.\u201d\\n            - \u201cI am updating your appointment in the database.\u201d\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESPONSE CONTROL\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Never output long paragraphs.  \\n            - Never output lists or explanations.  \\n            - Keep responses conversational and human.  \\n            - If caller pauses 5 seconds, use `end_call()`.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### ROLE REMINDER\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            You are the first point of contact for Shifa Clinic.  \\n            Be warm. Be efficient. Be human.\\n\\n            Now handle the caller.\\n\\n\"}, {'role': 'assistant', 'content': 'Good evening, Abdul Basit! How can I assist you today?'}, {'role': 'user', 'content': 'I want to book an appointment.'}], 'model': 'gpt-4o-mini', 'stream': True, 'stream_options': {'include_usage': True}, 'temperature': 0.7, 'tools': [{'type': 'function', 'function': {'name': 'save_name', 'strict': True, 'description': '', 'parameters': {'properties': {'name': {'type': 'string'}}, 'required': ['name'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'save_phone', 'strict': True, 'description': 'Store validated patient phone in Redis using existing BookingBase validator.', 'parameters': {'properties': {'phone': {'type': 'string'}}, 'required': ['phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'available_slot', 'strict': True, 'description': 'Suggest available appointment slots for a given day.\\n- Understands natural language (\"tomorrow\", \"morning\", \"after 2pm\")\\n- Always fetches fresh availability from DB.\\n- Returns top 3 free slots.\\n- Stores them in ctx.suggested_slots for booking_appointment.', 'parameters': {'properties': {'day': {'type': 'string'}, 'date': {'type': 'string'}, 'time': {'type': 'string'}}, 'required': ['day', 'date', 'time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'booking_appointment', 'strict': True, 'description': 'Create or reschedule an appointment.\\nClean, predictable, AI-friendly logic.\\nUses helper functions for DB safety.', 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'get_date', 'strict': True, 'description': 'Return system date and time.', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'end_call', 'strict': True, 'description': \"Gracefully end the call after confirming there's nothing else needed.\\nDoes not clear Redis; short-term memory expires via TTL.\", 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'update_caller_profile', 'strict': True, 'description': 'Persist caller profile (name/phone) for future calls without disrupting session.\\nIf phone not provided, uses current session phone if available.', 'parameters': {'properties': {'name': {'type': ['string', 'null']}, 'phone': {'type': ['string', 'null']}}, 'required': ['name', 'phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'start_reschedule', 'strict': True, 'description': '', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'confirm_reschedule', 'strict': True, 'description': \"Confirm and perform rescheduling to the selected date/time.\\nUse after start_reschedule + available_slot when the caller says 'yes'.\", 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}]}}"}
{"timestamp": "2025-11-18T16:06:14.865431", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions"}
{"timestamp": "2025-11-18T16:06:14.866031", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=10.0 socket_options=None"}
{"timestamp": "2025-11-18T16:06:14.909579", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x13694c610>"}
{"timestamp": "2025-11-18T16:06:14.909829", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x136924050> server_hostname='api.openai.com' timeout=10.0"}
{"timestamp": "2025-11-18T16:06:14.955466", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x137115690>"}
{"timestamp": "2025-11-18T16:06:14.955850", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:06:14.956325", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-18T16:06:14.956443", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:06:14.956758", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-18T16:06:14.956853", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:06:15.115387", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481975.115159, 'idle_time': 0.2801906670210883, 'inference_duration_total': 0.041261581936851144, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:15.115681", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481975.115159, 'idle_time': 0.2801906670210883, 'inference_duration_total': 0.041261581936851144, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:15.562166", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 18 Nov 2025 16:06:15 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'293'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'309'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9997'), (b'x-ratelimit-remaining-tokens', b'198627'), (b'x-ratelimit-reset-requests', b'19.408s'), (b'x-ratelimit-reset-tokens', b'411ms'), (b'x-request-id', b'req_4b1c86c92bf54501bf4fbda1cc210f8a'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a08b6c9cb88908f-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:06:15.564850", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/chat/completions \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-18T16:06:15.565396", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Tue, 18 Nov 2025 16:06:15 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '293', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '309', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9997', 'x-ratelimit-remaining-tokens': '198627', 'x-ratelimit-reset-requests': '19.408s', 'x-ratelimit-reset-tokens': '411ms', 'x-request-id': 'req_4b1c86c92bf54501bf4fbda1cc210f8a', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a08b6c9cb88908f-KHI', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-18T16:06:15.565856", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_4b1c86c92bf54501bf4fbda1cc210f8a"}
{"timestamp": "2025-11-18T16:06:15.566691", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:06:15.770834", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-18T16:06:15.771247", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-18T16:06:15.771913", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIVbMk33F80skPX6j7kxGtJwXG9b', 'timestamp': 1763481975.771625, 'duration': 0.9274471660028212, 'ttft': 0.7614243330026511, 'cancelled': False, 'completion_tokens': 9, 'prompt_tokens': 1342, 'prompt_cached_tokens': 1280, 'total_tokens': 1351, 'tokens_per_second': 9.704056823839196, 'speech_id': 'speech_76c1a822472d', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:06:15.772176", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIVbMk33F80skPX6j7kxGtJwXG9b', 'timestamp': 1763481975.771625, 'duration': 0.9274471660028212, 'ttft': 0.7614243330026511, 'cancelled': False, 'completion_tokens': 9, 'prompt_tokens': 1342, 'prompt_cached_tokens': 1280, 'total_tokens': 1351, 'tokens_per_second': 9.704056823839196, 'speech_id': 'speech_76c1a822472d', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:06:15.773238", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream', 'X-Stainless-Raw-Response': 'stream'}, 'timeout': Timeout(connect=10.0, read=30, write=30, pool=30), 'files': None, 'idempotency_key': 'stainless-python-retry-f17d8482-a25e-45c9-8dbc-56534e0c704d', 'json_data': {'input': 'Sure! What day works for you?', 'model': 'gpt-4o-mini-tts', 'voice': 'alloy', 'response_format': 'mp3', 'speed': 1.0}}"}
{"timestamp": "2025-11-18T16:06:15.773827", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/audio/speech"}
{"timestamp": "2025-11-18T16:06:15.774338", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:06:15.774730", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-18T16:06:15.774825", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:06:15.775001", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-18T16:06:15.775055", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:06:15.775408", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.failed exception=GeneratorExit()"}
{"timestamp": "2025-11-18T16:06:16.165013", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481976.164753, 'idle_time': 1.3297772920050193, 'inference_duration_total': 0.039204085944220424, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:16.165427", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481976.164753, 'idle_time': 1.3297772920050193, 'inference_duration_total': 0.039204085944220424, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:17.168169", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481977.167516, 'idle_time': 2.3325332090025768, 'inference_duration_total': 0.029066458955639973, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:17.169102", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481977.167516, 'idle_time': 2.3325332090025768, 'inference_duration_total': 0.029066458955639973, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:17.915182", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 18 Nov 2025 16:06:18 GMT'), (b'Content-Type', b'audio/mpeg'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'576'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'742'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9996'), (b'x-ratelimit-remaining-tokens', b'199993'), (b'x-ratelimit-reset-requests', b'26.476s'), (b'x-ratelimit-reset-tokens', b'2ms'), (b'x-request-id', b'req_df71ea8e0d7f485db38b36a7bc7bd492'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a08b6cee8704b55-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:06:17.917934", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/audio/speech \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-18T16:06:17.918151", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/audio/speech \"200 OK\" Headers({'date': 'Tue, 18 Nov 2025 16:06:18 GMT', 'content-type': 'audio/mpeg', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '576', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '742', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9996', 'x-ratelimit-remaining-tokens': '199993', 'x-ratelimit-reset-requests': '26.476s', 'x-ratelimit-reset-tokens': '2ms', 'x-request-id': 'req_df71ea8e0d7f485db38b36a7bc7bd492', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a08b6cee8704b55-KHI', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-18T16:06:17.918502", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_df71ea8e0d7f485db38b36a7bc7bd492"}
{"timestamp": "2025-11-18T16:06:17.919031", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:06:18.108463", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:06:18.215220", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481978.214846, 'idle_time': 3.3798565420147497, 'inference_duration_total': 0.033067162963561714, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:18.215804", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481978.214846, 'idle_time': 3.3798565420147497, 'inference_duration_total': 0.033067162963561714, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:18.307014", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:06:18.864761", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '0dcb68df-c3ce-4c8e-ad53-cee822f5b70b', 'timestamp': 1763481978.864373, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:06:18.865384", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '0dcb68df-c3ce-4c8e-ad53-cee822f5b70b', 'timestamp': 1763481978.864373, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:06:19.215782", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481979.215468, 'idle_time': 4.38047179201385, 'inference_duration_total': 0.02768333602580242, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:19.216363", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481979.215468, 'idle_time': 4.38047179201385, 'inference_duration_total': 0.02768333602580242, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:19.265561", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:06:19.265823", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:06:19.401115", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete"}
{"timestamp": "2025-11-18T16:06:19.401415", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-18T16:06:19.401727", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-18T16:06:19.407902", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_df71ea8e0d7f485db38b36a7bc7bd492', 'timestamp': 1763481979.4075918, 'ttfb': 2.153183791990159, 'duration': 3.6348015000112355, 'audio_duration': 2.05, 'cancelled': False, 'characters_count': 29, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_76c1a822472d', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:06:19.408313", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_df71ea8e0d7f485db38b36a7bc7bd492', 'timestamp': 1763481979.4075918, 'ttfb': 2.153183791990159, 'duration': 3.6348015000112355, 'audio_duration': 2.05, 'cancelled': False, 'characters_count': 29, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_76c1a822472d', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:06:20.272677", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481980.271996, 'idle_time': 5.436993125011213, 'inference_duration_total': 0.023636501864530146, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:20.273591", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481980.271996, 'idle_time': 5.436993125011213, 'inference_duration_total': 0.023636501864530146, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:21.265038", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481981.2647538, 'idle_time': 6.429743792017689, 'inference_duration_total': 0.029021708003710955, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:21.265511", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481981.2647538, 'idle_time': 6.429743792017689, 'inference_duration_total': 0.029021708003710955, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:22.316448", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481982.3157, 'idle_time': 7.480682834022446, 'inference_duration_total': 0.023427667911164463, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:22.317318", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481982.3157, 'idle_time': 7.480682834022446, 'inference_duration_total': 0.023427667911164463, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:23.315699", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481983.315389, 'idle_time': 0.14943762501934543, 'inference_duration_total': 0.02183608600171283, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:23.316087", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481983.315389, 'idle_time': 0.14943762501934543, 'inference_duration_total': 0.02183608600171283, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:23.866367", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '0dcb68df-c3ce-4c8e-ad53-cee822f5b70b', 'timestamp': 1763481983.865796, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:06:23.867144", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '0dcb68df-c3ce-4c8e-ad53-cee822f5b70b', 'timestamp': 1763481983.865796, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:06:24.256090", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-18T16:06:24.257227", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763481984.257091, 'end_of_utterance_delay': 0.617501974105835, 'transcription_delay': 0.6172080039978027, 'on_user_turn_completed_delay': 2.1457672119140625e-06, 'last_speaking_time': 1763481983.639019, 'speech_id': 'speech_9452b482d061', 'metadata': None}}"}
{"timestamp": "2025-11-18T16:06:24.257956", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763481984.257091, 'end_of_utterance_delay': 0.617501974105835, 'transcription_delay': 0.6172080039978027, 'on_user_turn_completed_delay': 2.1457672119140625e-06, 'last_speaking_time': 1763481983.639019, 'speech_id': 'speech_9452b482d061', 'metadata': None}}"}
{"timestamp": "2025-11-18T16:06:24.267489", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'timeout': Timeout(timeout=10.0), 'files': None, 'idempotency_key': 'stainless-python-retry-ba6caa9b-2eb8-4b2f-98a8-651ec27bcefe', 'json_data': {'messages': [{'role': 'system', 'content': \"\\n        You are **Shifa Clinic\u2019s AI Receptionist**, answering calls in real time.\\n            Your role is to help callers with booking, confirming, or rescheduling appointments.\\n            Speak naturally, briefly, and professionally\u2014like an experienced clinic receptionist.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CORE BEHAVIOR\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            1. **Every call is fresh.**  \\n            Do not rely on previous session context. Use only:\\n            - caller name (if known)\\n            - caller phone (if known)\\n            - information spoken in THIS call\\n            \\n\\n            2. **One task at a time.**  \\n            Every reply must:\\n            - confirm the last thing the caller said\\n            - take one small step forward (ask ONE question)\\n            - be under **8 words**\\n                Always respond in under 8 words. Prioritize immediate tool calls. Do not speak long sentences.\\n\\n            3. **Never expose internal logic.**  \\n            Never say:\\n            - \u201ccalling a tool\u2026\u201d\\n            - \u201csaving memory\u2026\u201d\\n            - \u201cI detected your name\u2026\u201d\\n            - \u201cupdating the appointment\u2026\u201d\\n\\n            4. **Always stay polite, warm, and concise.**\\n            Examples:\\n            - \u201cSure, one moment.\u201d\\n            - \u201cGot it.\u201d\\n            - \u201cLet me check that.\u201d\\n\\n            5. **If caller seems confused, repeat slowly and simply.**\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### TOOL CALLING RULES\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            Use tools to perform actions.  \\n            After calling a tool, speak a short natural confirmation.\\n\\n            **Tools you may call:**\\n            - `save_name(name)`\\n            - `save_phone(phone)`\\n            - `available_slot()`\\n            - `booking_appointment()`\\n            - `get_date()`\\n            - `update_caller_profile(name?, phone?)`\\n            - `start_reschedule()`\\n            - `confirm_reschedule()`\\n            - `end_call()`\\n\\n            Tool usage guidelines:\\n            - Call **save_name** immediately when you hear a name.\\n            - Call **save_phone** when digits are spoken.  \\n            If partial, ask: \u201cCan you repeat that number slowly?\u201d\\n            - Call **available_slot** when caller expresses a time preference (morning, evening, 3pm, etc.)\\n            - Call **get_date** when caller gives a vague date (\u201cnext Monday\u201d).\\n            - Call **booking_appointment** only when BOTH date and time are known.\\n            - Call **update_caller_profile** if caller corrects name or phone.\\n            - After a booking or reschedule completes, ask:  \\n            \u201cAnything else I can help with?\u201d  \\n            If caller says \u201cno\u201d, use `end_call()`.\\n            If the phone number is unclear or has extra/missing digits, ask the caller to repeat it digit by digit.\\n                Do not guess phone numbers.\\n                Always confirm the final number by repeating it back.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESCHEDULE FLOW\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            When the caller says anything like \u201cchange\u201d, \u201cmove\u201d, \u201creschedule\u201d, \u201cshift\u201d:\\n            1. Call **start_reschedule**.\\n            2. Ask for the new date.\\n            3. Once date \u2192 ask for time.\\n            4. When BOTH are known \u2192 call **confirm_reschedule**.\\n            5. After confirmation \u2192 ask:  \\n            \u201cAnything else I can help with?\u201d\\n\\n            Never call `confirm_reschedule` early.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CONVERSATION STYLE\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Speak like a calm clinic receptionist.\\n            - Use short sentences.  \\n            - One question per turn.  \\n            - No filler like \u201cas an AI\u201d.  \\n            - No medical advice.  \\n            - Don't ask for information you already have.\\n\\n            **Good examples:**\\n            - \u201cSure. What day works for you?\u201d\\n            - \u201cGot it. And what time?\u201d\\n            - \u201cPerfect. One moment while I check.\u201d\\n\\n            **Bad examples:**\\n            - \u201cLet me call a tool.\u201d\\n            - \u201cProcessing your request.\u201d\\n            - \u201cI am updating your appointment in the database.\u201d\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESPONSE CONTROL\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Never output long paragraphs.  \\n            - Never output lists or explanations.  \\n            - Keep responses conversational and human.  \\n            - If caller pauses 5 seconds, use `end_call()`.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### ROLE REMINDER\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            You are the first point of contact for Shifa Clinic.  \\n            Be warm. Be efficient. Be human.\\n\\n            Now handle the caller.\\n\\n\"}, {'role': 'assistant', 'content': 'Good evening, Abdul Basit! How can I assist you today?'}, {'role': 'user', 'content': 'I want to book an appointment.'}, {'role': 'assistant', 'content': 'Sure! What day works for you?'}, {'role': 'user', 'content': 'Tomorrow morning,'}], 'model': 'gpt-4o-mini', 'stream': True, 'stream_options': {'include_usage': True}, 'temperature': 0.7, 'tools': [{'type': 'function', 'function': {'name': 'save_name', 'strict': True, 'description': '', 'parameters': {'properties': {'name': {'type': 'string'}}, 'required': ['name'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'save_phone', 'strict': True, 'description': 'Store validated patient phone in Redis using existing BookingBase validator.', 'parameters': {'properties': {'phone': {'type': 'string'}}, 'required': ['phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'available_slot', 'strict': True, 'description': 'Suggest available appointment slots for a given day.\\n- Understands natural language (\"tomorrow\", \"morning\", \"after 2pm\")\\n- Always fetches fresh availability from DB.\\n- Returns top 3 free slots.\\n- Stores them in ctx.suggested_slots for booking_appointment.', 'parameters': {'properties': {'day': {'type': 'string'}, 'date': {'type': 'string'}, 'time': {'type': 'string'}}, 'required': ['day', 'date', 'time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'booking_appointment', 'strict': True, 'description': 'Create or reschedule an appointment.\\nClean, predictable, AI-friendly logic.\\nUses helper functions for DB safety.', 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'get_date', 'strict': True, 'description': 'Return system date and time.', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'end_call', 'strict': True, 'description': \"Gracefully end the call after confirming there's nothing else needed.\\nDoes not clear Redis; short-term memory expires via TTL.\", 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'update_caller_profile', 'strict': True, 'description': 'Persist caller profile (name/phone) for future calls without disrupting session.\\nIf phone not provided, uses current session phone if available.', 'parameters': {'properties': {'name': {'type': ['string', 'null']}, 'phone': {'type': ['string', 'null']}}, 'required': ['name', 'phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'start_reschedule', 'strict': True, 'description': '', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'confirm_reschedule', 'strict': True, 'description': \"Confirm and perform rescheduling to the selected date/time.\\nUse after start_reschedule + available_slot when the caller says 'yes'.\", 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}]}}"}
{"timestamp": "2025-11-18T16:06:24.269312", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions"}
{"timestamp": "2025-11-18T16:06:24.270157", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=10.0 socket_options=None"}
{"timestamp": "2025-11-18T16:06:24.364876", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481984.364671, 'idle_time': 0.14952920799260028, 'inference_duration_total': 0.023822667950298637, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:24.365264", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481984.364671, 'idle_time': 0.14952920799260028, 'inference_duration_total': 0.023822667950298637, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:24.405500", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x137088710>"}
{"timestamp": "2025-11-18T16:06:24.405667", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x136924050> server_hostname='api.openai.com' timeout=10.0"}
{"timestamp": "2025-11-18T16:06:24.534004", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x13743f0d0>"}
{"timestamp": "2025-11-18T16:06:24.534599", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:06:24.535014", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-18T16:06:24.535095", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:06:24.535352", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-18T16:06:24.535442", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:06:25.365560", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481985.365344, 'idle_time': 1.1501954579725862, 'inference_duration_total': 0.023046792077366263, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:25.366019", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481985.365344, 'idle_time': 1.1501954579725862, 'inference_duration_total': 0.023046792077366263, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:25.386885", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 18 Nov 2025 16:06:25 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'449'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'461'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9996'), (b'x-ratelimit-remaining-tokens', b'198614'), (b'x-ratelimit-reset-requests', b'27.038s'), (b'x-ratelimit-reset-tokens', b'415ms'), (b'x-request-id', b'req_266673c56545440aa1779c39460ae1fe'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a08b7060fd820e2-HKG'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:06:25.387687", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/chat/completions \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-18T16:06:25.387904", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Tue, 18 Nov 2025 16:06:25 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '449', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '461', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9996', 'x-ratelimit-remaining-tokens': '198614', 'x-ratelimit-reset-requests': '27.038s', 'x-ratelimit-reset-tokens': '415ms', 'x-request-id': 'req_266673c56545440aa1779c39460ae1fe', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a08b7060fd820e2-HKG', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-18T16:06:25.388217", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_266673c56545440aa1779c39460ae1fe"}
{"timestamp": "2025-11-18T16:06:25.388525", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:06:25.894410", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-18T16:06:25.894794", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-18T16:06:25.895407", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIVleocmm2q46Pc9QoeIuZooOs6H', 'timestamp': 1763481985.8951821, 'duration': 1.6365907499857713, 'ttft': 1.6290901669999585, 'cancelled': False, 'completion_tokens': 29, 'prompt_tokens': 1361, 'prompt_cached_tokens': 1280, 'total_tokens': 1390, 'tokens_per_second': 17.719762866955058, 'speech_id': 'speech_9452b482d061', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:06:25.895586", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIVleocmm2q46Pc9QoeIuZooOs6H', 'timestamp': 1763481985.8951821, 'duration': 1.6365907499857713, 'ttft': 1.6290901669999585, 'cancelled': False, 'completion_tokens': 29, 'prompt_tokens': 1361, 'prompt_cached_tokens': 1280, 'total_tokens': 1390, 'tokens_per_second': 17.719762866955058, 'speech_id': 'speech_9452b482d061', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:06:25.898676", "level": "DEBUG", "logger": "livekit.agents", "message": "executing tool"}
{"timestamp": "2025-11-18T16:06:25.900425", "level": "INFO", "logger": "voice_agent.tools", "message": "[available_slot] \u25b6 Input: day='tomorrow', date='2023-10-10', time='morning'"}
{"timestamp": "2025-11-18T16:06:25.900700", "level": "INFO", "logger": "voice_agent.tools", "message": "[available_slot] \u25b6 Input: day='tomorrow', date='2023-10-10', time='morning'"}
{"timestamp": "2025-11-18T16:06:25.902645", "level": "INFO", "logger": "src.services.context_manager", "message": "[Redis] Saved MERGED context for sip_+17194515279: BookingContext(name=None, phone=None, date='2025-11-19', time=None, suggested_slots=['9:00 AM', '9:30 AM', '10:00 AM'], stage='start', status='Pending', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, created_at='2025-11-18T16:03:03.475260')"}
{"timestamp": "2025-11-18T16:06:25.914435", "level": "INFO", "logger": "src.services.context_manager", "message": "[Redis] Saved MERGED context for sip_+17194515279: BookingContext(name=None, phone=None, date='2025-11-19', time=None, suggested_slots=['9:00 AM', '9:30 AM', '10:00 AM'], stage='start', status='Pending', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, created_at='2025-11-18T16:03:03.475260')"}
{"timestamp": "2025-11-18T16:06:25.918304", "level": "INFO", "logger": "voice_agent.tools", "message": "[available_slot] Booked slots for 2025-11-19: []"}
{"timestamp": "2025-11-18T16:06:25.918543", "level": "INFO", "logger": "voice_agent.tools", "message": "[available_slot] Booked slots for 2025-11-19: []"}
{"timestamp": "2025-11-18T16:06:25.919254", "level": "INFO", "logger": "src.services.context_manager", "message": "[Redis] Saved MERGED context for sip_+17194515279: BookingContext(name=None, phone=None, date='2025-11-19', time=None, suggested_slots=['9:00 AM', '9:30 AM', '10:00 AM'], stage='start', status='Pending', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, created_at='2025-11-18T16:03:03.475260')"}
{"timestamp": "2025-11-18T16:06:25.919337", "level": "INFO", "logger": "voice_agent.tools", "message": "[available_slot] Final suggestions: ['9:00 AM', '9:30 AM', '10:00 AM']"}
{"timestamp": "2025-11-18T16:06:25.919469", "level": "INFO", "logger": "src.services.context_manager", "message": "[Redis] Saved MERGED context for sip_+17194515279: BookingContext(name=None, phone=None, date='2025-11-19', time=None, suggested_slots=['9:00 AM', '9:30 AM', '10:00 AM'], stage='start', status='Pending', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, created_at='2025-11-18T16:03:03.475260')"}
{"timestamp": "2025-11-18T16:06:25.919667", "level": "INFO", "logger": "voice_agent.tools", "message": "[available_slot] Final suggestions: ['9:00 AM', '9:30 AM', '10:00 AM']"}
{"timestamp": "2025-11-18T16:06:25.919802", "level": "DEBUG", "logger": "livekit.agents", "message": "tools execution completed"}
{"timestamp": "2025-11-18T16:06:25.920198", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.failed exception=GeneratorExit()"}
{"timestamp": "2025-11-18T16:06:25.921880", "level": "ERROR", "logger": "livekit", "message": "failed to emit event function_tools_executed", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 274, in on_tools_executed\n    \"output\": output.result\n              ^^^^^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/pydantic/main.py\", line 1026, in __getattr__\n    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\nAttributeError: 'FunctionCallOutput' object has no attribute 'result'"}
{"timestamp": "2025-11-18T16:06:25.925010", "level": "ERROR", "logger": "livekit", "message": "failed to emit event function_tools_executed\nTraceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 274, in on_tools_executed\n    \"output\": output.result\n              ^^^^^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/pydantic/main.py\", line 1026, in __getattr__\n    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\nAttributeError: 'FunctionCallOutput' object has no attribute 'result'"}
{"timestamp": "2025-11-18T16:06:25.931861", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'timeout': Timeout(timeout=10.0), 'files': None, 'idempotency_key': 'stainless-python-retry-3f738092-c558-4dd1-ac35-724184807f5b', 'json_data': {'messages': [{'role': 'system', 'content': \"\\n        You are **Shifa Clinic\u2019s AI Receptionist**, answering calls in real time.\\n            Your role is to help callers with booking, confirming, or rescheduling appointments.\\n            Speak naturally, briefly, and professionally\u2014like an experienced clinic receptionist.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CORE BEHAVIOR\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            1. **Every call is fresh.**  \\n            Do not rely on previous session context. Use only:\\n            - caller name (if known)\\n            - caller phone (if known)\\n            - information spoken in THIS call\\n            \\n\\n            2. **One task at a time.**  \\n            Every reply must:\\n            - confirm the last thing the caller said\\n            - take one small step forward (ask ONE question)\\n            - be under **8 words**\\n                Always respond in under 8 words. Prioritize immediate tool calls. Do not speak long sentences.\\n\\n            3. **Never expose internal logic.**  \\n            Never say:\\n            - \u201ccalling a tool\u2026\u201d\\n            - \u201csaving memory\u2026\u201d\\n            - \u201cI detected your name\u2026\u201d\\n            - \u201cupdating the appointment\u2026\u201d\\n\\n            4. **Always stay polite, warm, and concise.**\\n            Examples:\\n            - \u201cSure, one moment.\u201d\\n            - \u201cGot it.\u201d\\n            - \u201cLet me check that.\u201d\\n\\n            5. **If caller seems confused, repeat slowly and simply.**\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### TOOL CALLING RULES\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            Use tools to perform actions.  \\n            After calling a tool, speak a short natural confirmation.\\n\\n            **Tools you may call:**\\n            - `save_name(name)`\\n            - `save_phone(phone)`\\n            - `available_slot()`\\n            - `booking_appointment()`\\n            - `get_date()`\\n            - `update_caller_profile(name?, phone?)`\\n            - `start_reschedule()`\\n            - `confirm_reschedule()`\\n            - `end_call()`\\n\\n            Tool usage guidelines:\\n            - Call **save_name** immediately when you hear a name.\\n            - Call **save_phone** when digits are spoken.  \\n            If partial, ask: \u201cCan you repeat that number slowly?\u201d\\n            - Call **available_slot** when caller expresses a time preference (morning, evening, 3pm, etc.)\\n            - Call **get_date** when caller gives a vague date (\u201cnext Monday\u201d).\\n            - Call **booking_appointment** only when BOTH date and time are known.\\n            - Call **update_caller_profile** if caller corrects name or phone.\\n            - After a booking or reschedule completes, ask:  \\n            \u201cAnything else I can help with?\u201d  \\n            If caller says \u201cno\u201d, use `end_call()`.\\n            If the phone number is unclear or has extra/missing digits, ask the caller to repeat it digit by digit.\\n                Do not guess phone numbers.\\n                Always confirm the final number by repeating it back.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESCHEDULE FLOW\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            When the caller says anything like \u201cchange\u201d, \u201cmove\u201d, \u201creschedule\u201d, \u201cshift\u201d:\\n            1. Call **start_reschedule**.\\n            2. Ask for the new date.\\n            3. Once date \u2192 ask for time.\\n            4. When BOTH are known \u2192 call **confirm_reschedule**.\\n            5. After confirmation \u2192 ask:  \\n            \u201cAnything else I can help with?\u201d\\n\\n            Never call `confirm_reschedule` early.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CONVERSATION STYLE\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Speak like a calm clinic receptionist.\\n            - Use short sentences.  \\n            - One question per turn.  \\n            - No filler like \u201cas an AI\u201d.  \\n            - No medical advice.  \\n            - Don't ask for information you already have.\\n\\n            **Good examples:**\\n            - \u201cSure. What day works for you?\u201d\\n            - \u201cGot it. And what time?\u201d\\n            - \u201cPerfect. One moment while I check.\u201d\\n\\n            **Bad examples:**\\n            - \u201cLet me call a tool.\u201d\\n            - \u201cProcessing your request.\u201d\\n            - \u201cI am updating your appointment in the database.\u201d\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESPONSE CONTROL\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Never output long paragraphs.  \\n            - Never output lists or explanations.  \\n            - Keep responses conversational and human.  \\n            - If caller pauses 5 seconds, use `end_call()`.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### ROLE REMINDER\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            You are the first point of contact for Shifa Clinic.  \\n            Be warm. Be efficient. Be human.\\n\\n            Now handle the caller.\\n\\n\"}, {'role': 'assistant', 'content': 'Good evening, Abdul Basit! How can I assist you today?'}, {'role': 'user', 'content': 'I want to book an appointment.'}, {'role': 'assistant', 'content': 'Sure! What day works for you?'}, {'role': 'user', 'content': 'Tomorrow morning,'}, {'role': 'assistant', 'tool_calls': [{'id': 'call_DKNNG3ysq3QvMrKEAqLQ5n9t', 'type': 'function', 'function': {'name': 'available_slot', 'arguments': '{\"day\":\"tomorrow\",\"date\":\"2023-10-10\",\"time\":\"morning\"}'}}]}, {'role': 'tool', 'tool_call_id': 'call_DKNNG3ysq3QvMrKEAqLQ5n9t', 'content': 'On Wednesday, November 19, I have 9:00 AM, 9:30 AM, or 10:00 AM available. Which time works best for you?'}], 'model': 'gpt-4o-mini', 'stream': True, 'stream_options': {'include_usage': True}, 'temperature': 0.7, 'tool_choice': 'auto', 'tools': [{'type': 'function', 'function': {'name': 'save_name', 'strict': True, 'description': '', 'parameters': {'properties': {'name': {'type': 'string'}}, 'required': ['name'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'save_phone', 'strict': True, 'description': 'Store validated patient phone in Redis using existing BookingBase validator.', 'parameters': {'properties': {'phone': {'type': 'string'}}, 'required': ['phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'available_slot', 'strict': True, 'description': 'Suggest available appointment slots for a given day.\\n- Understands natural language (\"tomorrow\", \"morning\", \"after 2pm\")\\n- Always fetches fresh availability from DB.\\n- Returns top 3 free slots.\\n- Stores them in ctx.suggested_slots for booking_appointment.', 'parameters': {'properties': {'day': {'type': 'string'}, 'date': {'type': 'string'}, 'time': {'type': 'string'}}, 'required': ['day', 'date', 'time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'booking_appointment', 'strict': True, 'description': 'Create or reschedule an appointment.\\nClean, predictable, AI-friendly logic.\\nUses helper functions for DB safety.', 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'get_date', 'strict': True, 'description': 'Return system date and time.', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'end_call', 'strict': True, 'description': \"Gracefully end the call after confirming there's nothing else needed.\\nDoes not clear Redis; short-term memory expires via TTL.\", 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'update_caller_profile', 'strict': True, 'description': 'Persist caller profile (name/phone) for future calls without disrupting session.\\nIf phone not provided, uses current session phone if available.', 'parameters': {'properties': {'name': {'type': ['string', 'null']}, 'phone': {'type': ['string', 'null']}}, 'required': ['name', 'phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'start_reschedule', 'strict': True, 'description': '', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'confirm_reschedule', 'strict': True, 'description': \"Confirm and perform rescheduling to the selected date/time.\\nUse after start_reschedule + available_slot when the caller says 'yes'.\", 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}]}}"}
{"timestamp": "2025-11-18T16:06:25.933338", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions"}
{"timestamp": "2025-11-18T16:06:25.933754", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=10.0 socket_options=None"}
{"timestamp": "2025-11-18T16:06:25.946311", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1376e71d0>"}
{"timestamp": "2025-11-18T16:06:25.946408", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x136924050> server_hostname='api.openai.com' timeout=10.0"}
{"timestamp": "2025-11-18T16:06:25.958118", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1376e6d10>"}
{"timestamp": "2025-11-18T16:06:25.958312", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:06:25.958551", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-18T16:06:25.958608", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:06:25.958782", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-18T16:06:25.958830", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:06:26.365200", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481986.364884, 'idle_time': 2.1497293329739477, 'inference_duration_total': 0.019013583078049123, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:26.365652", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481986.364884, 'idle_time': 2.1497293329739477, 'inference_duration_total': 0.019013583078049123, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:26.711017", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 18 Nov 2025 16:06:27 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'403'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'428'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9996'), (b'x-ratelimit-remaining-tokens', b'198585'), (b'x-ratelimit-reset-requests', b'34.336s'), (b'x-ratelimit-reset-tokens', b'424ms'), (b'x-request-id', b'req_8b370b9d8b9344a7a85b04fbc902cac7'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a08b70e8d05c914-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:06:26.711778", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/chat/completions \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-18T16:06:26.711950", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Tue, 18 Nov 2025 16:06:27 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '403', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '428', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9996', 'x-ratelimit-remaining-tokens': '198585', 'x-ratelimit-reset-requests': '34.336s', 'x-ratelimit-reset-tokens': '424ms', 'x-request-id': 'req_8b370b9d8b9344a7a85b04fbc902cac7', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a08b70e8d05c914-KHI', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-18T16:06:26.712221", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_8b370b9d8b9344a7a85b04fbc902cac7"}
{"timestamp": "2025-11-18T16:06:26.712571", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:06:27.160547", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream', 'X-Stainless-Raw-Response': 'stream'}, 'timeout': Timeout(connect=10.0, read=30, write=30, pool=30), 'files': None, 'idempotency_key': 'stainless-python-retry-76882aa7-8e93-48f5-ac9d-f1278d4a807b', 'json_data': {'input': 'I have 9:00 AM, 9:30 AM, or 10:00 AM.', 'model': 'gpt-4o-mini-tts', 'voice': 'alloy', 'response_format': 'mp3', 'speed': 1.0}}"}
{"timestamp": "2025-11-18T16:06:27.162607", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/audio/speech"}
{"timestamp": "2025-11-18T16:06:27.163875", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:06:27.164485", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-18T16:06:27.164599", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:06:27.165042", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-18T16:06:27.165213", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:06:27.171034", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-18T16:06:27.171420", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-18T16:06:27.172085", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIVmV9Q1uC7aOHC08iofC9MOarHn', 'timestamp': 1763481987.1718159, 'duration': 1.2462893330084626, 'ttft': 0.8185535829979926, 'cancelled': False, 'completion_tokens': 25, 'prompt_tokens': 1434, 'prompt_cached_tokens': 1280, 'total_tokens': 1459, 'tokens_per_second': 20.059547440441943, 'speech_id': 'speech_9452b482d061', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:06:27.172347", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIVmV9Q1uC7aOHC08iofC9MOarHn', 'timestamp': 1763481987.1718159, 'duration': 1.2462893330084626, 'ttft': 0.8185535829979926, 'cancelled': False, 'completion_tokens': 25, 'prompt_tokens': 1434, 'prompt_cached_tokens': 1280, 'total_tokens': 1459, 'tokens_per_second': 20.059547440441943, 'speech_id': 'speech_9452b482d061', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:06:27.173157", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.failed exception=GeneratorExit()"}
{"timestamp": "2025-11-18T16:06:27.417053", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481987.416461, 'idle_time': 3.2012996249832213, 'inference_duration_total': 0.027542786934645846, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:27.417844", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481987.416461, 'idle_time': 3.2012996249832213, 'inference_duration_total': 0.027542786934645846, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:28.415200", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481988.414905, 'idle_time': 4.199735957983648, 'inference_duration_total': 0.0278369581210427, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:28.415542", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481988.414905, 'idle_time': 4.199735957983648, 'inference_duration_total': 0.0278369581210427, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:28.613273", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 18 Nov 2025 16:06:28 GMT'), (b'Content-Type', b'audio/mpeg'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'604'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'622'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9995'), (b'x-ratelimit-remaining-tokens', b'199991'), (b'x-ratelimit-reset-requests', b'41.712s'), (b'x-ratelimit-reset-tokens', b'2ms'), (b'x-request-id', b'req_92f66103689f494ab7eeea9b7c320ec6'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a08b7164b454b55-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:06:28.614781", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/audio/speech \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-18T16:06:28.615070", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/audio/speech \"200 OK\" Headers({'date': 'Tue, 18 Nov 2025 16:06:28 GMT', 'content-type': 'audio/mpeg', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '604', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '622', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9995', 'x-ratelimit-remaining-tokens': '199991', 'x-ratelimit-reset-requests': '41.712s', 'x-ratelimit-reset-tokens': '2ms', 'x-request-id': 'req_92f66103689f494ab7eeea9b7c320ec6', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a08b7164b454b55-KHI', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-18T16:06:28.615445", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_92f66103689f494ab7eeea9b7c320ec6"}
{"timestamp": "2025-11-18T16:06:28.616107", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:06:28.866727", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '0dcb68df-c3ce-4c8e-ad53-cee822f5b70b', 'timestamp': 1763481988.866076, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:06:28.867529", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '0dcb68df-c3ce-4c8e-ad53-cee822f5b70b', 'timestamp': 1763481988.866076, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:06:29.013663", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:06:29.198622", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:06:29.466694", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481989.466348, 'idle_time': 5.2511724999931175, 'inference_duration_total': 0.03664570895489305, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:29.467211", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481989.466348, 'idle_time': 5.2511724999931175, 'inference_duration_total': 0.03664570895489305, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:30.059019", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:06:30.243515", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:06:30.465139", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481990.4649642, 'idle_time': 6.2497814999951515, 'inference_duration_total': 0.036428372957743704, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:30.465599", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481990.4649642, 'idle_time': 6.2497814999951515, 'inference_duration_total': 0.036428372957743704, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:30.550096", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:06:30.731788", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:06:31.066036", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:06:31.310385", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:06:31.515270", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481991.51505, 'idle_time': 7.299860332976095, 'inference_duration_total': 0.031445375992916524, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:31.515633", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481991.51505, 'idle_time': 7.299860332976095, 'inference_duration_total': 0.031445375992916524, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:31.647714", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:06:32.194036", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete"}
{"timestamp": "2025-11-18T16:06:32.194725", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-18T16:06:32.195284", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-18T16:06:32.216224", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_92f66103689f494ab7eeea9b7c320ec6', 'timestamp': 1763481992.21587, 'ttfb': 1.6732457500183955, 'duration': 5.056387125019683, 'audio_duration': 3.7300000000000013, 'cancelled': False, 'characters_count': 37, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_9452b482d061', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:06:32.217353", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_92f66103689f494ab7eeea9b7c320ec6', 'timestamp': 1763481992.21587, 'ttfb': 1.6732457500183955, 'duration': 5.056387125019683, 'audio_duration': 3.7300000000000013, 'cancelled': False, 'characters_count': 37, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_9452b482d061', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:06:32.218241", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream', 'X-Stainless-Raw-Response': 'stream'}, 'timeout': Timeout(connect=10.0, read=30, write=30, pool=30), 'files': None, 'idempotency_key': 'stainless-python-retry-13e4f116-330b-4dfa-9ca1-5338cc1fcbcd', 'json_data': {'input': 'Which time?', 'model': 'gpt-4o-mini-tts', 'voice': 'alloy', 'response_format': 'mp3', 'speed': 1.0}}"}
{"timestamp": "2025-11-18T16:06:32.219059", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/audio/speech"}
{"timestamp": "2025-11-18T16:06:32.225344", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:06:32.225913", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-18T16:06:32.225999", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:06:32.226249", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-18T16:06:32.226324", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:06:32.515036", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481992.514869, 'idle_time': 8.29967308297637, 'inference_duration_total': 0.02540945404325612, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:32.515279", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481992.514869, 'idle_time': 8.29967308297637, 'inference_duration_total': 0.02540945404325612, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:33.023357", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 18 Nov 2025 16:06:33 GMT'), (b'Content-Type', b'audio/mpeg'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'273'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'288'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9994'), (b'x-ratelimit-remaining-tokens', b'199998'), (b'x-ratelimit-reset-requests', b'45.344s'), (b'x-ratelimit-reset-tokens', b'0s'), (b'x-request-id', b'req_154aa2003e944f83a9c4e3450d3451b5'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a08b735bfa44b55-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:06:33.025244", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/audio/speech \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-18T16:06:33.025625", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/audio/speech \"200 OK\" Headers({'date': 'Tue, 18 Nov 2025 16:06:33 GMT', 'content-type': 'audio/mpeg', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '273', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '288', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9994', 'x-ratelimit-remaining-tokens': '199998', 'x-ratelimit-reset-requests': '45.344s', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_154aa2003e944f83a9c4e3450d3451b5', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a08b735bfa44b55-KHI', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-18T16:06:33.026007", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_154aa2003e944f83a9c4e3450d3451b5"}
{"timestamp": "2025-11-18T16:06:33.026578", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:06:33.028092", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete"}
{"timestamp": "2025-11-18T16:06:33.028293", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-18T16:06:33.028798", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-18T16:06:33.049352", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_154aa2003e944f83a9c4e3450d3451b5', 'timestamp': 1763481993.049082, 'ttfb': 0.8157318330195267, 'duration': 0.8318252080061939, 'audio_duration': 0.9460000000000001, 'cancelled': False, 'characters_count': 11, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_9452b482d061', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:06:33.049895", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_154aa2003e944f83a9c4e3450d3451b5', 'timestamp': 1763481993.049082, 'ttfb': 0.8157318330195267, 'duration': 0.8318252080061939, 'audio_duration': 0.9460000000000001, 'cancelled': False, 'characters_count': 11, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_9452b482d061', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:06:33.568538", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481993.567622, 'idle_time': 9.352418832975673, 'inference_duration_total': 0.030665835016407073, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:33.569618", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481993.567622, 'idle_time': 9.352418832975673, 'inference_duration_total': 0.030665835016407073, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:33.914563", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '0dcb68df-c3ce-4c8e-ad53-cee822f5b70b', 'timestamp': 1763481993.914237, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:06:33.915221", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '0dcb68df-c3ce-4c8e-ad53-cee822f5b70b', 'timestamp': 1763481993.914237, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:06:34.565097", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481994.564884, 'idle_time': 10.349673958000494, 'inference_duration_total': 0.02875183106516488, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:34.565444", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481994.564884, 'idle_time': 10.349673958000494, 'inference_duration_total': 0.02875183106516488, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:35.616815", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481995.616256, 'idle_time': 11.401039499993203, 'inference_duration_total': 0.032036044052802026, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:35.621135", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481995.616256, 'idle_time': 11.401039499993203, 'inference_duration_total': 0.032036044052802026, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:36.615293", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481996.615114, 'idle_time': 12.3998904999753, 'inference_duration_total': 0.03380087306140922, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:36.615589", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481996.615114, 'idle_time': 12.3998904999753, 'inference_duration_total': 0.03380087306140922, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:37.667033", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481997.6664739, 'idle_time': 13.451243957999395, 'inference_duration_total': 0.030925084021873772, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:37.668035", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481997.6664739, 'idle_time': 13.451243957999395, 'inference_duration_total': 0.030925084021873772, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:38.665356", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481998.665163, 'idle_time': 14.449925999972038, 'inference_duration_total': 0.03354695899179205, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:38.665660", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481998.665163, 'idle_time': 14.449925999972038, 'inference_duration_total': 0.03354695899179205, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:38.915962", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '0dcb68df-c3ce-4c8e-ad53-cee822f5b70b', 'timestamp': 1763481998.915393, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:06:38.917126", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '0dcb68df-c3ce-4c8e-ad53-cee822f5b70b', 'timestamp': 1763481998.915393, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:06:39.473853", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-18T16:06:39.477007", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763481999.4767091, 'end_of_utterance_delay': 15.848737001419067, 'transcription_delay': 15.847640037536621, 'on_user_turn_completed_delay': 3.0994415283203125e-06, 'last_speaking_time': 1763481983.626646, 'speech_id': 'speech_51097432ba62', 'metadata': None}}"}
{"timestamp": "2025-11-18T16:06:39.478370", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763481999.4767091, 'end_of_utterance_delay': 15.848737001419067, 'transcription_delay': 15.847640037536621, 'on_user_turn_completed_delay': 3.0994415283203125e-06, 'last_speaking_time': 1763481983.626646, 'speech_id': 'speech_51097432ba62', 'metadata': None}}"}
{"timestamp": "2025-11-18T16:06:39.493677", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'timeout': Timeout(timeout=10.0), 'files': None, 'idempotency_key': 'stainless-python-retry-091b88ce-f8ab-4d7a-8a18-4d369f98ecb8', 'json_data': {'messages': [{'role': 'system', 'content': \"\\n        You are **Shifa Clinic\u2019s AI Receptionist**, answering calls in real time.\\n            Your role is to help callers with booking, confirming, or rescheduling appointments.\\n            Speak naturally, briefly, and professionally\u2014like an experienced clinic receptionist.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CORE BEHAVIOR\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            1. **Every call is fresh.**  \\n            Do not rely on previous session context. Use only:\\n            - caller name (if known)\\n            - caller phone (if known)\\n            - information spoken in THIS call\\n            \\n\\n            2. **One task at a time.**  \\n            Every reply must:\\n            - confirm the last thing the caller said\\n            - take one small step forward (ask ONE question)\\n            - be under **8 words**\\n                Always respond in under 8 words. Prioritize immediate tool calls. Do not speak long sentences.\\n\\n            3. **Never expose internal logic.**  \\n            Never say:\\n            - \u201ccalling a tool\u2026\u201d\\n            - \u201csaving memory\u2026\u201d\\n            - \u201cI detected your name\u2026\u201d\\n            - \u201cupdating the appointment\u2026\u201d\\n\\n            4. **Always stay polite, warm, and concise.**\\n            Examples:\\n            - \u201cSure, one moment.\u201d\\n            - \u201cGot it.\u201d\\n            - \u201cLet me check that.\u201d\\n\\n            5. **If caller seems confused, repeat slowly and simply.**\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### TOOL CALLING RULES\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            Use tools to perform actions.  \\n            After calling a tool, speak a short natural confirmation.\\n\\n            **Tools you may call:**\\n            - `save_name(name)`\\n            - `save_phone(phone)`\\n            - `available_slot()`\\n            - `booking_appointment()`\\n            - `get_date()`\\n            - `update_caller_profile(name?, phone?)`\\n            - `start_reschedule()`\\n            - `confirm_reschedule()`\\n            - `end_call()`\\n\\n            Tool usage guidelines:\\n            - Call **save_name** immediately when you hear a name.\\n            - Call **save_phone** when digits are spoken.  \\n            If partial, ask: \u201cCan you repeat that number slowly?\u201d\\n            - Call **available_slot** when caller expresses a time preference (morning, evening, 3pm, etc.)\\n            - Call **get_date** when caller gives a vague date (\u201cnext Monday\u201d).\\n            - Call **booking_appointment** only when BOTH date and time are known.\\n            - Call **update_caller_profile** if caller corrects name or phone.\\n            - After a booking or reschedule completes, ask:  \\n            \u201cAnything else I can help with?\u201d  \\n            If caller says \u201cno\u201d, use `end_call()`.\\n            If the phone number is unclear or has extra/missing digits, ask the caller to repeat it digit by digit.\\n                Do not guess phone numbers.\\n                Always confirm the final number by repeating it back.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESCHEDULE FLOW\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            When the caller says anything like \u201cchange\u201d, \u201cmove\u201d, \u201creschedule\u201d, \u201cshift\u201d:\\n            1. Call **start_reschedule**.\\n            2. Ask for the new date.\\n            3. Once date \u2192 ask for time.\\n            4. When BOTH are known \u2192 call **confirm_reschedule**.\\n            5. After confirmation \u2192 ask:  \\n            \u201cAnything else I can help with?\u201d\\n\\n            Never call `confirm_reschedule` early.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CONVERSATION STYLE\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Speak like a calm clinic receptionist.\\n            - Use short sentences.  \\n            - One question per turn.  \\n            - No filler like \u201cas an AI\u201d.  \\n            - No medical advice.  \\n            - Don't ask for information you already have.\\n\\n            **Good examples:**\\n            - \u201cSure. What day works for you?\u201d\\n            - \u201cGot it. And what time?\u201d\\n            - \u201cPerfect. One moment while I check.\u201d\\n\\n            **Bad examples:**\\n            - \u201cLet me call a tool.\u201d\\n            - \u201cProcessing your request.\u201d\\n            - \u201cI am updating your appointment in the database.\u201d\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESPONSE CONTROL\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Never output long paragraphs.  \\n            - Never output lists or explanations.  \\n            - Keep responses conversational and human.  \\n            - If caller pauses 5 seconds, use `end_call()`.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### ROLE REMINDER\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            You are the first point of contact for Shifa Clinic.  \\n            Be warm. Be efficient. Be human.\\n\\n            Now handle the caller.\\n\\n\"}, {'role': 'assistant', 'content': 'Good evening, Abdul Basit! How can I assist you today?'}, {'role': 'user', 'content': 'I want to book an appointment.'}, {'role': 'assistant', 'content': 'Sure! What day works for you?'}, {'role': 'user', 'content': 'Tomorrow morning,'}, {'role': 'assistant', 'tool_calls': [{'id': 'call_DKNNG3ysq3QvMrKEAqLQ5n9t', 'type': 'function', 'function': {'name': 'available_slot', 'arguments': '{\"day\":\"tomorrow\",\"date\":\"2023-10-10\",\"time\":\"morning\"}'}}]}, {'role': 'tool', 'tool_call_id': 'call_DKNNG3ysq3QvMrKEAqLQ5n9t', 'content': 'On Wednesday, November 19, I have 9:00 AM, 9:30 AM, or 10:00 AM available. Which time works best for you?'}, {'role': 'assistant', 'content': 'I have 9:00 AM, 9:30 AM, or 10:00 AM. Which time?'}, {'role': 'user', 'content': 'Ten AM would be good.'}], 'model': 'gpt-4o-mini', 'stream': True, 'stream_options': {'include_usage': True}, 'temperature': 0.7, 'tools': [{'type': 'function', 'function': {'name': 'save_name', 'strict': True, 'description': '', 'parameters': {'properties': {'name': {'type': 'string'}}, 'required': ['name'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'save_phone', 'strict': True, 'description': 'Store validated patient phone in Redis using existing BookingBase validator.', 'parameters': {'properties': {'phone': {'type': 'string'}}, 'required': ['phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'available_slot', 'strict': True, 'description': 'Suggest available appointment slots for a given day.\\n- Understands natural language (\"tomorrow\", \"morning\", \"after 2pm\")\\n- Always fetches fresh availability from DB.\\n- Returns top 3 free slots.\\n- Stores them in ctx.suggested_slots for booking_appointment.', 'parameters': {'properties': {'day': {'type': 'string'}, 'date': {'type': 'string'}, 'time': {'type': 'string'}}, 'required': ['day', 'date', 'time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'booking_appointment', 'strict': True, 'description': 'Create or reschedule an appointment.\\nClean, predictable, AI-friendly logic.\\nUses helper functions for DB safety.', 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'get_date', 'strict': True, 'description': 'Return system date and time.', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'end_call', 'strict': True, 'description': \"Gracefully end the call after confirming there's nothing else needed.\\nDoes not clear Redis; short-term memory expires via TTL.\", 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'update_caller_profile', 'strict': True, 'description': 'Persist caller profile (name/phone) for future calls without disrupting session.\\nIf phone not provided, uses current session phone if available.', 'parameters': {'properties': {'name': {'type': ['string', 'null']}, 'phone': {'type': ['string', 'null']}}, 'required': ['name', 'phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'start_reschedule', 'strict': True, 'description': '', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'confirm_reschedule', 'strict': True, 'description': \"Confirm and perform rescheduling to the selected date/time.\\nUse after start_reschedule + available_slot when the caller says 'yes'.\", 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}]}}"}
{"timestamp": "2025-11-18T16:06:39.495932", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions"}
{"timestamp": "2025-11-18T16:06:39.496896", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=10.0 socket_options=None"}
{"timestamp": "2025-11-18T16:06:39.507730", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x136982110>"}
{"timestamp": "2025-11-18T16:06:39.507862", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x136924050> server_hostname='api.openai.com' timeout=10.0"}
{"timestamp": "2025-11-18T16:06:39.535063", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1370f6590>"}
{"timestamp": "2025-11-18T16:06:39.535574", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:06:39.535977", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-18T16:06:39.536063", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:06:39.536253", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-18T16:06:39.536306", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:06:39.716184", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481999.71589, 'idle_time': 15.500645790976705, 'inference_duration_total': 0.031666832976043224, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:39.716819", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763481999.71589, 'idle_time': 15.500645790976705, 'inference_duration_total': 0.031666832976043224, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:40.622185", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 18 Nov 2025 16:06:40 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'664'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'683'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9994'), (b'x-ratelimit-remaining-tokens', b'198566'), (b'x-ratelimit-reset-requests', b'46.608s'), (b'x-ratelimit-reset-tokens', b'430ms'), (b'x-request-id', b'req_20fea6cab0d24037924b26fd05e0903b'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a08b7635d8fc972-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:06:40.623481", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/chat/completions \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-18T16:06:40.623877", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Tue, 18 Nov 2025 16:06:40 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '664', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '683', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9994', 'x-ratelimit-remaining-tokens': '198566', 'x-ratelimit-reset-requests': '46.608s', 'x-ratelimit-reset-tokens': '430ms', 'x-request-id': 'req_20fea6cab0d24037924b26fd05e0903b', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a08b7635d8fc972-KHI', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-18T16:06:40.624266", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_20fea6cab0d24037924b26fd05e0903b"}
{"timestamp": "2025-11-18T16:06:40.625193", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:06:40.715633", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482000.7153668, 'idle_time': 16.50011604098836, 'inference_duration_total': 0.03991162989404984, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:40.716117", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482000.7153668, 'idle_time': 16.50011604098836, 'inference_duration_total': 0.03991162989404984, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:40.742963", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-18T16:06:40.743247", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-18T16:06:40.743741", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIW0sx0q2AhAdPMAxvRJyxcTACnV', 'timestamp': 1763482000.743561, 'duration': 1.2636387500097044, 'ttft': 1.2576554999977816, 'cancelled': False, 'completion_tokens': 18, 'prompt_tokens': 1472, 'prompt_cached_tokens': 1280, 'total_tokens': 1490, 'tokens_per_second': 14.244577415706637, 'speech_id': 'speech_51097432ba62', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:06:40.744034", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIW0sx0q2AhAdPMAxvRJyxcTACnV', 'timestamp': 1763482000.743561, 'duration': 1.2636387500097044, 'ttft': 1.2576554999977816, 'cancelled': False, 'completion_tokens': 18, 'prompt_tokens': 1472, 'prompt_cached_tokens': 1280, 'total_tokens': 1490, 'tokens_per_second': 14.244577415706637, 'speech_id': 'speech_51097432ba62', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:06:40.744945", "level": "DEBUG", "logger": "livekit.agents", "message": "executing tool"}
{"timestamp": "2025-11-18T16:06:40.746219", "level": "DEBUG", "logger": "livekit.agents", "message": "tools execution completed"}
{"timestamp": "2025-11-18T16:06:40.746407", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.failed exception=GeneratorExit()"}
{"timestamp": "2025-11-18T16:06:40.747095", "level": "ERROR", "logger": "livekit", "message": "failed to emit event function_tools_executed", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 274, in on_tools_executed\n    \"output\": output.result\n              ^^^^^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/pydantic/main.py\", line 1026, in __getattr__\n    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\nAttributeError: 'FunctionCallOutput' object has no attribute 'result'"}
{"timestamp": "2025-11-18T16:06:40.748108", "level": "ERROR", "logger": "livekit", "message": "failed to emit event function_tools_executed\nTraceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 274, in on_tools_executed\n    \"output\": output.result\n              ^^^^^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/pydantic/main.py\", line 1026, in __getattr__\n    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\nAttributeError: 'FunctionCallOutput' object has no attribute 'result'"}
{"timestamp": "2025-11-18T16:06:40.755183", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'timeout': Timeout(timeout=10.0), 'files': None, 'idempotency_key': 'stainless-python-retry-44fb0b58-016e-4735-9cc8-42fd24680c45', 'json_data': {'messages': [{'role': 'system', 'content': \"\\n        You are **Shifa Clinic\u2019s AI Receptionist**, answering calls in real time.\\n            Your role is to help callers with booking, confirming, or rescheduling appointments.\\n            Speak naturally, briefly, and professionally\u2014like an experienced clinic receptionist.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CORE BEHAVIOR\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            1. **Every call is fresh.**  \\n            Do not rely on previous session context. Use only:\\n            - caller name (if known)\\n            - caller phone (if known)\\n            - information spoken in THIS call\\n            \\n\\n            2. **One task at a time.**  \\n            Every reply must:\\n            - confirm the last thing the caller said\\n            - take one small step forward (ask ONE question)\\n            - be under **8 words**\\n                Always respond in under 8 words. Prioritize immediate tool calls. Do not speak long sentences.\\n\\n            3. **Never expose internal logic.**  \\n            Never say:\\n            - \u201ccalling a tool\u2026\u201d\\n            - \u201csaving memory\u2026\u201d\\n            - \u201cI detected your name\u2026\u201d\\n            - \u201cupdating the appointment\u2026\u201d\\n\\n            4. **Always stay polite, warm, and concise.**\\n            Examples:\\n            - \u201cSure, one moment.\u201d\\n            - \u201cGot it.\u201d\\n            - \u201cLet me check that.\u201d\\n\\n            5. **If caller seems confused, repeat slowly and simply.**\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### TOOL CALLING RULES\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            Use tools to perform actions.  \\n            After calling a tool, speak a short natural confirmation.\\n\\n            **Tools you may call:**\\n            - `save_name(name)`\\n            - `save_phone(phone)`\\n            - `available_slot()`\\n            - `booking_appointment()`\\n            - `get_date()`\\n            - `update_caller_profile(name?, phone?)`\\n            - `start_reschedule()`\\n            - `confirm_reschedule()`\\n            - `end_call()`\\n\\n            Tool usage guidelines:\\n            - Call **save_name** immediately when you hear a name.\\n            - Call **save_phone** when digits are spoken.  \\n            If partial, ask: \u201cCan you repeat that number slowly?\u201d\\n            - Call **available_slot** when caller expresses a time preference (morning, evening, 3pm, etc.)\\n            - Call **get_date** when caller gives a vague date (\u201cnext Monday\u201d).\\n            - Call **booking_appointment** only when BOTH date and time are known.\\n            - Call **update_caller_profile** if caller corrects name or phone.\\n            - After a booking or reschedule completes, ask:  \\n            \u201cAnything else I can help with?\u201d  \\n            If caller says \u201cno\u201d, use `end_call()`.\\n            If the phone number is unclear or has extra/missing digits, ask the caller to repeat it digit by digit.\\n                Do not guess phone numbers.\\n                Always confirm the final number by repeating it back.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESCHEDULE FLOW\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            When the caller says anything like \u201cchange\u201d, \u201cmove\u201d, \u201creschedule\u201d, \u201cshift\u201d:\\n            1. Call **start_reschedule**.\\n            2. Ask for the new date.\\n            3. Once date \u2192 ask for time.\\n            4. When BOTH are known \u2192 call **confirm_reschedule**.\\n            5. After confirmation \u2192 ask:  \\n            \u201cAnything else I can help with?\u201d\\n\\n            Never call `confirm_reschedule` early.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CONVERSATION STYLE\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Speak like a calm clinic receptionist.\\n            - Use short sentences.  \\n            - One question per turn.  \\n            - No filler like \u201cas an AI\u201d.  \\n            - No medical advice.  \\n            - Don't ask for information you already have.\\n\\n            **Good examples:**\\n            - \u201cSure. What day works for you?\u201d\\n            - \u201cGot it. And what time?\u201d\\n            - \u201cPerfect. One moment while I check.\u201d\\n\\n            **Bad examples:**\\n            - \u201cLet me call a tool.\u201d\\n            - \u201cProcessing your request.\u201d\\n            - \u201cI am updating your appointment in the database.\u201d\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESPONSE CONTROL\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Never output long paragraphs.  \\n            - Never output lists or explanations.  \\n            - Keep responses conversational and human.  \\n            - If caller pauses 5 seconds, use `end_call()`.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### ROLE REMINDER\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            You are the first point of contact for Shifa Clinic.  \\n            Be warm. Be efficient. Be human.\\n\\n            Now handle the caller.\\n\\n\"}, {'role': 'assistant', 'content': 'Good evening, Abdul Basit! How can I assist you today?'}, {'role': 'user', 'content': 'I want to book an appointment.'}, {'role': 'assistant', 'content': 'Sure! What day works for you?'}, {'role': 'user', 'content': 'Tomorrow morning,'}, {'role': 'assistant', 'tool_calls': [{'id': 'call_DKNNG3ysq3QvMrKEAqLQ5n9t', 'type': 'function', 'function': {'name': 'available_slot', 'arguments': '{\"day\":\"tomorrow\",\"date\":\"2023-10-10\",\"time\":\"morning\"}'}}]}, {'role': 'tool', 'tool_call_id': 'call_DKNNG3ysq3QvMrKEAqLQ5n9t', 'content': 'On Wednesday, November 19, I have 9:00 AM, 9:30 AM, or 10:00 AM available. Which time works best for you?'}, {'role': 'assistant', 'content': 'I have 9:00 AM, 9:30 AM, or 10:00 AM. Which time?'}, {'role': 'user', 'content': 'Ten AM would be good.'}, {'role': 'assistant', 'tool_calls': [{'id': 'call_fMXhJvt6PpzNhzTxLbZA6pMU', 'type': 'function', 'function': {'name': 'booking_appointment', 'arguments': '{\"time\":\"10:00 AM\"}'}}]}, {'role': 'tool', 'tool_call_id': 'call_fMXhJvt6PpzNhzTxLbZA6pMU', 'content': 'Before booking, may I have your phone number?'}], 'model': 'gpt-4o-mini', 'stream': True, 'stream_options': {'include_usage': True}, 'temperature': 0.7, 'tool_choice': 'auto', 'tools': [{'type': 'function', 'function': {'name': 'save_name', 'strict': True, 'description': '', 'parameters': {'properties': {'name': {'type': 'string'}}, 'required': ['name'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'save_phone', 'strict': True, 'description': 'Store validated patient phone in Redis using existing BookingBase validator.', 'parameters': {'properties': {'phone': {'type': 'string'}}, 'required': ['phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'available_slot', 'strict': True, 'description': 'Suggest available appointment slots for a given day.\\n- Understands natural language (\"tomorrow\", \"morning\", \"after 2pm\")\\n- Always fetches fresh availability from DB.\\n- Returns top 3 free slots.\\n- Stores them in ctx.suggested_slots for booking_appointment.', 'parameters': {'properties': {'day': {'type': 'string'}, 'date': {'type': 'string'}, 'time': {'type': 'string'}}, 'required': ['day', 'date', 'time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'booking_appointment', 'strict': True, 'description': 'Create or reschedule an appointment.\\nClean, predictable, AI-friendly logic.\\nUses helper functions for DB safety.', 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'get_date', 'strict': True, 'description': 'Return system date and time.', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'end_call', 'strict': True, 'description': \"Gracefully end the call after confirming there's nothing else needed.\\nDoes not clear Redis; short-term memory expires via TTL.\", 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'update_caller_profile', 'strict': True, 'description': 'Persist caller profile (name/phone) for future calls without disrupting session.\\nIf phone not provided, uses current session phone if available.', 'parameters': {'properties': {'name': {'type': ['string', 'null']}, 'phone': {'type': ['string', 'null']}}, 'required': ['name', 'phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'start_reschedule', 'strict': True, 'description': '', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'confirm_reschedule', 'strict': True, 'description': \"Confirm and perform rescheduling to the selected date/time.\\nUse after start_reschedule + available_slot when the caller says 'yes'.\", 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}]}}"}
{"timestamp": "2025-11-18T16:06:40.756436", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions"}
{"timestamp": "2025-11-18T16:06:40.756746", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=10.0 socket_options=None"}
{"timestamp": "2025-11-18T16:06:40.765657", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x13743e750>"}
{"timestamp": "2025-11-18T16:06:40.765755", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x136924050> server_hostname='api.openai.com' timeout=10.0"}
{"timestamp": "2025-11-18T16:06:40.776770", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x137463b90>"}
{"timestamp": "2025-11-18T16:06:40.776961", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:06:40.777216", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-18T16:06:40.777285", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:06:40.777466", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-18T16:06:40.777516", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:06:41.765243", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482001.7650108, 'idle_time': 17.549752832972445, 'inference_duration_total': 0.020171830983599648, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:41.767943", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482001.7650108, 'idle_time': 17.549752832972445, 'inference_duration_total': 0.020171830983599648, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:41.825789", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 18 Nov 2025 16:06:42 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'683'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'739'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9993'), (b'x-ratelimit-remaining-tokens', b'198553'), (b'x-ratelimit-reset-requests', b'54.063s'), (b'x-ratelimit-reset-tokens', b'434ms'), (b'x-request-id', b'req_40bf1c004bce44bcb9cfc0e7891e409c'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a08b76b2ab0907b-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:06:41.826229", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/chat/completions \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-18T16:06:41.826355", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Tue, 18 Nov 2025 16:06:42 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '683', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '739', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9993', 'x-ratelimit-remaining-tokens': '198553', 'x-ratelimit-reset-requests': '54.063s', 'x-ratelimit-reset-tokens': '434ms', 'x-request-id': 'req_40bf1c004bce44bcb9cfc0e7891e409c', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a08b76b2ab0907b-KHI', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-18T16:06:41.826557", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_40bf1c004bce44bcb9cfc0e7891e409c"}
{"timestamp": "2025-11-18T16:06:41.826728", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:06:42.752964", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-18T16:06:42.753336", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-18T16:06:42.754139", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIW1Ol4B5fIGkDjYjr10BsaNnh6f', 'timestamp': 1763482002.753901, 'duration': 2.005343124998035, 'ttft': 1.1783199580095243, 'cancelled': False, 'completion_tokens': 9, 'prompt_tokens': 1509, 'prompt_cached_tokens': 1408, 'total_tokens': 1518, 'tokens_per_second': 4.488010000786683, 'speech_id': 'speech_51097432ba62', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:06:42.754402", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIW1Ol4B5fIGkDjYjr10BsaNnh6f', 'timestamp': 1763482002.753901, 'duration': 2.005343124998035, 'ttft': 1.1783199580095243, 'cancelled': False, 'completion_tokens': 9, 'prompt_tokens': 1509, 'prompt_cached_tokens': 1408, 'total_tokens': 1518, 'tokens_per_second': 4.488010000786683, 'speech_id': 'speech_51097432ba62', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:06:42.756174", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream', 'X-Stainless-Raw-Response': 'stream'}, 'timeout': Timeout(connect=10.0, read=30, write=30, pool=30), 'files': None, 'idempotency_key': 'stainless-python-retry-1e4717df-52b0-4260-af68-c6e58382d2e4', 'json_data': {'input': 'Can you please provide your phone number?', 'model': 'gpt-4o-mini-tts', 'voice': 'alloy', 'response_format': 'mp3', 'speed': 1.0}}"}
{"timestamp": "2025-11-18T16:06:42.756711", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/audio/speech"}
{"timestamp": "2025-11-18T16:06:42.757309", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:06:42.757707", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-18T16:06:42.757776", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:06:42.757933", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-18T16:06:42.757985", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:06:42.758334", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.failed exception=GeneratorExit()"}
{"timestamp": "2025-11-18T16:06:42.765269", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482002.765104, 'idle_time': 18.54983970799367, 'inference_duration_total': 0.020292289118515328, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:42.765476", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482002.765104, 'idle_time': 18.54983970799367, 'inference_duration_total': 0.020292289118515328, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:43.654116", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 18 Nov 2025 16:06:44 GMT'), (b'Content-Type', b'audio/mpeg'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'580'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'596'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9992'), (b'x-ratelimit-remaining-tokens', b'199990'), (b'x-ratelimit-reset-requests', b'1m0.739s'), (b'x-ratelimit-reset-tokens', b'3ms'), (b'x-request-id', b'req_b98978ac9d9f42e8831d9ad2681796d3'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a08b7778d784b55-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:06:43.654551", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/audio/speech \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-18T16:06:43.654684", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/audio/speech \"200 OK\" Headers({'date': 'Tue, 18 Nov 2025 16:06:44 GMT', 'content-type': 'audio/mpeg', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '580', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '596', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9992', 'x-ratelimit-remaining-tokens': '199990', 'x-ratelimit-reset-requests': '1m0.739s', 'x-ratelimit-reset-tokens': '3ms', 'x-request-id': 'req_b98978ac9d9f42e8831d9ad2681796d3', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a08b7778d784b55-KHI', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-18T16:06:43.654961", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_b98978ac9d9f42e8831d9ad2681796d3"}
{"timestamp": "2025-11-18T16:06:43.655174", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:06:43.815102", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482003.8149052, 'idle_time': 19.59963370798505, 'inference_duration_total': 0.01604566487367265, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:43.815490", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482003.8149052, 'idle_time': 19.59963370798505, 'inference_duration_total': 0.01604566487367265, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:43.964605", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '0dcb68df-c3ce-4c8e-ad53-cee822f5b70b', 'timestamp': 1763482003.964393, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:06:43.964960", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '0dcb68df-c3ce-4c8e-ad53-cee822f5b70b', 'timestamp': 1763482003.964393, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:06:44.088018", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:06:44.269587", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:06:44.617145", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:06:44.815132", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482004.814911, 'idle_time': 20.599632749974262, 'inference_duration_total': 0.02496637692092918, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:44.815454", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482004.814911, 'idle_time': 20.599632749974262, 'inference_duration_total': 0.02496637692092918, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:44.884178", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:06:45.200467", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:06:45.485106", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:06:45.564793", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete"}
{"timestamp": "2025-11-18T16:06:45.565280", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-18T16:06:45.565742", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-18T16:06:45.569578", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_b98978ac9d9f42e8831d9ad2681796d3', 'timestamp': 1763482005.5692449, 'ttfb': 1.151434999977937, 'duration': 2.8137187919928692, 'audio_duration': 2.05, 'cancelled': False, 'characters_count': 41, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_51097432ba62', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:06:45.570241", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_b98978ac9d9f42e8831d9ad2681796d3', 'timestamp': 1763482005.5692449, 'ttfb': 1.151434999977937, 'duration': 2.8137187919928692, 'audio_duration': 2.05, 'cancelled': False, 'characters_count': 41, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_51097432ba62', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:06:45.865595", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482005.865317, 'idle_time': 21.650031915982254, 'inference_duration_total': 0.028026710031554103, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:45.866019", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482005.865317, 'idle_time': 21.650031915982254, 'inference_duration_total': 0.028026710031554103, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:46.866217", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482006.865682, 'idle_time': 22.650389624992386, 'inference_duration_total': 0.032811039010994136, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:46.866945", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482006.865682, 'idle_time': 22.650389624992386, 'inference_duration_total': 0.032811039010994136, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:47.916770", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482007.916182, 'idle_time': 23.700882624980295, 'inference_duration_total': 0.026579538913210854, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:47.917542", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482007.916182, 'idle_time': 23.700882624980295, 'inference_duration_total': 0.026579538913210854, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:48.915942", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482008.915194, 'idle_time': 24.699887999973726, 'inference_duration_total': 0.03508083600900136, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:48.916771", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482008.915194, 'idle_time': 24.699887999973726, 'inference_duration_total': 0.03508083600900136, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:48.965027", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '0dcb68df-c3ce-4c8e-ad53-cee822f5b70b', 'timestamp': 1763482008.964787, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:06:48.965532", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '0dcb68df-c3ce-4c8e-ad53-cee822f5b70b', 'timestamp': 1763482008.964787, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:06:49.967338", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482009.966848, 'idle_time': 25.7515347909939, 'inference_duration_total': 0.040985873056342825, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:49.968019", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482009.966848, 'idle_time': 25.7515347909939, 'inference_duration_total': 0.040985873056342825, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:50.971954", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482010.971571, 'idle_time': 26.75625162498909, 'inference_duration_total': 0.03441996008041315, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:50.972587", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482010.971571, 'idle_time': 26.75625162498909, 'inference_duration_total': 0.03441996008041315, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:51.968005", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482011.967364, 'idle_time': 27.752037957980065, 'inference_duration_total': 0.022416587977204472, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:51.968844", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482011.967364, 'idle_time': 27.752037957980065, 'inference_duration_total': 0.022416587977204472, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:53.016766", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482013.0164218, 'idle_time': 28.801088415988488, 'inference_duration_total': 0.03946574992733076, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:53.017247", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482013.0164218, 'idle_time': 28.801088415988488, 'inference_duration_total': 0.03946574992733076, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:53.966796", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '0dcb68df-c3ce-4c8e-ad53-cee822f5b70b', 'timestamp': 1763482013.966205, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:06:53.967821", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '0dcb68df-c3ce-4c8e-ad53-cee822f5b70b', 'timestamp': 1763482013.966205, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:06:54.017779", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482014.017174, 'idle_time': 29.801833915989846, 'inference_duration_total': 0.03843379096360877, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:54.018537", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482014.017174, 'idle_time': 29.801833915989846, 'inference_duration_total': 0.03843379096360877, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:55.067353", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482015.06566, 'idle_time': 0.5972202919947449, 'inference_duration_total': 0.04402583799674176, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:55.068392", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482015.06566, 'idle_time': 0.5972202919947449, 'inference_duration_total': 0.04402583799674176, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:55.815039", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-18T16:06:55.817322", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763482015.8171132, 'end_of_utterance_delay': 0.6838259696960449, 'transcription_delay': 0.683135986328125, 'on_user_turn_completed_delay': 3.0994415283203125e-06, 'last_speaking_time': 1763482015.132139, 'speech_id': 'speech_7bda6176c56f', 'metadata': None}}"}
{"timestamp": "2025-11-18T16:06:55.818197", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763482015.8171132, 'end_of_utterance_delay': 0.6838259696960449, 'transcription_delay': 0.683135986328125, 'on_user_turn_completed_delay': 3.0994415283203125e-06, 'last_speaking_time': 1763482015.132139, 'speech_id': 'speech_7bda6176c56f', 'metadata': None}}"}
{"timestamp": "2025-11-18T16:06:55.838093", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'timeout': Timeout(timeout=10.0), 'files': None, 'idempotency_key': 'stainless-python-retry-602d9f4a-9852-4f40-b502-c32d64fba010', 'json_data': {'messages': [{'role': 'system', 'content': \"\\n        You are **Shifa Clinic\u2019s AI Receptionist**, answering calls in real time.\\n            Your role is to help callers with booking, confirming, or rescheduling appointments.\\n            Speak naturally, briefly, and professionally\u2014like an experienced clinic receptionist.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CORE BEHAVIOR\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            1. **Every call is fresh.**  \\n            Do not rely on previous session context. Use only:\\n            - caller name (if known)\\n            - caller phone (if known)\\n            - information spoken in THIS call\\n            \\n\\n            2. **One task at a time.**  \\n            Every reply must:\\n            - confirm the last thing the caller said\\n            - take one small step forward (ask ONE question)\\n            - be under **8 words**\\n                Always respond in under 8 words. Prioritize immediate tool calls. Do not speak long sentences.\\n\\n            3. **Never expose internal logic.**  \\n            Never say:\\n            - \u201ccalling a tool\u2026\u201d\\n            - \u201csaving memory\u2026\u201d\\n            - \u201cI detected your name\u2026\u201d\\n            - \u201cupdating the appointment\u2026\u201d\\n\\n            4. **Always stay polite, warm, and concise.**\\n            Examples:\\n            - \u201cSure, one moment.\u201d\\n            - \u201cGot it.\u201d\\n            - \u201cLet me check that.\u201d\\n\\n            5. **If caller seems confused, repeat slowly and simply.**\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### TOOL CALLING RULES\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            Use tools to perform actions.  \\n            After calling a tool, speak a short natural confirmation.\\n\\n            **Tools you may call:**\\n            - `save_name(name)`\\n            - `save_phone(phone)`\\n            - `available_slot()`\\n            - `booking_appointment()`\\n            - `get_date()`\\n            - `update_caller_profile(name?, phone?)`\\n            - `start_reschedule()`\\n            - `confirm_reschedule()`\\n            - `end_call()`\\n\\n            Tool usage guidelines:\\n            - Call **save_name** immediately when you hear a name.\\n            - Call **save_phone** when digits are spoken.  \\n            If partial, ask: \u201cCan you repeat that number slowly?\u201d\\n            - Call **available_slot** when caller expresses a time preference (morning, evening, 3pm, etc.)\\n            - Call **get_date** when caller gives a vague date (\u201cnext Monday\u201d).\\n            - Call **booking_appointment** only when BOTH date and time are known.\\n            - Call **update_caller_profile** if caller corrects name or phone.\\n            - After a booking or reschedule completes, ask:  \\n            \u201cAnything else I can help with?\u201d  \\n            If caller says \u201cno\u201d, use `end_call()`.\\n            If the phone number is unclear or has extra/missing digits, ask the caller to repeat it digit by digit.\\n                Do not guess phone numbers.\\n                Always confirm the final number by repeating it back.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESCHEDULE FLOW\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            When the caller says anything like \u201cchange\u201d, \u201cmove\u201d, \u201creschedule\u201d, \u201cshift\u201d:\\n            1. Call **start_reschedule**.\\n            2. Ask for the new date.\\n            3. Once date \u2192 ask for time.\\n            4. When BOTH are known \u2192 call **confirm_reschedule**.\\n            5. After confirmation \u2192 ask:  \\n            \u201cAnything else I can help with?\u201d\\n\\n            Never call `confirm_reschedule` early.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CONVERSATION STYLE\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Speak like a calm clinic receptionist.\\n            - Use short sentences.  \\n            - One question per turn.  \\n            - No filler like \u201cas an AI\u201d.  \\n            - No medical advice.  \\n            - Don't ask for information you already have.\\n\\n            **Good examples:**\\n            - \u201cSure. What day works for you?\u201d\\n            - \u201cGot it. And what time?\u201d\\n            - \u201cPerfect. One moment while I check.\u201d\\n\\n            **Bad examples:**\\n            - \u201cLet me call a tool.\u201d\\n            - \u201cProcessing your request.\u201d\\n            - \u201cI am updating your appointment in the database.\u201d\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESPONSE CONTROL\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Never output long paragraphs.  \\n            - Never output lists or explanations.  \\n            - Keep responses conversational and human.  \\n            - If caller pauses 5 seconds, use `end_call()`.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### ROLE REMINDER\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            You are the first point of contact for Shifa Clinic.  \\n            Be warm. Be efficient. Be human.\\n\\n            Now handle the caller.\\n\\n\"}, {'role': 'assistant', 'content': 'Good evening, Abdul Basit! How can I assist you today?'}, {'role': 'user', 'content': 'I want to book an appointment.'}, {'role': 'assistant', 'content': 'Sure! What day works for you?'}, {'role': 'user', 'content': 'Tomorrow morning,'}, {'role': 'assistant', 'tool_calls': [{'id': 'call_DKNNG3ysq3QvMrKEAqLQ5n9t', 'type': 'function', 'function': {'name': 'available_slot', 'arguments': '{\"day\":\"tomorrow\",\"date\":\"2023-10-10\",\"time\":\"morning\"}'}}]}, {'role': 'tool', 'tool_call_id': 'call_DKNNG3ysq3QvMrKEAqLQ5n9t', 'content': 'On Wednesday, November 19, I have 9:00 AM, 9:30 AM, or 10:00 AM available. Which time works best for you?'}, {'role': 'assistant', 'content': 'I have 9:00 AM, 9:30 AM, or 10:00 AM. Which time?'}, {'role': 'user', 'content': 'Ten AM would be good.'}, {'role': 'assistant', 'tool_calls': [{'id': 'call_fMXhJvt6PpzNhzTxLbZA6pMU', 'type': 'function', 'function': {'name': 'booking_appointment', 'arguments': '{\"time\":\"10:00 AM\"}'}}]}, {'role': 'tool', 'tool_call_id': 'call_fMXhJvt6PpzNhzTxLbZA6pMU', 'content': 'Before booking, may I have your phone number?'}, {'role': 'assistant', 'content': 'Can you please provide your phone number?'}, {'role': 'user', 'content': \"Phone number where I'm calling.\"}], 'model': 'gpt-4o-mini', 'stream': True, 'stream_options': {'include_usage': True}, 'temperature': 0.7, 'tools': [{'type': 'function', 'function': {'name': 'save_name', 'strict': True, 'description': '', 'parameters': {'properties': {'name': {'type': 'string'}}, 'required': ['name'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'save_phone', 'strict': True, 'description': 'Store validated patient phone in Redis using existing BookingBase validator.', 'parameters': {'properties': {'phone': {'type': 'string'}}, 'required': ['phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'available_slot', 'strict': True, 'description': 'Suggest available appointment slots for a given day.\\n- Understands natural language (\"tomorrow\", \"morning\", \"after 2pm\")\\n- Always fetches fresh availability from DB.\\n- Returns top 3 free slots.\\n- Stores them in ctx.suggested_slots for booking_appointment.', 'parameters': {'properties': {'day': {'type': 'string'}, 'date': {'type': 'string'}, 'time': {'type': 'string'}}, 'required': ['day', 'date', 'time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'booking_appointment', 'strict': True, 'description': 'Create or reschedule an appointment.\\nClean, predictable, AI-friendly logic.\\nUses helper functions for DB safety.', 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'get_date', 'strict': True, 'description': 'Return system date and time.', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'end_call', 'strict': True, 'description': \"Gracefully end the call after confirming there's nothing else needed.\\nDoes not clear Redis; short-term memory expires via TTL.\", 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'update_caller_profile', 'strict': True, 'description': 'Persist caller profile (name/phone) for future calls without disrupting session.\\nIf phone not provided, uses current session phone if available.', 'parameters': {'properties': {'name': {'type': ['string', 'null']}, 'phone': {'type': ['string', 'null']}}, 'required': ['name', 'phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'start_reschedule', 'strict': True, 'description': '', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'confirm_reschedule', 'strict': True, 'description': \"Confirm and perform rescheduling to the selected date/time.\\nUse after start_reschedule + available_slot when the caller says 'yes'.\", 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}]}}"}
{"timestamp": "2025-11-18T16:06:55.840545", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions"}
{"timestamp": "2025-11-18T16:06:55.841321", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=10.0 socket_options=None"}
{"timestamp": "2025-11-18T16:06:56.067910", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482016.066862, 'idle_time': 0.34986737501458265, 'inference_duration_total': 0.04950987300253473, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:56.068394", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482016.066862, 'idle_time': 0.34986737501458265, 'inference_duration_total': 0.04950987300253473, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:56.102544", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x13741db50>"}
{"timestamp": "2025-11-18T16:06:56.102811", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x136924050> server_hostname='api.openai.com' timeout=10.0"}
{"timestamp": "2025-11-18T16:06:56.116722", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x13741c7d0>"}
{"timestamp": "2025-11-18T16:06:56.117518", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:06:56.118138", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-18T16:06:56.118286", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:06:56.118686", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-18T16:06:56.118801", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:06:57.045196", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 18 Nov 2025 16:06:57 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'545'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'682'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9993'), (b'x-ratelimit-remaining-tokens', b'198533'), (b'x-ratelimit-reset-requests', b'56.012s'), (b'x-ratelimit-reset-tokens', b'440ms'), (b'x-request-id', b'req_f99fd0e640404e9a9e1c63a0b9d116a9'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a08b7cb0a8a4b55-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:06:57.046598", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/chat/completions \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-18T16:06:57.046879", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Tue, 18 Nov 2025 16:06:57 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '545', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '682', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9993', 'x-ratelimit-remaining-tokens': '198533', 'x-ratelimit-reset-requests': '56.012s', 'x-ratelimit-reset-tokens': '440ms', 'x-request-id': 'req_f99fd0e640404e9a9e1c63a0b9d116a9', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a08b7cb0a8a4b55-KHI', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-18T16:06:57.047233", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_f99fd0e640404e9a9e1c63a0b9d116a9"}
{"timestamp": "2025-11-18T16:06:57.047693", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:06:57.116849", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482017.116493, 'idle_time': 1.3994916249939706, 'inference_duration_total': 0.027023000962799415, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:57.117215", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482017.116493, 'idle_time': 1.3994916249939706, 'inference_duration_total': 0.027023000962799415, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:57.163420", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-18T16:06:57.164164", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-18T16:06:57.165164", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIWGPAdasJFaXm4QQ4XbFsPMNztZ', 'timestamp': 1763482017.1648488, 'duration': 1.3441312499926426, 'ttft': 1.3250945420004427, 'cancelled': False, 'completion_tokens': 14, 'prompt_tokens': 1531, 'prompt_cached_tokens': 1408, 'total_tokens': 1545, 'tokens_per_second': 10.415649513450887, 'speech_id': 'speech_7bda6176c56f', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:06:57.165613", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIWGPAdasJFaXm4QQ4XbFsPMNztZ', 'timestamp': 1763482017.1648488, 'duration': 1.3441312499926426, 'ttft': 1.3250945420004427, 'cancelled': False, 'completion_tokens': 14, 'prompt_tokens': 1531, 'prompt_cached_tokens': 1408, 'total_tokens': 1545, 'tokens_per_second': 10.415649513450887, 'speech_id': 'speech_7bda6176c56f', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:06:57.167603", "level": "DEBUG", "logger": "livekit.agents", "message": "executing tool"}
{"timestamp": "2025-11-18T16:06:57.169803", "level": "INFO", "logger": "voice_agent.tools", "message": "[save_phone] \ud83d\udcde Called for participant:"}
{"timestamp": "2025-11-18T16:06:57.170021", "level": "INFO", "logger": "voice_agent.tools", "message": "[save_phone] Raw phone input: 'unknown'"}
{"timestamp": "2025-11-18T16:06:57.172678", "level": "WARNING", "logger": "voice_agent.tools", "message": "[save_phone] \u274c Validation failed for phone='unknown': 1 validation error for BookingBase\nphone\n  Value error, Invalid phone number length. [type=value_error, input_value='unknown', input_type=str]\n    For further information visit https://errors.pydantic.dev/2.12/v/value_error"}
{"timestamp": "2025-11-18T16:06:57.172926", "level": "INFO", "logger": "voice_agent.tools", "message": "[save_phone] \ud83d\udcde Called for participant:"}
{"timestamp": "2025-11-18T16:06:57.173186", "level": "INFO", "logger": "voice_agent.tools", "message": "[save_phone] Raw phone input: 'unknown'"}
{"timestamp": "2025-11-18T16:06:57.174328", "level": "WARNING", "logger": "voice_agent.tools", "message": "[save_phone] \u274c Validation failed for phone='unknown': 1 validation error for BookingBase\nphone\n  Value error, Invalid phone number length. [type=value_error, input_value='unknown', input_type=str]\n    For further information visit https://errors.pydantic.dev/2.12/v/value_error"}
{"timestamp": "2025-11-18T16:06:57.175235", "level": "DEBUG", "logger": "livekit.agents", "message": "tools execution completed"}
{"timestamp": "2025-11-18T16:06:57.175759", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.failed exception=GeneratorExit()"}
{"timestamp": "2025-11-18T16:06:57.176905", "level": "ERROR", "logger": "livekit", "message": "failed to emit event function_tools_executed", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 274, in on_tools_executed\n    \"output\": output.result\n              ^^^^^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/pydantic/main.py\", line 1026, in __getattr__\n    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\nAttributeError: 'FunctionCallOutput' object has no attribute 'result'"}
{"timestamp": "2025-11-18T16:06:57.178367", "level": "ERROR", "logger": "livekit", "message": "failed to emit event function_tools_executed\nTraceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 274, in on_tools_executed\n    \"output\": output.result\n              ^^^^^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/pydantic/main.py\", line 1026, in __getattr__\n    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\nAttributeError: 'FunctionCallOutput' object has no attribute 'result'"}
{"timestamp": "2025-11-18T16:06:57.188629", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'timeout': Timeout(timeout=10.0), 'files': None, 'idempotency_key': 'stainless-python-retry-805110aa-76a3-4ab6-be8d-c875568d3229', 'json_data': {'messages': [{'role': 'system', 'content': \"\\n        You are **Shifa Clinic\u2019s AI Receptionist**, answering calls in real time.\\n            Your role is to help callers with booking, confirming, or rescheduling appointments.\\n            Speak naturally, briefly, and professionally\u2014like an experienced clinic receptionist.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CORE BEHAVIOR\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            1. **Every call is fresh.**  \\n            Do not rely on previous session context. Use only:\\n            - caller name (if known)\\n            - caller phone (if known)\\n            - information spoken in THIS call\\n            \\n\\n            2. **One task at a time.**  \\n            Every reply must:\\n            - confirm the last thing the caller said\\n            - take one small step forward (ask ONE question)\\n            - be under **8 words**\\n                Always respond in under 8 words. Prioritize immediate tool calls. Do not speak long sentences.\\n\\n            3. **Never expose internal logic.**  \\n            Never say:\\n            - \u201ccalling a tool\u2026\u201d\\n            - \u201csaving memory\u2026\u201d\\n            - \u201cI detected your name\u2026\u201d\\n            - \u201cupdating the appointment\u2026\u201d\\n\\n            4. **Always stay polite, warm, and concise.**\\n            Examples:\\n            - \u201cSure, one moment.\u201d\\n            - \u201cGot it.\u201d\\n            - \u201cLet me check that.\u201d\\n\\n            5. **If caller seems confused, repeat slowly and simply.**\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### TOOL CALLING RULES\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            Use tools to perform actions.  \\n            After calling a tool, speak a short natural confirmation.\\n\\n            **Tools you may call:**\\n            - `save_name(name)`\\n            - `save_phone(phone)`\\n            - `available_slot()`\\n            - `booking_appointment()`\\n            - `get_date()`\\n            - `update_caller_profile(name?, phone?)`\\n            - `start_reschedule()`\\n            - `confirm_reschedule()`\\n            - `end_call()`\\n\\n            Tool usage guidelines:\\n            - Call **save_name** immediately when you hear a name.\\n            - Call **save_phone** when digits are spoken.  \\n            If partial, ask: \u201cCan you repeat that number slowly?\u201d\\n            - Call **available_slot** when caller expresses a time preference (morning, evening, 3pm, etc.)\\n            - Call **get_date** when caller gives a vague date (\u201cnext Monday\u201d).\\n            - Call **booking_appointment** only when BOTH date and time are known.\\n            - Call **update_caller_profile** if caller corrects name or phone.\\n            - After a booking or reschedule completes, ask:  \\n            \u201cAnything else I can help with?\u201d  \\n            If caller says \u201cno\u201d, use `end_call()`.\\n            If the phone number is unclear or has extra/missing digits, ask the caller to repeat it digit by digit.\\n                Do not guess phone numbers.\\n                Always confirm the final number by repeating it back.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESCHEDULE FLOW\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            When the caller says anything like \u201cchange\u201d, \u201cmove\u201d, \u201creschedule\u201d, \u201cshift\u201d:\\n            1. Call **start_reschedule**.\\n            2. Ask for the new date.\\n            3. Once date \u2192 ask for time.\\n            4. When BOTH are known \u2192 call **confirm_reschedule**.\\n            5. After confirmation \u2192 ask:  \\n            \u201cAnything else I can help with?\u201d\\n\\n            Never call `confirm_reschedule` early.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CONVERSATION STYLE\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Speak like a calm clinic receptionist.\\n            - Use short sentences.  \\n            - One question per turn.  \\n            - No filler like \u201cas an AI\u201d.  \\n            - No medical advice.  \\n            - Don't ask for information you already have.\\n\\n            **Good examples:**\\n            - \u201cSure. What day works for you?\u201d\\n            - \u201cGot it. And what time?\u201d\\n            - \u201cPerfect. One moment while I check.\u201d\\n\\n            **Bad examples:**\\n            - \u201cLet me call a tool.\u201d\\n            - \u201cProcessing your request.\u201d\\n            - \u201cI am updating your appointment in the database.\u201d\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESPONSE CONTROL\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Never output long paragraphs.  \\n            - Never output lists or explanations.  \\n            - Keep responses conversational and human.  \\n            - If caller pauses 5 seconds, use `end_call()`.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### ROLE REMINDER\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            You are the first point of contact for Shifa Clinic.  \\n            Be warm. Be efficient. Be human.\\n\\n            Now handle the caller.\\n\\n\"}, {'role': 'assistant', 'content': 'Good evening, Abdul Basit! How can I assist you today?'}, {'role': 'user', 'content': 'I want to book an appointment.'}, {'role': 'assistant', 'content': 'Sure! What day works for you?'}, {'role': 'user', 'content': 'Tomorrow morning,'}, {'role': 'assistant', 'tool_calls': [{'id': 'call_DKNNG3ysq3QvMrKEAqLQ5n9t', 'type': 'function', 'function': {'name': 'available_slot', 'arguments': '{\"day\":\"tomorrow\",\"date\":\"2023-10-10\",\"time\":\"morning\"}'}}]}, {'role': 'tool', 'tool_call_id': 'call_DKNNG3ysq3QvMrKEAqLQ5n9t', 'content': 'On Wednesday, November 19, I have 9:00 AM, 9:30 AM, or 10:00 AM available. Which time works best for you?'}, {'role': 'assistant', 'content': 'I have 9:00 AM, 9:30 AM, or 10:00 AM. Which time?'}, {'role': 'user', 'content': 'Ten AM would be good.'}, {'role': 'assistant', 'tool_calls': [{'id': 'call_fMXhJvt6PpzNhzTxLbZA6pMU', 'type': 'function', 'function': {'name': 'booking_appointment', 'arguments': '{\"time\":\"10:00 AM\"}'}}]}, {'role': 'tool', 'tool_call_id': 'call_fMXhJvt6PpzNhzTxLbZA6pMU', 'content': 'Before booking, may I have your phone number?'}, {'role': 'assistant', 'content': 'Can you please provide your phone number?'}, {'role': 'user', 'content': \"Phone number where I'm calling.\"}, {'role': 'assistant', 'tool_calls': [{'id': 'call_goi3lg5T75vevVX0qoICDPEo', 'type': 'function', 'function': {'name': 'save_phone', 'arguments': '{\"phone\":\"unknown\"}'}}]}, {'role': 'tool', 'tool_call_id': 'call_goi3lg5T75vevVX0qoICDPEo', 'content': 'That number doesn\u2019t seem right. Could you please repeat your phone number?'}], 'model': 'gpt-4o-mini', 'stream': True, 'stream_options': {'include_usage': True}, 'temperature': 0.7, 'tool_choice': 'auto', 'tools': [{'type': 'function', 'function': {'name': 'save_name', 'strict': True, 'description': '', 'parameters': {'properties': {'name': {'type': 'string'}}, 'required': ['name'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'save_phone', 'strict': True, 'description': 'Store validated patient phone in Redis using existing BookingBase validator.', 'parameters': {'properties': {'phone': {'type': 'string'}}, 'required': ['phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'available_slot', 'strict': True, 'description': 'Suggest available appointment slots for a given day.\\n- Understands natural language (\"tomorrow\", \"morning\", \"after 2pm\")\\n- Always fetches fresh availability from DB.\\n- Returns top 3 free slots.\\n- Stores them in ctx.suggested_slots for booking_appointment.', 'parameters': {'properties': {'day': {'type': 'string'}, 'date': {'type': 'string'}, 'time': {'type': 'string'}}, 'required': ['day', 'date', 'time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'booking_appointment', 'strict': True, 'description': 'Create or reschedule an appointment.\\nClean, predictable, AI-friendly logic.\\nUses helper functions for DB safety.', 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'get_date', 'strict': True, 'description': 'Return system date and time.', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'end_call', 'strict': True, 'description': \"Gracefully end the call after confirming there's nothing else needed.\\nDoes not clear Redis; short-term memory expires via TTL.\", 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'update_caller_profile', 'strict': True, 'description': 'Persist caller profile (name/phone) for future calls without disrupting session.\\nIf phone not provided, uses current session phone if available.', 'parameters': {'properties': {'name': {'type': ['string', 'null']}, 'phone': {'type': ['string', 'null']}}, 'required': ['name', 'phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'start_reschedule', 'strict': True, 'description': '', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'confirm_reschedule', 'strict': True, 'description': \"Confirm and perform rescheduling to the selected date/time.\\nUse after start_reschedule + available_slot when the caller says 'yes'.\", 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}]}}"}
{"timestamp": "2025-11-18T16:06:57.190047", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions"}
{"timestamp": "2025-11-18T16:06:57.190508", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=10.0 socket_options=None"}
{"timestamp": "2025-11-18T16:06:57.199116", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x13741eb10>"}
{"timestamp": "2025-11-18T16:06:57.199304", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x136924050> server_hostname='api.openai.com' timeout=10.0"}
{"timestamp": "2025-11-18T16:06:57.212572", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x13741fd50>"}
{"timestamp": "2025-11-18T16:06:57.212823", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:06:57.213129", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-18T16:06:57.213222", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:06:57.213447", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-18T16:06:57.213519", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:06:58.054669", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 18 Nov 2025 16:06:58 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'424'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'514'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9992'), (b'x-ratelimit-remaining-tokens', b'198512'), (b'x-ratelimit-reset-requests', b'1m3.511s'), (b'x-ratelimit-reset-tokens', b'446ms'), (b'x-request-id', b'req_128f67fee2e04cb0a7d18645d79ecf4e'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a08b7d1dcf5909b-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:06:58.055669", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/chat/completions \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-18T16:06:58.055918", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Tue, 18 Nov 2025 16:06:58 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '424', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '514', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9992', 'x-ratelimit-remaining-tokens': '198512', 'x-ratelimit-reset-requests': '1m3.511s', 'x-ratelimit-reset-tokens': '446ms', 'x-request-id': 'req_128f67fee2e04cb0a7d18645d79ecf4e', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a08b7d1dcf5909b-KHI', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-18T16:06:58.056281", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_128f67fee2e04cb0a7d18645d79ecf4e"}
{"timestamp": "2025-11-18T16:06:58.056587", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:06:58.117848", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482018.117429, 'idle_time': 2.400420749996556, 'inference_duration_total': 0.03846408604294993, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:58.118419", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482018.117429, 'idle_time': 2.400420749996556, 'inference_duration_total': 0.03846408604294993, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:58.190323", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-18T16:06:58.192166", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-18T16:06:58.193410", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIWHGT6A8ZIh3FsBxbqsr0diGju2', 'timestamp': 1763482018.192925, 'duration': 1.01403529199888, 'ttft': 0.9244910419802181, 'cancelled': False, 'completion_tokens': 8, 'prompt_tokens': 1568, 'prompt_cached_tokens': 1408, 'total_tokens': 1576, 'tokens_per_second': 7.889271767090367, 'speech_id': 'speech_7bda6176c56f', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:06:58.193751", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIWHGT6A8ZIh3FsBxbqsr0diGju2', 'timestamp': 1763482018.192925, 'duration': 1.01403529199888, 'ttft': 0.9244910419802181, 'cancelled': False, 'completion_tokens': 8, 'prompt_tokens': 1568, 'prompt_cached_tokens': 1408, 'total_tokens': 1576, 'tokens_per_second': 7.889271767090367, 'speech_id': 'speech_7bda6176c56f', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:06:58.195557", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream', 'X-Stainless-Raw-Response': 'stream'}, 'timeout': Timeout(connect=10.0, read=30, write=30, pool=30), 'files': None, 'idempotency_key': 'stainless-python-retry-07c98e76-8cf6-487c-b822-2795ed18b5ca', 'json_data': {'input': 'Please repeat your phone number slowly.', 'model': 'gpt-4o-mini-tts', 'voice': 'alloy', 'response_format': 'mp3', 'speed': 1.0}}"}
{"timestamp": "2025-11-18T16:06:58.196653", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/audio/speech"}
{"timestamp": "2025-11-18T16:06:58.197638", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:06:58.199057", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-18T16:06:58.199286", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:06:58.199656", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-18T16:06:58.199757", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:06:58.200196", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.failed exception=GeneratorExit()"}
{"timestamp": "2025-11-18T16:06:59.015755", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '0dcb68df-c3ce-4c8e-ad53-cee822f5b70b', 'timestamp': 1763482019.015499, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:06:59.016241", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '0dcb68df-c3ce-4c8e-ad53-cee822f5b70b', 'timestamp': 1763482019.015499, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:06:59.167374", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482019.166837, 'idle_time': 3.449822624999797, 'inference_duration_total': 0.03978058500797488, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:06:59.168187", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482019.166837, 'idle_time': 3.449822624999797, 'inference_duration_total': 0.03978058500797488, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:07:00.167474", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482020.167181, 'idle_time': 4.450159583007917, 'inference_duration_total': 0.03388166698277928, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:07:00.167910", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482020.167181, 'idle_time': 4.450159583007917, 'inference_duration_total': 0.03388166698277928, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:07:00.884974", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 18 Nov 2025 16:07:01 GMT'), (b'Content-Type', b'audio/mpeg'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'662'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'676'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9991'), (b'x-ratelimit-remaining-tokens', b'199991'), (b'x-ratelimit-reset-requests', b'1m11.205s'), (b'x-ratelimit-reset-tokens', b'2ms'), (b'x-request-id', b'req_5fbc0a6116f94b2598ac8eb9e6eadd15'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a08b7d80dd74b55-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:07:00.886182", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/audio/speech \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-18T16:07:00.886524", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/audio/speech \"200 OK\" Headers({'date': 'Tue, 18 Nov 2025 16:07:01 GMT', 'content-type': 'audio/mpeg', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '662', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '676', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9991', 'x-ratelimit-remaining-tokens': '199991', 'x-ratelimit-reset-requests': '1m11.205s', 'x-ratelimit-reset-tokens': '2ms', 'x-request-id': 'req_5fbc0a6116f94b2598ac8eb9e6eadd15', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a08b7d80dd74b55-KHI', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-18T16:07:00.887135", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_5fbc0a6116f94b2598ac8eb9e6eadd15"}
{"timestamp": "2025-11-18T16:07:00.887639", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:07:01.216512", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482021.216237, 'idle_time': 5.499208583001746, 'inference_duration_total': 0.02901058184215799, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:07:01.216979", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482021.216237, 'idle_time': 5.499208583001746, 'inference_duration_total': 0.02901058184215799, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:07:01.669820", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete"}
{"timestamp": "2025-11-18T16:07:01.670141", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-18T16:07:01.670408", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-18T16:07:01.676072", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_5fbc0a6116f94b2598ac8eb9e6eadd15', 'timestamp': 1763482021.6756501, 'ttfb': 2.8458951669745147, 'duration': 3.480944708979223, 'audio_duration': 2.2899999999999996, 'cancelled': False, 'characters_count': 39, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_7bda6176c56f', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:07:01.676540", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_5fbc0a6116f94b2598ac8eb9e6eadd15', 'timestamp': 1763482021.6756501, 'ttfb': 2.8458951669745147, 'duration': 3.480944708979223, 'audio_duration': 2.2899999999999996, 'cancelled': False, 'characters_count': 39, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_7bda6176c56f', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:07:02.218174", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482022.217653, 'idle_time': 6.500617750018137, 'inference_duration_total': 0.02664129386539571, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:07:02.218864", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482022.217653, 'idle_time': 6.500617750018137, 'inference_duration_total': 0.02664129386539571, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:07:03.267543", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482023.26701, 'idle_time': 7.5499674169986974, 'inference_duration_total': 0.03284937297576107, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:07:03.268322", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482023.26701, 'idle_time': 7.5499674169986974, 'inference_duration_total': 0.03284937297576107, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:07:04.016792", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '0dcb68df-c3ce-4c8e-ad53-cee822f5b70b', 'timestamp': 1763482024.016264, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:07:04.018151", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '0dcb68df-c3ce-4c8e-ad53-cee822f5b70b', 'timestamp': 1763482024.016264, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:07:04.267091", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482024.266777, 'idle_time': 8.549728000012692, 'inference_duration_total': 0.030583080981159583, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:07:04.267559", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482024.266777, 'idle_time': 8.549728000012692, 'inference_duration_total': 0.030583080981159583, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:07:05.315966", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482025.315663, 'idle_time': 9.598606957995798, 'inference_duration_total': 0.04037400192464702, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:07:05.316489", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482025.315663, 'idle_time': 9.598606957995798, 'inference_duration_total': 0.04037400192464702, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:07:06.317912", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482026.317363, 'idle_time': 10.60030016701785, 'inference_duration_total': 0.03010862207156606, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:07:06.318758", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482026.317363, 'idle_time': 10.60030016701785, 'inference_duration_total': 0.03010862207156606, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:07:07.367324", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482027.366792, 'idle_time': 11.649722667003516, 'inference_duration_total': 0.032176419044844806, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:07:07.368242", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482027.366792, 'idle_time': 11.649722667003516, 'inference_duration_total': 0.032176419044844806, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:07:08.368963", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482028.368313, 'idle_time': 12.651236375008011, 'inference_duration_total': 0.03437741700327024, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:07:08.369688", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482028.368313, 'idle_time': 12.651236375008011, 'inference_duration_total': 0.03437741700327024, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:07:09.067019", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '0dcb68df-c3ce-4c8e-ad53-cee822f5b70b', 'timestamp': 1763482029.066519, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:07:09.068146", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '0dcb68df-c3ce-4c8e-ad53-cee822f5b70b', 'timestamp': 1763482029.066519, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:07:09.418027", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482029.4174669, 'idle_time': 13.700383832998341, 'inference_duration_total': 0.04544800103758462, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:07:09.418879", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482029.4174669, 'idle_time': 13.700383832998341, 'inference_duration_total': 0.04544800103758462, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:07:10.418177", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482030.4175282, 'idle_time': 14.700437457999215, 'inference_duration_total': 0.03710929103544913, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:07:10.419235", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482030.4175282, 'idle_time': 14.700437457999215, 'inference_duration_total': 0.03710929103544913, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:07:11.468396", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482031.467819, 'idle_time': 15.75072170799831, 'inference_duration_total': 0.03727245793561451, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:07:11.469404", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482031.467819, 'idle_time': 15.75072170799831, 'inference_duration_total': 0.03727245793561451, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:07:12.467897", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482032.467226, 'idle_time': 16.750122041994473, 'inference_duration_total': 0.029802048025885597, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:07:12.468715", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482032.467226, 'idle_time': 16.750122041994473, 'inference_duration_total': 0.029802048025885597, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:07:13.518697", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482033.517664, 'idle_time': 17.80055300000822, 'inference_duration_total': 0.03566283007967286, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:07:13.519982", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482033.517664, 'idle_time': 17.80055300000822, 'inference_duration_total': 0.03566283007967286, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:07:14.116488", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '0dcb68df-c3ce-4c8e-ad53-cee822f5b70b', 'timestamp': 1763482034.1159198, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:07:14.117484", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '0dcb68df-c3ce-4c8e-ad53-cee822f5b70b', 'timestamp': 1763482034.1159198, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:07:14.517139", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482034.5165892, 'idle_time': 18.79947137500858, 'inference_duration_total': 0.0315617500746157, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:07:14.517886", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482034.5165892, 'idle_time': 18.79947137500858, 'inference_duration_total': 0.0315617500746157, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:07:15.568136", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482035.5675142, 'idle_time': 19.850389083003392, 'inference_duration_total': 0.037749168113805354, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:07:15.569153", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482035.5675142, 'idle_time': 19.850389083003392, 'inference_duration_total': 0.037749168113805354, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:07:16.565413", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482036.565217, 'idle_time': 20.848085500008892, 'inference_duration_total': 0.0316032079863362, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:07:16.565802", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482036.565217, 'idle_time': 20.848085500008892, 'inference_duration_total': 0.0316032079863362, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:07:17.568135", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482037.567604, 'idle_time': 21.850465750001604, 'inference_duration_total': 0.033907250937772915, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:07:17.570057", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482037.567604, 'idle_time': 21.850465750001604, 'inference_duration_total': 0.033907250937772915, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:07:18.618172", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482038.617635, 'idle_time': 22.900490041996818, 'inference_duration_total': 0.030889207089785486, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:07:18.619139", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482038.617635, 'idle_time': 22.900490041996818, 'inference_duration_total': 0.030889207089785486, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:07:19.166533", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '0dcb68df-c3ce-4c8e-ad53-cee822f5b70b', 'timestamp': 1763482039.1660118, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:07:19.167361", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '0dcb68df-c3ce-4c8e-ad53-cee822f5b70b', 'timestamp': 1763482039.1660118, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:07:19.619337", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482039.618797, 'idle_time': 23.90164491700125, 'inference_duration_total': 0.03749320798669942, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:07:19.620117", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482039.618797, 'idle_time': 23.90164491700125, 'inference_duration_total': 0.03749320798669942, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:07:20.668006", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482040.667465, 'idle_time': 24.95030662501813, 'inference_duration_total': 0.03600678898510523, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:07:20.670386", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482040.667465, 'idle_time': 24.95030662501813, 'inference_duration_total': 0.03600678898510523, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:07:21.666348", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482041.6661289, 'idle_time': 25.948963667004136, 'inference_duration_total': 0.0349927939241752, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:07:21.666702", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482041.6661289, 'idle_time': 25.948963667004136, 'inference_duration_total': 0.0349927939241752, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:07:21.856170", "level": "INFO", "logger": "livekit.agents", "message": "closing agent session due to participant disconnect (disable via `RoomInputOptions.close_on_disconnect=False`)"}
{"timestamp": "2025-11-18T16:07:21.859375", "level": "INFO", "logger": "livekit.agents", "message": "closing agent session due to participant disconnect (disable via `RoomInputOptions.close_on_disconnect=False`)"}
{"timestamp": "2025-11-18T16:07:21.859542", "level": "DEBUG", "logger": "livekit.agents", "message": "stream closed"}
{"timestamp": "2025-11-18T16:07:21.860257", "level": "DEBUG", "logger": "livekit.agents", "message": "input stream detached"}
{"timestamp": "2025-11-18T16:07:23.866463", "level": "DEBUG", "logger": "livekit.agents", "message": "session closed"}
{"timestamp": "2025-11-18T16:07:42.955210", "level": "DEBUG", "logger": "livekit.agents", "message": "shutting down job task"}
{"timestamp": "2025-11-18T16:07:42.956592", "level": "INFO", "logger": "livekit.agents", "message": "process exiting"}
{"timestamp": "2025-11-18T16:07:42.957640", "level": "DEBUG", "logger": "livekit.agents", "message": "http_session(): closing the httpclient ctx"}
{"timestamp": "2025-11-18T16:11:08.916134", "level": "INFO", "logger": "livekit.agents", "message": "draining worker"}
{"timestamp": "2025-11-18T16:11:08.922809", "level": "INFO", "logger": "livekit.agents", "message": "shutting down worker"}
{"timestamp": "2025-11-18T16:11:09.230329", "level": "WARNING", "logger": "livekit.agents", "message": "exiting forcefully"}
{"timestamp": "2025-11-18T16:11:12.543024", "level": "INFO", "logger": "livekit.agents", "message": "starting worker"}
{"timestamp": "2025-11-18T16:11:12.571583", "level": "INFO", "logger": "livekit.agents", "message": "initializing process"}
{"timestamp": "2025-11-18T16:11:12.573186", "level": "INFO", "logger": "livekit.agents", "message": "initializing process"}
{"timestamp": "2025-11-18T16:11:12.573498", "level": "INFO", "logger": "livekit.agents", "message": "initializing process"}
{"timestamp": "2025-11-18T16:11:12.574084", "level": "INFO", "logger": "livekit.agents", "message": "initializing process"}
{"timestamp": "2025-11-18T16:11:13.818766", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-18T16:11:13.818804", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-18T16:11:13.818780", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-18T16:11:13.818785", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-18T16:11:13.820503", "level": "INFO", "logger": "livekit.agents", "message": "process initialized"}
{"timestamp": "2025-11-18T16:11:13.821136", "level": "INFO", "logger": "livekit.agents", "message": "process initialized"}
{"timestamp": "2025-11-18T16:11:13.821253", "level": "INFO", "logger": "livekit.agents", "message": "process initialized"}
{"timestamp": "2025-11-18T16:11:13.821351", "level": "INFO", "logger": "livekit.agents", "message": "process initialized"}
{"timestamp": "2025-11-18T16:11:15.425568", "level": "INFO", "logger": "livekit.agents", "message": "registered worker"}
{"timestamp": "2025-11-18T16:11:20.700681", "level": "INFO", "logger": "livekit.agents", "message": "received job request"}
{"timestamp": "2025-11-18T16:11:21.329184", "level": "INFO", "logger": "livekit", "message": "livekit_ffi::server:139:livekit_ffi::server - initializing ffi server v0.12.39"}
{"timestamp": "2025-11-18T16:11:21.330229", "level": "INFO", "logger": "livekit", "message": "livekit_ffi::cabi:50:livekit_ffi::cabi - initializing ffi server v0.12.39"}
{"timestamp": "2025-11-18T16:11:21.345663", "level": "INFO", "logger": "livekit.agents", "message": "initializing process"}
{"timestamp": "2025-11-18T16:11:21.354431", "level": "INFO", "logger": "livekit", "message": "livekit_api::signal_client::signal_stream:92:livekit_api::signal_client::signal_stream - connecting to wss://testing-mwtbjpwy.livekit.cloud/rtc?sdk=python&protocol=16&auto_subscribe=1&adaptive_stream=0&version=1.0.18"}
{"timestamp": "2025-11-18T16:11:22.205595", "level": "DEBUG", "logger": "livekit", "message": "rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 153 valid and 0 invalid certs"}
{"timestamp": "2025-11-18T16:11:22.205804", "level": "DEBUG", "logger": "livekit", "message": "tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 153/153 native root certificates (ignored 0)"}
{"timestamp": "2025-11-18T16:11:22.205971", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::hs:73:rustls::client::hs - No cached session for DnsName(\"testing-mwtbjpwy.livekit.cloud\")"}
{"timestamp": "2025-11-18T16:11:22.206120", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::hs:132:rustls::client::hs - Not resuming any session"}
{"timestamp": "2025-11-18T16:11:22.377165", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256"}
{"timestamp": "2025-11-18T16:11:22.377323", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::tls13:142:rustls::client::tls13 - Not resuming"}
{"timestamp": "2025-11-18T16:11:22.377522", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []"}
{"timestamp": "2025-11-18T16:11:22.377648", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::hs:472:rustls::client::hs - ALPN protocol is None"}
{"timestamp": "2025-11-18T16:11:22.468290", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-18T16:11:22.468490", "level": "INFO", "logger": "livekit.agents", "message": "process initialized"}
{"timestamp": "2025-11-18T16:11:23.194279", "level": "DEBUG", "logger": "livekit", "message": "tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done."}
{"timestamp": "2025-11-18T16:11:26.928408", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udd0c Redis Connected: True"}
{"timestamp": "2025-11-18T16:11:26.930336", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Incoming call from: sip_+17194515279"}
{"timestamp": "2025-11-18T16:11:26.930559", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udd0c Redis Connected: True"}
{"timestamp": "2025-11-18T16:11:26.930825", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Caller Phone Detected (normalized): 17194515279"}
{"timestamp": "2025-11-18T16:11:26.931214", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Incoming call from: sip_+17194515279"}
{"timestamp": "2025-11-18T16:11:26.931356", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Caller Phone Detected (normalized): 17194515279"}
{"timestamp": "2025-11-18T16:11:26.932006", "level": "WARNING", "logger": "telephony-agent", "message": "[Profile] Failed to load profile: 'CallerProfile' object has no attribute 'get'"}
{"timestamp": "2025-11-18T16:11:26.933609", "level": "WARNING", "logger": "telephony-agent", "message": "[Profile] Failed to load profile: 'CallerProfile' object has no attribute 'get'"}
{"timestamp": "2025-11-18T16:11:27.151078", "level": "DEBUG", "logger": "livekit.agents", "message": "input stream attached"}
{"timestamp": "2025-11-18T16:11:27.154472", "level": "DEBUG", "logger": "livekit.agents", "message": "http_session(): creating a new httpclient ctx"}
{"timestamp": "2025-11-18T16:11:27.174170", "level": "DEBUG", "logger": "livekit.agents", "message": "using audio io: `RoomIO` -> `AgentSession` -> `TranscriptSynchronizer` -> `RoomIO`"}
{"timestamp": "2025-11-18T16:11:27.174408", "level": "DEBUG", "logger": "livekit.agents", "message": "using transcript io: `AgentSession` -> `TranscriptSynchronizer` -> `RoomIO`"}
{"timestamp": "2025-11-18T16:11:27.297446", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'get', 'url': '/'}"}
{"timestamp": "2025-11-18T16:11:27.298038", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: GET https://api.openai.com/v1/"}
{"timestamp": "2025-11-18T16:11:27.301331", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'timeout': Timeout(timeout=10.0), 'files': None, 'idempotency_key': 'stainless-python-retry-f56f511b-bdc9-462a-abaf-973ffcbb659b', 'json_data': {'messages': [{'role': 'system', 'content': \"\\n        You are **Shifa Clinic\u2019s AI Receptionist**, answering calls in real time.\\n            Your role is to help callers with booking, confirming, or rescheduling appointments.\\n            Speak naturally, briefly, and professionally\u2014like an experienced clinic receptionist.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CORE BEHAVIOR\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            1. **Every call is fresh.**  \\n            Do not rely on previous session context. Use only:\\n            - caller name (if known)\\n            - caller phone (if known)\\n            - information spoken in THIS call\\n            \\n\\n            2. **One task at a time.**  \\n            Every reply must:\\n            - confirm the last thing the caller said\\n            - take one small step forward (ask ONE question)\\n            - be under **8 words**\\n                Always respond in under 8 words. Prioritize immediate tool calls. Do not speak long sentences.\\n\\n            3. **Never expose internal logic.**  \\n            Never say:\\n            - \u201ccalling a tool\u2026\u201d\\n            - \u201csaving memory\u2026\u201d\\n            - \u201cI detected your name\u2026\u201d\\n            - \u201cupdating the appointment\u2026\u201d\\n\\n            4. **Always stay polite, warm, and concise.**\\n            Examples:\\n            - \u201cSure, one moment.\u201d\\n            - \u201cGot it.\u201d\\n            - \u201cLet me check that.\u201d\\n\\n            5. **If caller seems confused, repeat slowly and simply.**\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### TOOL CALLING RULES\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            Use tools to perform actions.  \\n            After calling a tool, speak a short natural confirmation.\\n\\n            **Tools you may call:**\\n            - `save_name(name)`\\n            - `save_phone(phone)`\\n            - `available_slot()`\\n            - `booking_appointment()`\\n            - `get_date()`\\n            - `update_caller_profile(name?, phone?)`\\n            - `start_reschedule()`\\n            - `confirm_reschedule()`\\n            - `end_call()`\\n\\n            Tool usage guidelines:\\n            - Call **save_name** immediately when you hear a name.\\n            - Call **save_phone** when digits are spoken.  \\n            If partial, ask: \u201cCan you repeat that number slowly?\u201d\\n            - Call **available_slot** when caller expresses a time preference (morning, evening, 3pm, etc.)\\n            - Call **get_date** when caller gives a vague date (\u201cnext Monday\u201d).\\n            - Call **booking_appointment** only when BOTH date and time are known.\\n            - Call **update_caller_profile** if caller corrects name or phone.\\n            - After a booking or reschedule completes, ask:  \\n            \u201cAnything else I can help with?\u201d  \\n            If caller says \u201cno\u201d, use `end_call()`.\\n            If the phone number is unclear or has extra/missing digits, ask the caller to repeat it digit by digit.\\n                Do not guess phone numbers.\\n                Always confirm the final number by repeating it back.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESCHEDULE FLOW\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            When the caller says anything like \u201cchange\u201d, \u201cmove\u201d, \u201creschedule\u201d, \u201cshift\u201d:\\n            1. Call **start_reschedule**.\\n            2. Ask for the new date.\\n            3. Once date \u2192 ask for time.\\n            4. When BOTH are known \u2192 call **confirm_reschedule**.\\n            5. After confirmation \u2192 ask:  \\n            \u201cAnything else I can help with?\u201d\\n\\n            Never call `confirm_reschedule` early.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CONVERSATION STYLE\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Speak like a calm clinic receptionist.\\n            - Use short sentences.  \\n            - One question per turn.  \\n            - No filler like \u201cas an AI\u201d.  \\n            - No medical advice.  \\n            - Don't ask for information you already have.\\n\\n            **Good examples:**\\n            - \u201cSure. What day works for you?\u201d\\n            - \u201cGot it. And what time?\u201d\\n            - \u201cPerfect. One moment while I check.\u201d\\n\\n            **Bad examples:**\\n            - \u201cLet me call a tool.\u201d\\n            - \u201cProcessing your request.\u201d\\n            - \u201cI am updating your appointment in the database.\u201d\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESPONSE CONTROL\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Never output long paragraphs.  \\n            - Never output lists or explanations.  \\n            - Keep responses conversational and human.  \\n            - If caller pauses 5 seconds, use `end_call()`.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### ROLE REMINDER\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            You are the first point of contact for Shifa Clinic.  \\n            Be warm. Be efficient. Be human.\\n\\n            Now handle the caller.\\n\\n\\nGood evening! Thank you for calling Shifa Clinic. How can I help you today?\"}], 'model': 'gpt-4o-mini', 'stream': True, 'stream_options': {'include_usage': True}, 'temperature': 0.7, 'tools': [{'type': 'function', 'function': {'name': 'save_name', 'strict': True, 'description': '', 'parameters': {'properties': {'name': {'type': 'string'}}, 'required': ['name'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'save_phone', 'strict': True, 'description': 'Store validated patient phone in Redis using existing BookingBase validator.', 'parameters': {'properties': {'phone': {'type': 'string'}}, 'required': ['phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'available_slot', 'strict': True, 'description': 'Suggest available appointment slots for a given day.\\n- Understands natural language (\"tomorrow\", \"morning\", \"after 2pm\")\\n- Always fetches fresh availability from DB.\\n- Returns top 3 free slots.\\n- Stores them in ctx.suggested_slots for booking_appointment.', 'parameters': {'properties': {'day': {'type': 'string'}, 'date': {'type': 'string'}, 'time': {'type': 'string'}}, 'required': ['day', 'date', 'time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'booking_appointment', 'strict': True, 'description': 'Create or reschedule an appointment.\\nClean, predictable, AI-friendly logic.\\nUses helper functions for DB safety.', 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'get_date', 'strict': True, 'description': 'Return system date and time.', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'end_call', 'strict': True, 'description': \"Gracefully end the call after confirming there's nothing else needed.\\nDoes not clear Redis; short-term memory expires via TTL.\", 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'update_caller_profile', 'strict': True, 'description': 'Persist caller profile (name/phone) for future calls without disrupting session.\\nIf phone not provided, uses current session phone if available.', 'parameters': {'properties': {'name': {'type': ['string', 'null']}, 'phone': {'type': ['string', 'null']}}, 'required': ['name', 'phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'start_reschedule', 'strict': True, 'description': '', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'confirm_reschedule', 'strict': True, 'description': \"Confirm and perform rescheduling to the selected date/time.\\nUse after start_reschedule + available_slot when the caller says 'yes'.\", 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}]}}"}
{"timestamp": "2025-11-18T16:11:27.302652", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions"}
{"timestamp": "2025-11-18T16:11:27.302952", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=15.0 socket_options=None"}
{"timestamp": "2025-11-18T16:11:27.303231", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=10.0 socket_options=None"}
{"timestamp": "2025-11-18T16:11:27.321319", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x12440f1d0>"}
{"timestamp": "2025-11-18T16:11:27.321509", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x117d24050> server_hostname='api.openai.com' timeout=10.0"}
{"timestamp": "2025-11-18T16:11:27.322010", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x12447e8d0>"}
{"timestamp": "2025-11-18T16:11:27.322082", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x117d240e0> server_hostname='api.openai.com' timeout=15.0"}
{"timestamp": "2025-11-18T16:11:27.335618", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x124415d50>"}
{"timestamp": "2025-11-18T16:11:27.335915", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'GET']>"}
{"timestamp": "2025-11-18T16:11:27.338380", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-18T16:11:27.338465", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'GET']>"}
{"timestamp": "2025-11-18T16:11:27.338576", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-18T16:11:27.338636", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'GET']>"}
{"timestamp": "2025-11-18T16:11:27.338897", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x117d720d0>"}
{"timestamp": "2025-11-18T16:11:27.339061", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:11:27.339265", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-18T16:11:27.339318", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:11:27.339491", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-18T16:11:27.339548", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:11:27.500349", "level": "DEBUG", "logger": "livekit.agents", "message": "start reading stream"}
{"timestamp": "2025-11-18T16:11:27.846105", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 18 Nov 2025 16:11:28 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'260'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'275'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'198631'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'410ms'), (b'x-request-id', b'req_3e1a473bfa0348c19c5390ebabb842c8'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=YRdNPAuEQvej5zSffKNRxXsEaHtGvmmfmh31f2N2ZlM-1763482288-1.0.1.1-JX8M9dGvt.E.9b_zrGiaucqvvOalDUqDRELXfV4Bxp2.N4bsCPLW4rmd0cNOHPu16a3k03yO9Q6AIM9_.A7x69sgvYj3h4AXE7Ypg_qOVJg; path=/; expires=Tue, 18-Nov-25 16:41:28 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=9FHk7Sbhvm1eSSfw47UzgryGwoS7ow9Z3mEsgWOI0VE-1763482288207-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a08be6a2ebae8c7-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:11:27.867702", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/chat/completions \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-18T16:11:27.868332", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers([('date', 'Tue, 18 Nov 2025 16:11:28 GMT'), ('content-type', 'text/event-stream; charset=utf-8'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'user-hef6qdiz1bsjendvhiay1uww'), ('openai-processing-ms', '260'), ('openai-project', 'proj_fFIktXLPrLlENFXwWG5Of7EI'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '275'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '200000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '198631'), ('x-ratelimit-reset-requests', '8.64s'), ('x-ratelimit-reset-tokens', '410ms'), ('x-request-id', 'req_3e1a473bfa0348c19c5390ebabb842c8'), ('x-openai-proxy-wasm', 'v0.1'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=YRdNPAuEQvej5zSffKNRxXsEaHtGvmmfmh31f2N2ZlM-1763482288-1.0.1.1-JX8M9dGvt.E.9b_zrGiaucqvvOalDUqDRELXfV4Bxp2.N4bsCPLW4rmd0cNOHPu16a3k03yO9Q6AIM9_.A7x69sgvYj3h4AXE7Ypg_qOVJg; path=/; expires=Tue, 18-Nov-25 16:41:28 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=9FHk7Sbhvm1eSSfw47UzgryGwoS7ow9Z3mEsgWOI0VE-1763482288207-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '9a08be6a2ebae8c7-KHI'), ('alt-svc', 'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:11:27.868813", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_3e1a473bfa0348c19c5390ebabb842c8"}
{"timestamp": "2025-11-18T16:11:27.869286", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:11:28.074336", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-18T16:11:28.075040", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-18T16:11:28.077635", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIadzxcrIr2AgAKSWS4ezw9AIPQX', 'timestamp': 1763482288.075878, 'duration': 0.896552416990744, 'ttft': 0.7161913749878295, 'cancelled': False, 'completion_tokens': 11, 'prompt_tokens': 1331, 'prompt_cached_tokens': 0, 'total_tokens': 1342, 'tokens_per_second': 12.269221287608847, 'speech_id': 'speech_205f29316c3a', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:11:28.078044", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIadzxcrIr2AgAKSWS4ezw9AIPQX', 'timestamp': 1763482288.075878, 'duration': 0.896552416990744, 'ttft': 0.7161913749878295, 'cancelled': False, 'completion_tokens': 11, 'prompt_tokens': 1331, 'prompt_cached_tokens': 0, 'total_tokens': 1342, 'tokens_per_second': 12.269221287608847, 'speech_id': 'speech_205f29316c3a', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:11:28.080297", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream', 'X-Stainless-Raw-Response': 'stream'}, 'timeout': Timeout(connect=10.0, read=30, write=30, pool=30), 'files': None, 'idempotency_key': 'stainless-python-retry-0a635163-0c26-429c-9bf8-457614918d8a', 'json_data': {'input': 'Good evening! How can I assist you today?', 'model': 'gpt-4o-mini-tts', 'voice': 'alloy', 'response_format': 'mp3', 'speed': 1.0}}"}
{"timestamp": "2025-11-18T16:11:28.081156", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/audio/speech"}
{"timestamp": "2025-11-18T16:11:28.082098", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=10.0 socket_options=None"}
{"timestamp": "2025-11-18T16:11:28.082688", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.failed exception=GeneratorExit()"}
{"timestamp": "2025-11-18T16:11:28.093910", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x117d5d010>"}
{"timestamp": "2025-11-18T16:11:28.094123", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x117d240e0> server_hostname='api.openai.com' timeout=10.0"}
{"timestamp": "2025-11-18T16:11:28.108068", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1244a7c50>"}
{"timestamp": "2025-11-18T16:11:28.108357", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:11:28.108687", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-18T16:11:28.108782", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:11:28.108996", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-18T16:11:28.109056", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:11:28.545618", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482288.5452642, 'idle_time': 1.384696499997517, 'inference_duration_total': 0.03677733402582817, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:28.545923", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482288.5452642, 'idle_time': 1.384696499997517, 'inference_duration_total': 0.03677733402582817, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:29.549105", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482289.5483992, 'idle_time': 2.3878242910141125, 'inference_duration_total': 0.03528283193008974, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:29.549950", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482289.5483992, 'idle_time': 2.3878242910141125, 'inference_duration_total': 0.03528283193008974, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:29.636129", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 18 Nov 2025 16:11:29 GMT'), (b'Content-Type', b'audio/mpeg'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'891'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'904'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'199990'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'3ms'), (b'x-request-id', b'req_3400334470de4c0881c42e065c9a0700'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=.EEYANjqFWe.kJIgLPDkW8YyTEG4bM.o30eTI3WFpeY-1763482289-1.0.1.1-ecshbezr_EtFhdreMUU9Lgs6oXtE7ZioHUNil4SoTKM7Oc5ez2Rs6s0VTnZXF2QHVaFmQy.GaChpIKibn_2R59lwu7GlKOQpeJwPaZzFMsU; path=/; expires=Tue, 18-Nov-25 16:41:29 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=xoW1zBDz3wtaxQLbWXf17ZgR4ANJ7ye5XERFNVQRkoo-1763482289997-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a08be6efb1192f0-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:11:29.637657", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/audio/speech \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-18T16:11:29.637948", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/audio/speech \"200 OK\" Headers([('date', 'Tue, 18 Nov 2025 16:11:29 GMT'), ('content-type', 'audio/mpeg'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'user-hef6qdiz1bsjendvhiay1uww'), ('openai-processing-ms', '891'), ('openai-project', 'proj_fFIktXLPrLlENFXwWG5Of7EI'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '904'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '200000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '199990'), ('x-ratelimit-reset-requests', '8.64s'), ('x-ratelimit-reset-tokens', '3ms'), ('x-request-id', 'req_3400334470de4c0881c42e065c9a0700'), ('x-openai-proxy-wasm', 'v0.1'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=.EEYANjqFWe.kJIgLPDkW8YyTEG4bM.o30eTI3WFpeY-1763482289-1.0.1.1-ecshbezr_EtFhdreMUU9Lgs6oXtE7ZioHUNil4SoTKM7Oc5ez2Rs6s0VTnZXF2QHVaFmQy.GaChpIKibn_2R59lwu7GlKOQpeJwPaZzFMsU; path=/; expires=Tue, 18-Nov-25 16:41:29 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=xoW1zBDz3wtaxQLbWXf17ZgR4ANJ7ye5XERFNVQRkoo-1763482289997-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '9a08be6efb1192f0-KHI'), ('alt-svc', 'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:11:29.638363", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_3400334470de4c0881c42e065c9a0700"}
{"timestamp": "2025-11-18T16:11:29.638815", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:11:29.981230", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'Date', b'Tue, 18 Nov 2025 16:11:30 GMT'), (b'Content-Type', b'text/html'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=SI.i0XPRZn5KS.hEEhv4fO.szXuCx.GKbJ83Ax0vS.k-1763482290-1.0.1.1-U7vh7QWD3CmUVSyG8SZZWS3JSHD.m4Ze3JVPwAyWJoJjYIfWCHYjhE8uu5.Q7GepV7xMDZpN4kE90Dpo8Bbe942RsEEfyU2HbqpyrG2n7Hw; path=/; expires=Tue, 18-Nov-25 16:41:30 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=x60UElSSPuvqlC7j283iIweEi3CxUEs6FXuk91XMoQU-1763482290344-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a08be6a3a4e2704-KHI'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:11:29.981785", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET https://api.openai.com/v1/ \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-11-18T16:11:29.981978", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'GET']>"}
{"timestamp": "2025-11-18T16:11:29.982225", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete"}
{"timestamp": "2025-11-18T16:11:29.982326", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-18T16:11:29.982491", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-18T16:11:29.982700", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: GET https://api.openai.com/v1/ \"404 Not Found\" Headers([('date', 'Tue, 18 Nov 2025 16:11:30 GMT'), ('content-type', 'text/html'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=SI.i0XPRZn5KS.hEEhv4fO.szXuCx.GKbJ83Ax0vS.k-1763482290-1.0.1.1-U7vh7QWD3CmUVSyG8SZZWS3JSHD.m4Ze3JVPwAyWJoJjYIfWCHYjhE8uu5.Q7GepV7xMDZpN4kE90Dpo8Bbe942RsEEfyU2HbqpyrG2n7Hw; path=/; expires=Tue, 18-Nov-25 16:41:30 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=x60UElSSPuvqlC7j283iIweEi3CxUEs6FXuk91XMoQU-1763482290344-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '9a08be6a3a4e2704-KHI'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:11:29.982918", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: None"}
{"timestamp": "2025-11-18T16:11:29.983028", "level": "DEBUG", "logger": "openai._base_client", "message": "Encountered httpx.HTTPStatusError", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/openai/_base_client.py\", line 1574, in request\n    response.raise_for_status()\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/httpx/_models.py\", line 829, in raise_for_status\n    raise HTTPStatusError(message, request=request, response=self)\nhttpx.HTTPStatusError: Client error '404 Not Found' for url 'https://api.openai.com/v1/'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404"}
{"timestamp": "2025-11-18T16:11:29.986095", "level": "DEBUG", "logger": "openai._base_client", "message": "Re-raising status error"}
{"timestamp": "2025-11-18T16:11:30.595358", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482290.594869, 'idle_time': 3.434287750016665, 'inference_duration_total': 0.02926287497393787, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:30.595929", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482290.594869, 'idle_time': 3.434287750016665, 'inference_duration_total': 0.02926287497393787, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:30.814241", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:11:30.996568", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:11:31.595486", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482291.5952399, 'idle_time': 4.434651208022842, 'inference_duration_total': 0.02169071088428609, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:31.595858", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482291.5952399, 'idle_time': 4.434651208022842, 'inference_duration_total': 0.02169071088428609, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:31.928563", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:11:32.204148", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '', 'timestamp': 1763482292.20397, 'duration': 0.0, 'audio_duration': 4.6499999999999915, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:11:32.205050", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '', 'timestamp': 1763482292.20397, 'duration': 0.0, 'audio_duration': 4.6499999999999915, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:11:32.372836", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:11:32.525728", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:11:32.645387", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482292.64521, 'idle_time': 5.484614415996475, 'inference_duration_total': 0.02916191500844434, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:32.645651", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482292.64521, 'idle_time': 5.484614415996475, 'inference_duration_total': 0.02916191500844434, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:32.708295", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:11:33.536099", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:11:33.646310", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482293.646088, 'idle_time': 6.485486165998736, 'inference_duration_total': 0.023406000051181763, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:33.646673", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482293.646088, 'idle_time': 6.485486165998736, 'inference_duration_total': 0.023406000051181763, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:33.720560", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:11:34.051285", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:11:34.234106", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:11:34.392276", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete"}
{"timestamp": "2025-11-18T16:11:34.392905", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-18T16:11:34.393808", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-18T16:11:34.399199", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_3400334470de4c0881c42e065c9a0700', 'timestamp': 1763482294.398081, 'ttfb': 2.554270499997074, 'duration': 6.3192146660003345, 'audio_duration': 2.7700000000000005, 'cancelled': False, 'characters_count': 41, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_205f29316c3a', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:11:34.399821", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_3400334470de4c0881c42e065c9a0700', 'timestamp': 1763482294.398081, 'ttfb': 2.554270499997074, 'duration': 6.3192146660003345, 'audio_duration': 2.7700000000000005, 'cancelled': False, 'characters_count': 41, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_205f29316c3a', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:11:34.698695", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482294.697985, 'idle_time': 7.537375583022367, 'inference_duration_total': 0.02708096386049874, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:34.699481", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482294.697985, 'idle_time': 7.537375583022367, 'inference_duration_total': 0.02708096386049874, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:35.700640", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482295.699747, 'idle_time': 8.539131583005656, 'inference_duration_total': 0.025728502980200574, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:35.704038", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482295.699747, 'idle_time': 8.539131583005656, 'inference_duration_total': 0.025728502980200574, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:36.747588", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482296.7469661, 'idle_time': 9.586343041009968, 'inference_duration_total': 0.0231944999541156, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:36.748471", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482296.7469661, 'idle_time': 9.586343041009968, 'inference_duration_total': 0.0231944999541156, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:37.244963", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482297.2447228, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:11:37.245456", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482297.2447228, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:11:37.748617", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482297.748086, 'idle_time': 10.58745658301632, 'inference_duration_total': 0.028075416979845613, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:37.749431", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482297.748086, 'idle_time': 10.58745658301632, 'inference_duration_total': 0.028075416979845613, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:38.798588", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482298.7979589, 'idle_time': 11.63732258300297, 'inference_duration_total': 0.026691877050325274, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:38.799508", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482298.7979589, 'idle_time': 11.63732258300297, 'inference_duration_total': 0.026691877050325274, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:39.867201", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482299.8130581, 'idle_time': 0.06563262498821132, 'inference_duration_total': 0.09074078995035961, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:39.871347", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482299.8130581, 'idle_time': 0.06563262498821132, 'inference_duration_total': 0.09074078995035961, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:40.121788", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-18T16:11:40.125638", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763482300.123528, 'end_of_utterance_delay': 0.955214262008667, 'transcription_delay': 0.9546561241149902, 'on_user_turn_completed_delay': 2.1457672119140625e-06, 'last_speaking_time': 1763482299.167338, 'speech_id': 'speech_bcb05ac5cb85', 'metadata': None}}"}
{"timestamp": "2025-11-18T16:11:40.127109", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763482300.123528, 'end_of_utterance_delay': 0.955214262008667, 'transcription_delay': 0.9546561241149902, 'on_user_turn_completed_delay': 2.1457672119140625e-06, 'last_speaking_time': 1763482299.167338, 'speech_id': 'speech_bcb05ac5cb85', 'metadata': None}}"}
{"timestamp": "2025-11-18T16:11:40.136568", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'timeout': Timeout(timeout=10.0), 'files': None, 'idempotency_key': 'stainless-python-retry-88f267a7-67f9-4a8b-9fa6-d1aae7df1eec', 'json_data': {'messages': [{'role': 'system', 'content': \"\\n        You are **Shifa Clinic\u2019s AI Receptionist**, answering calls in real time.\\n            Your role is to help callers with booking, confirming, or rescheduling appointments.\\n            Speak naturally, briefly, and professionally\u2014like an experienced clinic receptionist.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CORE BEHAVIOR\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            1. **Every call is fresh.**  \\n            Do not rely on previous session context. Use only:\\n            - caller name (if known)\\n            - caller phone (if known)\\n            - information spoken in THIS call\\n            \\n\\n            2. **One task at a time.**  \\n            Every reply must:\\n            - confirm the last thing the caller said\\n            - take one small step forward (ask ONE question)\\n            - be under **8 words**\\n                Always respond in under 8 words. Prioritize immediate tool calls. Do not speak long sentences.\\n\\n            3. **Never expose internal logic.**  \\n            Never say:\\n            - \u201ccalling a tool\u2026\u201d\\n            - \u201csaving memory\u2026\u201d\\n            - \u201cI detected your name\u2026\u201d\\n            - \u201cupdating the appointment\u2026\u201d\\n\\n            4. **Always stay polite, warm, and concise.**\\n            Examples:\\n            - \u201cSure, one moment.\u201d\\n            - \u201cGot it.\u201d\\n            - \u201cLet me check that.\u201d\\n\\n            5. **If caller seems confused, repeat slowly and simply.**\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### TOOL CALLING RULES\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            Use tools to perform actions.  \\n            After calling a tool, speak a short natural confirmation.\\n\\n            **Tools you may call:**\\n            - `save_name(name)`\\n            - `save_phone(phone)`\\n            - `available_slot()`\\n            - `booking_appointment()`\\n            - `get_date()`\\n            - `update_caller_profile(name?, phone?)`\\n            - `start_reschedule()`\\n            - `confirm_reschedule()`\\n            - `end_call()`\\n\\n            Tool usage guidelines:\\n            - Call **save_name** immediately when you hear a name.\\n            - Call **save_phone** when digits are spoken.  \\n            If partial, ask: \u201cCan you repeat that number slowly?\u201d\\n            - Call **available_slot** when caller expresses a time preference (morning, evening, 3pm, etc.)\\n            - Call **get_date** when caller gives a vague date (\u201cnext Monday\u201d).\\n            - Call **booking_appointment** only when BOTH date and time are known.\\n            - Call **update_caller_profile** if caller corrects name or phone.\\n            - After a booking or reschedule completes, ask:  \\n            \u201cAnything else I can help with?\u201d  \\n            If caller says \u201cno\u201d, use `end_call()`.\\n            If the phone number is unclear or has extra/missing digits, ask the caller to repeat it digit by digit.\\n                Do not guess phone numbers.\\n                Always confirm the final number by repeating it back.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESCHEDULE FLOW\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            When the caller says anything like \u201cchange\u201d, \u201cmove\u201d, \u201creschedule\u201d, \u201cshift\u201d:\\n            1. Call **start_reschedule**.\\n            2. Ask for the new date.\\n            3. Once date \u2192 ask for time.\\n            4. When BOTH are known \u2192 call **confirm_reschedule**.\\n            5. After confirmation \u2192 ask:  \\n            \u201cAnything else I can help with?\u201d\\n\\n            Never call `confirm_reschedule` early.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CONVERSATION STYLE\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Speak like a calm clinic receptionist.\\n            - Use short sentences.  \\n            - One question per turn.  \\n            - No filler like \u201cas an AI\u201d.  \\n            - No medical advice.  \\n            - Don't ask for information you already have.\\n\\n            **Good examples:**\\n            - \u201cSure. What day works for you?\u201d\\n            - \u201cGot it. And what time?\u201d\\n            - \u201cPerfect. One moment while I check.\u201d\\n\\n            **Bad examples:**\\n            - \u201cLet me call a tool.\u201d\\n            - \u201cProcessing your request.\u201d\\n            - \u201cI am updating your appointment in the database.\u201d\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESPONSE CONTROL\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Never output long paragraphs.  \\n            - Never output lists or explanations.  \\n            - Keep responses conversational and human.  \\n            - If caller pauses 5 seconds, use `end_call()`.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### ROLE REMINDER\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            You are the first point of contact for Shifa Clinic.  \\n            Be warm. Be efficient. Be human.\\n\\n            Now handle the caller.\\n\\n\"}, {'role': 'assistant', 'content': 'Good evening! How can I assist you today?'}, {'role': 'user', 'content': 'Okay. How is my name?'}], 'model': 'gpt-4o-mini', 'stream': True, 'stream_options': {'include_usage': True}, 'temperature': 0.7, 'tools': [{'type': 'function', 'function': {'name': 'save_name', 'strict': True, 'description': '', 'parameters': {'properties': {'name': {'type': 'string'}}, 'required': ['name'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'save_phone', 'strict': True, 'description': 'Store validated patient phone in Redis using existing BookingBase validator.', 'parameters': {'properties': {'phone': {'type': 'string'}}, 'required': ['phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'available_slot', 'strict': True, 'description': 'Suggest available appointment slots for a given day.\\n- Understands natural language (\"tomorrow\", \"morning\", \"after 2pm\")\\n- Always fetches fresh availability from DB.\\n- Returns top 3 free slots.\\n- Stores them in ctx.suggested_slots for booking_appointment.', 'parameters': {'properties': {'day': {'type': 'string'}, 'date': {'type': 'string'}, 'time': {'type': 'string'}}, 'required': ['day', 'date', 'time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'booking_appointment', 'strict': True, 'description': 'Create or reschedule an appointment.\\nClean, predictable, AI-friendly logic.\\nUses helper functions for DB safety.', 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'get_date', 'strict': True, 'description': 'Return system date and time.', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'end_call', 'strict': True, 'description': \"Gracefully end the call after confirming there's nothing else needed.\\nDoes not clear Redis; short-term memory expires via TTL.\", 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'update_caller_profile', 'strict': True, 'description': 'Persist caller profile (name/phone) for future calls without disrupting session.\\nIf phone not provided, uses current session phone if available.', 'parameters': {'properties': {'name': {'type': ['string', 'null']}, 'phone': {'type': ['string', 'null']}}, 'required': ['name', 'phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'start_reschedule', 'strict': True, 'description': '', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'confirm_reschedule', 'strict': True, 'description': \"Confirm and perform rescheduling to the selected date/time.\\nUse after start_reschedule + available_slot when the caller says 'yes'.\", 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}]}}"}
{"timestamp": "2025-11-18T16:11:40.138621", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions"}
{"timestamp": "2025-11-18T16:11:40.139418", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=10.0 socket_options=None"}
{"timestamp": "2025-11-18T16:11:40.155808", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1178507d0>"}
{"timestamp": "2025-11-18T16:11:40.156287", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x117d24050> server_hostname='api.openai.com' timeout=10.0"}
{"timestamp": "2025-11-18T16:11:40.167846", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x117d294d0>"}
{"timestamp": "2025-11-18T16:11:40.168307", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:11:40.168670", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-18T16:11:40.168768", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:11:40.169012", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-18T16:11:40.169079", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:11:40.849703", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482300.848605, 'idle_time': 1.1011697919748258, 'inference_duration_total': 0.03338604391319677, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:40.850237", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482300.848605, 'idle_time': 1.1011697919748258, 'inference_duration_total': 0.03338604391319677, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:41.849433", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482301.84919, 'idle_time': 2.1017480829905253, 'inference_duration_total': 0.034762337047141045, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:41.849868", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482301.84919, 'idle_time': 2.1017480829905253, 'inference_duration_total': 0.034762337047141045, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:41.959170", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 18 Nov 2025 16:11:42 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'1290'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'1509'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9998'), (b'x-ratelimit-remaining-tokens', b'198633'), (b'x-ratelimit-reset-requests', b'13.041s'), (b'x-ratelimit-reset-tokens', b'410ms'), (b'x-request-id', b'req_64ee503809bd401abbb570ad7be60e2e'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a08beba59154906-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:11:41.960794", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/chat/completions \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-18T16:11:41.961207", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Tue, 18 Nov 2025 16:11:42 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '1290', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '1509', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9998', 'x-ratelimit-remaining-tokens': '198633', 'x-ratelimit-reset-requests': '13.041s', 'x-ratelimit-reset-tokens': '410ms', 'x-request-id': 'req_64ee503809bd401abbb570ad7be60e2e', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a08beba59154906-KHI', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-18T16:11:41.961515", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_64ee503809bd401abbb570ad7be60e2e"}
{"timestamp": "2025-11-18T16:11:41.961878", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:11:42.078692", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream', 'X-Stainless-Raw-Response': 'stream'}, 'timeout': Timeout(connect=10.0, read=30, write=30, pool=30), 'files': None, 'idempotency_key': 'stainless-python-retry-793996d3-b17b-43be-bd89-da9097ab01a4', 'json_data': {'input': 'I don\u2019t have your name yet.', 'model': 'gpt-4o-mini-tts', 'voice': 'alloy', 'response_format': 'mp3', 'speed': 1.0}}"}
{"timestamp": "2025-11-18T16:11:42.079618", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/audio/speech"}
{"timestamp": "2025-11-18T16:11:42.080301", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:11:42.080778", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-18T16:11:42.080889", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:11:42.081163", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-18T16:11:42.081256", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:11:42.137284", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-18T16:11:42.137998", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-18T16:11:42.139047", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIaqa3sP5t7AS2YiD95ylfJAZdmd', 'timestamp': 1763482302.138623, 'duration': 2.011050458007958, 'ttft': 1.8970840830006637, 'cancelled': False, 'completion_tokens': 13, 'prompt_tokens': 1338, 'prompt_cached_tokens': 1024, 'total_tokens': 1351, 'tokens_per_second': 6.464283354121868, 'speech_id': 'speech_bcb05ac5cb85', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:11:42.139983", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIaqa3sP5t7AS2YiD95ylfJAZdmd', 'timestamp': 1763482302.138623, 'duration': 2.011050458007958, 'ttft': 1.8970840830006637, 'cancelled': False, 'completion_tokens': 13, 'prompt_tokens': 1338, 'prompt_cached_tokens': 1024, 'total_tokens': 1351, 'tokens_per_second': 6.464283354121868, 'speech_id': 'speech_bcb05ac5cb85', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:11:42.140810", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.failed exception=GeneratorExit()"}
{"timestamp": "2025-11-18T16:11:42.246724", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482302.246382, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:11:42.247394", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482302.246382, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:11:42.897284", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482302.8967092, 'idle_time': 3.1492604999803007, 'inference_duration_total': 0.03703229202073999, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:42.898122", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482302.8967092, 'idle_time': 3.1492604999803007, 'inference_duration_total': 0.03703229202073999, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:43.898410", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482303.897996, 'idle_time': 4.150540749978973, 'inference_duration_total': 0.029407913971226662, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:43.899198", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482303.897996, 'idle_time': 4.150540749978973, 'inference_duration_total': 0.029407913971226662, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:44.696231", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 18 Nov 2025 16:11:45 GMT'), (b'Content-Type', b'audio/mpeg'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'453'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'466'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9997'), (b'x-ratelimit-remaining-tokens', b'199993'), (b'x-ratelimit-reset-requests', b'19.803s'), (b'x-ratelimit-reset-tokens', b'2ms'), (b'x-request-id', b'req_4b95b6bd8ce84b598d1cf423e4c66c70'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a08bec65c412704-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:11:44.697498", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/audio/speech \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-18T16:11:44.697818", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/audio/speech \"200 OK\" Headers({'date': 'Tue, 18 Nov 2025 16:11:45 GMT', 'content-type': 'audio/mpeg', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '453', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '466', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9997', 'x-ratelimit-remaining-tokens': '199993', 'x-ratelimit-reset-requests': '19.803s', 'x-ratelimit-reset-tokens': '2ms', 'x-request-id': 'req_4b95b6bd8ce84b598d1cf423e4c66c70', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a08bec65c412704-KHI', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-18T16:11:44.698138", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_4b95b6bd8ce84b598d1cf423e4c66c70"}
{"timestamp": "2025-11-18T16:11:44.698640", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:11:44.946643", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482304.9462368, 'idle_time': 5.198774291988229, 'inference_duration_total': 0.04081116401357576, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:44.947373", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482304.9462368, 'idle_time': 5.198774291988229, 'inference_duration_total': 0.04081116401357576, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:45.600228", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:11:45.798501", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:11:45.946680", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete"}
{"timestamp": "2025-11-18T16:11:45.947467", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-18T16:11:45.948185", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-18T16:11:45.956426", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482305.955858, 'idle_time': 6.208388707978884, 'inference_duration_total': 0.03038612610544078, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:45.957214", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482305.955858, 'idle_time': 6.208388707978884, 'inference_duration_total': 0.03038612610544078, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:45.964888", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_4b95b6bd8ce84b598d1cf423e4c66c70', 'timestamp': 1763482305.964499, 'ttfb': 3.3408216669922695, 'duration': 3.886680791998515, 'audio_duration': 1.3780000000000001, 'cancelled': False, 'characters_count': 27, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_bcb05ac5cb85', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:11:45.965785", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_4b95b6bd8ce84b598d1cf423e4c66c70', 'timestamp': 1763482305.964499, 'ttfb': 3.3408216669922695, 'duration': 3.886680791998515, 'audio_duration': 1.3780000000000001, 'cancelled': False, 'characters_count': 27, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_bcb05ac5cb85', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:11:45.966547", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream', 'X-Stainless-Raw-Response': 'stream'}, 'timeout': Timeout(connect=10.0, read=30, write=30, pool=30), 'files': None, 'idempotency_key': 'stainless-python-retry-080dea90-82bb-4d0a-b3ee-af9e020cd74d', 'json_data': {'input': 'What is it?', 'model': 'gpt-4o-mini-tts', 'voice': 'alloy', 'response_format': 'mp3', 'speed': 1.0}}"}
{"timestamp": "2025-11-18T16:11:45.967358", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/audio/speech"}
{"timestamp": "2025-11-18T16:11:45.967907", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:11:45.968344", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-18T16:11:45.968436", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:11:45.968652", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-18T16:11:45.968721", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:11:46.997523", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482306.99716, 'idle_time': 7.249683791975258, 'inference_duration_total': 0.03730808407999575, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:46.998071", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482306.99716, 'idle_time': 7.249683791975258, 'inference_duration_total': 0.03730808407999575, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:47.295012", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482307.294828, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:11:47.295369", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482307.294828, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:11:47.997525", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482307.9971478, 'idle_time': 8.249664374976419, 'inference_duration_total': 0.03362108307192102, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:47.998070", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482307.9971478, 'idle_time': 8.249664374976419, 'inference_duration_total': 0.03362108307192102, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:48.664682", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 18 Nov 2025 16:11:49 GMT'), (b'Content-Type', b'audio/mpeg'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'575'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'677'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9997'), (b'x-ratelimit-remaining-tokens', b'199998'), (b'x-ratelimit-reset-requests', b'24.058s'), (b'x-ratelimit-reset-tokens', b'0s'), (b'x-request-id', b'req_824ef5f24a2b45f68564079dbd4bd300'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a08bede98072704-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:11:48.665960", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/audio/speech \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-18T16:11:48.666267", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/audio/speech \"200 OK\" Headers({'date': 'Tue, 18 Nov 2025 16:11:49 GMT', 'content-type': 'audio/mpeg', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '575', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '677', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9997', 'x-ratelimit-remaining-tokens': '199998', 'x-ratelimit-reset-requests': '24.058s', 'x-ratelimit-reset-tokens': '0s', 'x-request-id': 'req_824ef5f24a2b45f68564079dbd4bd300', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a08bede98072704-KHI', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-18T16:11:48.666889", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_824ef5f24a2b45f68564079dbd4bd300"}
{"timestamp": "2025-11-18T16:11:48.667450", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:11:48.856434", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:11:49.048295", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482309.047771, 'idle_time': 9.300281082978472, 'inference_duration_total': 0.03916566591942683, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:49.049185", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482309.047771, 'idle_time': 9.300281082978472, 'inference_duration_total': 0.03916566591942683, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:49.053975", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:11:49.627982", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete"}
{"timestamp": "2025-11-18T16:11:49.628606", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-18T16:11:49.629144", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-18T16:11:49.638390", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_824ef5f24a2b45f68564079dbd4bd300', 'timestamp': 1763482309.6377358, 'ttfb': 2.708240042004036, 'duration': 3.671970458002761, 'audio_duration': 0.9220000000000002, 'cancelled': False, 'characters_count': 11, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_bcb05ac5cb85', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:11:49.639292", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_824ef5f24a2b45f68564079dbd4bd300', 'timestamp': 1763482309.6377358, 'ttfb': 2.708240042004036, 'duration': 3.671970458002761, 'audio_duration': 0.9220000000000002, 'cancelled': False, 'characters_count': 11, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_bcb05ac5cb85', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:11:50.045592", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482310.0453749, 'idle_time': 10.297878249984933, 'inference_duration_total': 0.03383874602150172, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:50.045942", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482310.0453749, 'idle_time': 10.297878249984933, 'inference_duration_total': 0.03383874602150172, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:51.098928", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482311.0983648, 'idle_time': 11.350861041981261, 'inference_duration_total': 0.04515354597242549, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:51.100029", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482311.0983648, 'idle_time': 11.350861041981261, 'inference_duration_total': 0.04515354597242549, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:52.098493", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482312.09787, 'idle_time': 12.350359332980588, 'inference_duration_total': 0.03635967199807055, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:52.099407", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482312.09787, 'idle_time': 12.350359332980588, 'inference_duration_total': 0.03635967199807055, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:52.297535", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482312.296996, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:11:52.298372", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482312.296996, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:11:53.148755", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482313.1481888, 'idle_time': 13.400671541981865, 'inference_duration_total': 0.049992543034022674, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:53.149664", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482313.1481888, 'idle_time': 13.400671541981865, 'inference_duration_total': 0.049992543034022674, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:54.148210", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482314.1478138, 'idle_time': 14.400289666984463, 'inference_duration_total': 0.03469883298384957, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:54.148806", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482314.1478138, 'idle_time': 14.400289666984463, 'inference_duration_total': 0.03469883298384957, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:55.149017", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482315.148437, 'idle_time': 15.400905749993399, 'inference_duration_total': 0.036416664079297334, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:55.149883", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482315.148437, 'idle_time': 15.400905749993399, 'inference_duration_total': 0.036416664079297334, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:56.198247", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482316.1976802, 'idle_time': 16.45014204198378, 'inference_duration_total': 0.035684915143065155, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:56.199005", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482316.1976802, 'idle_time': 16.45014204198378, 'inference_duration_total': 0.035684915143065155, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:57.199282", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482317.1986508, 'idle_time': 17.451106374996016, 'inference_duration_total': 0.04370083301910199, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:57.200296", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482317.1986508, 'idle_time': 17.451106374996016, 'inference_duration_total': 0.04370083301910199, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:57.347444", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482317.3469281, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:11:57.348358", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482317.3469281, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:11:58.247278", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482318.2468119, 'idle_time': 18.499260624987073, 'inference_duration_total': 0.055355794029310346, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:58.248035", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482318.2468119, 'idle_time': 18.499260624987073, 'inference_duration_total': 0.055355794029310346, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:59.250178", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482319.248329, 'idle_time': 19.50077087499085, 'inference_duration_total': 0.03917012200690806, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:11:59.252132", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482319.248329, 'idle_time': 19.50077087499085, 'inference_duration_total': 0.03917012200690806, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:00.296317", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482320.2960708, 'idle_time': 0.6001469999901019, 'inference_duration_total': 0.04435162301524542, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:00.296690", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482320.2960708, 'idle_time': 0.6001469999901019, 'inference_duration_total': 0.04435162301524542, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:01.299163", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482321.2985668, 'idle_time': 0.24807366597815417, 'inference_duration_total': 0.04508121311664581, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:01.299965", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482321.2985668, 'idle_time': 0.24807366597815417, 'inference_duration_total': 0.04508121311664581, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:01.302592", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-18T16:12:01.305472", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763482321.305206, 'end_of_utterance_delay': 0.8370471000671387, 'transcription_delay': 0.8362851142883301, 'on_user_turn_completed_delay': 2.86102294921875e-06, 'last_speaking_time': 1763482320.466534, 'speech_id': 'speech_09236d9f8072', 'metadata': None}}"}
{"timestamp": "2025-11-18T16:12:01.307770", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763482321.305206, 'end_of_utterance_delay': 0.8370471000671387, 'transcription_delay': 0.8362851142883301, 'on_user_turn_completed_delay': 2.86102294921875e-06, 'last_speaking_time': 1763482320.466534, 'speech_id': 'speech_09236d9f8072', 'metadata': None}}"}
{"timestamp": "2025-11-18T16:12:01.320779", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'timeout': Timeout(timeout=10.0), 'files': None, 'idempotency_key': 'stainless-python-retry-e44477ac-5641-44ab-93c9-1d044215e29f', 'json_data': {'messages': [{'role': 'system', 'content': \"\\n        You are **Shifa Clinic\u2019s AI Receptionist**, answering calls in real time.\\n            Your role is to help callers with booking, confirming, or rescheduling appointments.\\n            Speak naturally, briefly, and professionally\u2014like an experienced clinic receptionist.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CORE BEHAVIOR\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            1. **Every call is fresh.**  \\n            Do not rely on previous session context. Use only:\\n            - caller name (if known)\\n            - caller phone (if known)\\n            - information spoken in THIS call\\n            \\n\\n            2. **One task at a time.**  \\n            Every reply must:\\n            - confirm the last thing the caller said\\n            - take one small step forward (ask ONE question)\\n            - be under **8 words**\\n                Always respond in under 8 words. Prioritize immediate tool calls. Do not speak long sentences.\\n\\n            3. **Never expose internal logic.**  \\n            Never say:\\n            - \u201ccalling a tool\u2026\u201d\\n            - \u201csaving memory\u2026\u201d\\n            - \u201cI detected your name\u2026\u201d\\n            - \u201cupdating the appointment\u2026\u201d\\n\\n            4. **Always stay polite, warm, and concise.**\\n            Examples:\\n            - \u201cSure, one moment.\u201d\\n            - \u201cGot it.\u201d\\n            - \u201cLet me check that.\u201d\\n\\n            5. **If caller seems confused, repeat slowly and simply.**\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### TOOL CALLING RULES\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            Use tools to perform actions.  \\n            After calling a tool, speak a short natural confirmation.\\n\\n            **Tools you may call:**\\n            - `save_name(name)`\\n            - `save_phone(phone)`\\n            - `available_slot()`\\n            - `booking_appointment()`\\n            - `get_date()`\\n            - `update_caller_profile(name?, phone?)`\\n            - `start_reschedule()`\\n            - `confirm_reschedule()`\\n            - `end_call()`\\n\\n            Tool usage guidelines:\\n            - Call **save_name** immediately when you hear a name.\\n            - Call **save_phone** when digits are spoken.  \\n            If partial, ask: \u201cCan you repeat that number slowly?\u201d\\n            - Call **available_slot** when caller expresses a time preference (morning, evening, 3pm, etc.)\\n            - Call **get_date** when caller gives a vague date (\u201cnext Monday\u201d).\\n            - Call **booking_appointment** only when BOTH date and time are known.\\n            - Call **update_caller_profile** if caller corrects name or phone.\\n            - After a booking or reschedule completes, ask:  \\n            \u201cAnything else I can help with?\u201d  \\n            If caller says \u201cno\u201d, use `end_call()`.\\n            If the phone number is unclear or has extra/missing digits, ask the caller to repeat it digit by digit.\\n                Do not guess phone numbers.\\n                Always confirm the final number by repeating it back.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESCHEDULE FLOW\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            When the caller says anything like \u201cchange\u201d, \u201cmove\u201d, \u201creschedule\u201d, \u201cshift\u201d:\\n            1. Call **start_reschedule**.\\n            2. Ask for the new date.\\n            3. Once date \u2192 ask for time.\\n            4. When BOTH are known \u2192 call **confirm_reschedule**.\\n            5. After confirmation \u2192 ask:  \\n            \u201cAnything else I can help with?\u201d\\n\\n            Never call `confirm_reschedule` early.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CONVERSATION STYLE\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Speak like a calm clinic receptionist.\\n            - Use short sentences.  \\n            - One question per turn.  \\n            - No filler like \u201cas an AI\u201d.  \\n            - No medical advice.  \\n            - Don't ask for information you already have.\\n\\n            **Good examples:**\\n            - \u201cSure. What day works for you?\u201d\\n            - \u201cGot it. And what time?\u201d\\n            - \u201cPerfect. One moment while I check.\u201d\\n\\n            **Bad examples:**\\n            - \u201cLet me call a tool.\u201d\\n            - \u201cProcessing your request.\u201d\\n            - \u201cI am updating your appointment in the database.\u201d\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESPONSE CONTROL\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Never output long paragraphs.  \\n            - Never output lists or explanations.  \\n            - Keep responses conversational and human.  \\n            - If caller pauses 5 seconds, use `end_call()`.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### ROLE REMINDER\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            You are the first point of contact for Shifa Clinic.  \\n            Be warm. Be efficient. Be human.\\n\\n            Now handle the caller.\\n\\n\"}, {'role': 'assistant', 'content': 'Good evening! How can I assist you today?'}, {'role': 'user', 'content': 'Okay. How is my name?'}, {'role': 'assistant', 'content': 'I don\u2019t have your name yet. What is it?'}, {'role': 'user', 'content': 'My name is Abdul Basat.'}], 'model': 'gpt-4o-mini', 'stream': True, 'stream_options': {'include_usage': True}, 'temperature': 0.7, 'tools': [{'type': 'function', 'function': {'name': 'save_name', 'strict': True, 'description': '', 'parameters': {'properties': {'name': {'type': 'string'}}, 'required': ['name'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'save_phone', 'strict': True, 'description': 'Store validated patient phone in Redis using existing BookingBase validator.', 'parameters': {'properties': {'phone': {'type': 'string'}}, 'required': ['phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'available_slot', 'strict': True, 'description': 'Suggest available appointment slots for a given day.\\n- Understands natural language (\"tomorrow\", \"morning\", \"after 2pm\")\\n- Always fetches fresh availability from DB.\\n- Returns top 3 free slots.\\n- Stores them in ctx.suggested_slots for booking_appointment.', 'parameters': {'properties': {'day': {'type': 'string'}, 'date': {'type': 'string'}, 'time': {'type': 'string'}}, 'required': ['day', 'date', 'time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'booking_appointment', 'strict': True, 'description': 'Create or reschedule an appointment.\\nClean, predictable, AI-friendly logic.\\nUses helper functions for DB safety.', 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'get_date', 'strict': True, 'description': 'Return system date and time.', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'end_call', 'strict': True, 'description': \"Gracefully end the call after confirming there's nothing else needed.\\nDoes not clear Redis; short-term memory expires via TTL.\", 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'update_caller_profile', 'strict': True, 'description': 'Persist caller profile (name/phone) for future calls without disrupting session.\\nIf phone not provided, uses current session phone if available.', 'parameters': {'properties': {'name': {'type': ['string', 'null']}, 'phone': {'type': ['string', 'null']}}, 'required': ['name', 'phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'start_reschedule', 'strict': True, 'description': '', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'confirm_reschedule', 'strict': True, 'description': \"Confirm and perform rescheduling to the selected date/time.\\nUse after start_reschedule + available_slot when the caller says 'yes'.\", 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}]}}"}
{"timestamp": "2025-11-18T16:12:01.322839", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions"}
{"timestamp": "2025-11-18T16:12:01.323601", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=10.0 socket_options=None"}
{"timestamp": "2025-11-18T16:12:01.343272", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x124554450>"}
{"timestamp": "2025-11-18T16:12:01.343458", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x117d24050> server_hostname='api.openai.com' timeout=10.0"}
{"timestamp": "2025-11-18T16:12:01.355082", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x124556610>"}
{"timestamp": "2025-11-18T16:12:01.355463", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:12:01.355759", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-18T16:12:01.355824", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:12:01.356033", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-18T16:12:01.356085", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:12:02.348496", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482322.347929, 'idle_time': 1.2974280409980565, 'inference_duration_total': 0.03143725005793385, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:02.349500", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482322.347929, 'idle_time': 1.2974280409980565, 'inference_duration_total': 0.03143725005793385, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:02.397403", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482322.396823, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:12:02.398405", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482322.396823, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:12:02.664589", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 18 Nov 2025 16:12:03 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'428'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'584'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9998'), (b'x-ratelimit-remaining-tokens', b'198615'), (b'x-ratelimit-reset-requests', b'17.195s'), (b'x-ratelimit-reset-tokens', b'415ms'), (b'x-request-id', b'req_e413f4c4f0c34d8ca80b14b0d6454831'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a08bf3eca71815b-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:12:02.672493", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/chat/completions \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-18T16:12:02.673075", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Tue, 18 Nov 2025 16:12:03 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '428', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '584', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9998', 'x-ratelimit-remaining-tokens': '198615', 'x-ratelimit-reset-requests': '17.195s', 'x-ratelimit-reset-tokens': '415ms', 'x-request-id': 'req_e413f4c4f0c34d8ca80b14b0d6454831', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a08bf3eca71815b-KHI', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-18T16:12:02.674107", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_e413f4c4f0c34d8ca80b14b0d6454831"}
{"timestamp": "2025-11-18T16:12:02.675196", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:12:02.818784", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-18T16:12:02.819407", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-18T16:12:02.820325", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIbCMJvxm7OGjlsiaDJBt7OcTcyo', 'timestamp': 1763482322.8200681, 'duration': 1.5108513750019483, 'ttft': 1.507406250020722, 'cancelled': False, 'completion_tokens': 17, 'prompt_tokens': 1365, 'prompt_cached_tokens': 1280, 'total_tokens': 1382, 'tokens_per_second': 11.251934029565335, 'speech_id': 'speech_09236d9f8072', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:12:02.820661", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIbCMJvxm7OGjlsiaDJBt7OcTcyo', 'timestamp': 1763482322.8200681, 'duration': 1.5108513750019483, 'ttft': 1.507406250020722, 'cancelled': False, 'completion_tokens': 17, 'prompt_tokens': 1365, 'prompt_cached_tokens': 1280, 'total_tokens': 1382, 'tokens_per_second': 11.251934029565335, 'speech_id': 'speech_09236d9f8072', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:12:02.823211", "level": "DEBUG", "logger": "livekit.agents", "message": "executing tool"}
{"timestamp": "2025-11-18T16:12:02.825899", "level": "INFO", "logger": "src.services.context_manager", "message": "[Redis] Saved MERGED context for sip_+17194515279: BookingContext(name='Abdul Basat', phone=None, date=None, time=None, suggested_slots=None, stage='start', status='Pending', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, created_at='2025-11-18T16:12:02.824658')"}
{"timestamp": "2025-11-18T16:12:02.826406", "level": "DEBUG", "logger": "livekit.agents", "message": "tools execution completed"}
{"timestamp": "2025-11-18T16:12:02.826545", "level": "INFO", "logger": "src.services.context_manager", "message": "[Redis] Saved MERGED context for sip_+17194515279: BookingContext(name='Abdul Basat', phone=None, date=None, time=None, suggested_slots=None, stage='start', status='Pending', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, created_at='2025-11-18T16:12:02.824658')"}
{"timestamp": "2025-11-18T16:12:02.826850", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.failed exception=GeneratorExit()"}
{"timestamp": "2025-11-18T16:12:02.828420", "level": "ERROR", "logger": "livekit", "message": "failed to emit event function_tools_executed", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 282, in on_tools_executed\n    \"output\": output.result\n              ^^^^^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/pydantic/main.py\", line 1026, in __getattr__\n    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\nAttributeError: 'FunctionCallOutput' object has no attribute 'result'"}
{"timestamp": "2025-11-18T16:12:02.835645", "level": "ERROR", "logger": "livekit", "message": "failed to emit event function_tools_executed\nTraceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 282, in on_tools_executed\n    \"output\": output.result\n              ^^^^^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/pydantic/main.py\", line 1026, in __getattr__\n    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\nAttributeError: 'FunctionCallOutput' object has no attribute 'result'"}
{"timestamp": "2025-11-18T16:12:02.868530", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'timeout': Timeout(timeout=10.0), 'files': None, 'idempotency_key': 'stainless-python-retry-03f9a830-6d8c-4308-bb19-6f04d069010b', 'json_data': {'messages': [{'role': 'system', 'content': \"\\n        You are **Shifa Clinic\u2019s AI Receptionist**, answering calls in real time.\\n            Your role is to help callers with booking, confirming, or rescheduling appointments.\\n            Speak naturally, briefly, and professionally\u2014like an experienced clinic receptionist.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CORE BEHAVIOR\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            1. **Every call is fresh.**  \\n            Do not rely on previous session context. Use only:\\n            - caller name (if known)\\n            - caller phone (if known)\\n            - information spoken in THIS call\\n            \\n\\n            2. **One task at a time.**  \\n            Every reply must:\\n            - confirm the last thing the caller said\\n            - take one small step forward (ask ONE question)\\n            - be under **8 words**\\n                Always respond in under 8 words. Prioritize immediate tool calls. Do not speak long sentences.\\n\\n            3. **Never expose internal logic.**  \\n            Never say:\\n            - \u201ccalling a tool\u2026\u201d\\n            - \u201csaving memory\u2026\u201d\\n            - \u201cI detected your name\u2026\u201d\\n            - \u201cupdating the appointment\u2026\u201d\\n\\n            4. **Always stay polite, warm, and concise.**\\n            Examples:\\n            - \u201cSure, one moment.\u201d\\n            - \u201cGot it.\u201d\\n            - \u201cLet me check that.\u201d\\n\\n            5. **If caller seems confused, repeat slowly and simply.**\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### TOOL CALLING RULES\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            Use tools to perform actions.  \\n            After calling a tool, speak a short natural confirmation.\\n\\n            **Tools you may call:**\\n            - `save_name(name)`\\n            - `save_phone(phone)`\\n            - `available_slot()`\\n            - `booking_appointment()`\\n            - `get_date()`\\n            - `update_caller_profile(name?, phone?)`\\n            - `start_reschedule()`\\n            - `confirm_reschedule()`\\n            - `end_call()`\\n\\n            Tool usage guidelines:\\n            - Call **save_name** immediately when you hear a name.\\n            - Call **save_phone** when digits are spoken.  \\n            If partial, ask: \u201cCan you repeat that number slowly?\u201d\\n            - Call **available_slot** when caller expresses a time preference (morning, evening, 3pm, etc.)\\n            - Call **get_date** when caller gives a vague date (\u201cnext Monday\u201d).\\n            - Call **booking_appointment** only when BOTH date and time are known.\\n            - Call **update_caller_profile** if caller corrects name or phone.\\n            - After a booking or reschedule completes, ask:  \\n            \u201cAnything else I can help with?\u201d  \\n            If caller says \u201cno\u201d, use `end_call()`.\\n            If the phone number is unclear or has extra/missing digits, ask the caller to repeat it digit by digit.\\n                Do not guess phone numbers.\\n                Always confirm the final number by repeating it back.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESCHEDULE FLOW\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            When the caller says anything like \u201cchange\u201d, \u201cmove\u201d, \u201creschedule\u201d, \u201cshift\u201d:\\n            1. Call **start_reschedule**.\\n            2. Ask for the new date.\\n            3. Once date \u2192 ask for time.\\n            4. When BOTH are known \u2192 call **confirm_reschedule**.\\n            5. After confirmation \u2192 ask:  \\n            \u201cAnything else I can help with?\u201d\\n\\n            Never call `confirm_reschedule` early.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CONVERSATION STYLE\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Speak like a calm clinic receptionist.\\n            - Use short sentences.  \\n            - One question per turn.  \\n            - No filler like \u201cas an AI\u201d.  \\n            - No medical advice.  \\n            - Don't ask for information you already have.\\n\\n            **Good examples:**\\n            - \u201cSure. What day works for you?\u201d\\n            - \u201cGot it. And what time?\u201d\\n            - \u201cPerfect. One moment while I check.\u201d\\n\\n            **Bad examples:**\\n            - \u201cLet me call a tool.\u201d\\n            - \u201cProcessing your request.\u201d\\n            - \u201cI am updating your appointment in the database.\u201d\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESPONSE CONTROL\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Never output long paragraphs.  \\n            - Never output lists or explanations.  \\n            - Keep responses conversational and human.  \\n            - If caller pauses 5 seconds, use `end_call()`.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### ROLE REMINDER\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            You are the first point of contact for Shifa Clinic.  \\n            Be warm. Be efficient. Be human.\\n\\n            Now handle the caller.\\n\\n\"}, {'role': 'assistant', 'content': 'Good evening! How can I assist you today?'}, {'role': 'user', 'content': 'Okay. How is my name?'}, {'role': 'assistant', 'content': 'I don\u2019t have your name yet. What is it?'}, {'role': 'user', 'content': 'My name is Abdul Basat.'}, {'role': 'assistant', 'tool_calls': [{'id': 'call_s1uZE488F0xtDyDcRRuQLkKl', 'type': 'function', 'function': {'name': 'save_name', 'arguments': '{\"name\":\"Abdul Basat\"}'}}]}, {'role': 'tool', 'tool_call_id': 'call_s1uZE488F0xtDyDcRRuQLkKl', 'content': 'Thanks, Abdul Basat.'}], 'model': 'gpt-4o-mini', 'stream': True, 'stream_options': {'include_usage': True}, 'temperature': 0.7, 'tool_choice': 'auto', 'tools': [{'type': 'function', 'function': {'name': 'save_name', 'strict': True, 'description': '', 'parameters': {'properties': {'name': {'type': 'string'}}, 'required': ['name'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'save_phone', 'strict': True, 'description': 'Store validated patient phone in Redis using existing BookingBase validator.', 'parameters': {'properties': {'phone': {'type': 'string'}}, 'required': ['phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'available_slot', 'strict': True, 'description': 'Suggest available appointment slots for a given day.\\n- Understands natural language (\"tomorrow\", \"morning\", \"after 2pm\")\\n- Always fetches fresh availability from DB.\\n- Returns top 3 free slots.\\n- Stores them in ctx.suggested_slots for booking_appointment.', 'parameters': {'properties': {'day': {'type': 'string'}, 'date': {'type': 'string'}, 'time': {'type': 'string'}}, 'required': ['day', 'date', 'time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'booking_appointment', 'strict': True, 'description': 'Create or reschedule an appointment.\\nClean, predictable, AI-friendly logic.\\nUses helper functions for DB safety.', 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'get_date', 'strict': True, 'description': 'Return system date and time.', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'end_call', 'strict': True, 'description': \"Gracefully end the call after confirming there's nothing else needed.\\nDoes not clear Redis; short-term memory expires via TTL.\", 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'update_caller_profile', 'strict': True, 'description': 'Persist caller profile (name/phone) for future calls without disrupting session.\\nIf phone not provided, uses current session phone if available.', 'parameters': {'properties': {'name': {'type': ['string', 'null']}, 'phone': {'type': ['string', 'null']}}, 'required': ['name', 'phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'start_reschedule', 'strict': True, 'description': '', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'confirm_reschedule', 'strict': True, 'description': \"Confirm and perform rescheduling to the selected date/time.\\nUse after start_reschedule + available_slot when the caller says 'yes'.\", 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}]}}"}
{"timestamp": "2025-11-18T16:12:02.871189", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions"}
{"timestamp": "2025-11-18T16:12:02.871894", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=10.0 socket_options=None"}
{"timestamp": "2025-11-18T16:12:02.901726", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x124416dd0>"}
{"timestamp": "2025-11-18T16:12:02.902133", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x117d24050> server_hostname='api.openai.com' timeout=10.0"}
{"timestamp": "2025-11-18T16:12:02.914686", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1169657d0>"}
{"timestamp": "2025-11-18T16:12:02.915488", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:12:02.916484", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-18T16:12:02.916667", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:12:02.917382", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-18T16:12:02.917986", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:12:03.348949", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482323.347498, 'idle_time': 2.2969907079823315, 'inference_duration_total': 0.032894708041567355, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:03.351082", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482323.347498, 'idle_time': 2.2969907079823315, 'inference_duration_total': 0.032894708041567355, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:03.497374", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 18 Nov 2025 16:12:03 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'325'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'339'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9997'), (b'x-ratelimit-remaining-tokens', b'198608'), (b'x-ratelimit-reset-requests', b'24.901s'), (b'x-ratelimit-reset-tokens', b'417ms'), (b'x-request-id', b'req_f0ae7bcbfc2841a1baff03090cf00065'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a08bf488913b7f7-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:12:03.498308", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/chat/completions \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-18T16:12:03.498542", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Tue, 18 Nov 2025 16:12:03 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '325', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '339', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9997', 'x-ratelimit-remaining-tokens': '198608', 'x-ratelimit-reset-requests': '24.901s', 'x-ratelimit-reset-tokens': '417ms', 'x-request-id': 'req_f0ae7bcbfc2841a1baff03090cf00065', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a08bf488913b7f7-KHI', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-18T16:12:03.498821", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_f0ae7bcbfc2841a1baff03090cf00065"}
{"timestamp": "2025-11-18T16:12:03.499314", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:12:03.769191", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-18T16:12:03.769621", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-18T16:12:03.770210", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIbDSRRWSZdT1WPvPWjbJ3n4wQnG', 'timestamp': 1763482323.769984, 'duration': 0.9333230000047479, 'ttft': 0.7328762499964796, 'cancelled': False, 'completion_tokens': 12, 'prompt_tokens': 1396, 'prompt_cached_tokens': 1280, 'total_tokens': 1408, 'tokens_per_second': 12.857285205592229, 'speech_id': 'speech_09236d9f8072', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:12:03.770491", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIbDSRRWSZdT1WPvPWjbJ3n4wQnG', 'timestamp': 1763482323.769984, 'duration': 0.9333230000047479, 'ttft': 0.7328762499964796, 'cancelled': False, 'completion_tokens': 12, 'prompt_tokens': 1396, 'prompt_cached_tokens': 1280, 'total_tokens': 1408, 'tokens_per_second': 12.857285205592229, 'speech_id': 'speech_09236d9f8072', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:12:03.771691", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream', 'X-Stainless-Raw-Response': 'stream'}, 'timeout': Timeout(connect=10.0, read=30, write=30, pool=30), 'files': None, 'idempotency_key': 'stainless-python-retry-6733e5fa-8aca-45b2-b197-efe78558dbf2', 'json_data': {'input': 'How can I help you today, Abdul Basat?', 'model': 'gpt-4o-mini-tts', 'voice': 'alloy', 'response_format': 'mp3', 'speed': 1.0}}"}
{"timestamp": "2025-11-18T16:12:03.772305", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/audio/speech"}
{"timestamp": "2025-11-18T16:12:03.772904", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:12:03.773220", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-18T16:12:03.773283", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:12:03.773430", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-18T16:12:03.773483", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:12:03.773709", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.failed exception=GeneratorExit()"}
{"timestamp": "2025-11-18T16:12:04.395672", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482324.395463, 'idle_time': 3.3449489579943474, 'inference_duration_total': 0.029911793069913983, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:04.395980", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482324.395463, 'idle_time': 3.3449489579943474, 'inference_duration_total': 0.029911793069913983, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:05.006678", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 18 Nov 2025 16:12:05 GMT'), (b'Content-Type', b'audio/mpeg'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'629'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'644'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9996'), (b'x-ratelimit-remaining-tokens', b'199991'), (b'x-ratelimit-reset-requests', b'32.65s'), (b'x-ratelimit-reset-tokens', b'2ms'), (b'x-request-id', b'req_6455f11ebf2b4678be551ffe38171739'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a08bf4dfec32704-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:12:05.007172", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/audio/speech \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-18T16:12:05.007314", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/audio/speech \"200 OK\" Headers({'date': 'Tue, 18 Nov 2025 16:12:05 GMT', 'content-type': 'audio/mpeg', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '629', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '644', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9996', 'x-ratelimit-remaining-tokens': '199991', 'x-ratelimit-reset-requests': '32.65s', 'x-ratelimit-reset-tokens': '2ms', 'x-request-id': 'req_6455f11ebf2b4678be551ffe38171739', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a08bf4dfec32704-KHI', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-18T16:12:05.007570", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_6455f11ebf2b4678be551ffe38171739"}
{"timestamp": "2025-11-18T16:12:05.007828", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:12:05.436578", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482325.436065, 'idle_time': 4.385543499985943, 'inference_duration_total': 0.045291956019354984, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:05.438991", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482325.436065, 'idle_time': 4.385543499985943, 'inference_duration_total': 0.045291956019354984, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:05.729168", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:12:05.911532", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:12:06.445774", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482326.4455402, 'idle_time': 5.395011999993585, 'inference_duration_total': 0.0161514199571684, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:06.446101", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482326.4455402, 'idle_time': 5.395011999993585, 'inference_duration_total': 0.0161514199571684, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:07.046761", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:12:07.246214", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:12:07.397833", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482327.397185, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:12:07.398825", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482327.397185, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:12:07.449574", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482327.4490712, 'idle_time': 6.398535874992376, 'inference_duration_total': 0.03207666601520032, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:07.450282", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482327.4490712, 'idle_time': 6.398535874992376, 'inference_duration_total': 0.03207666601520032, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:07.846241", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:12:07.846867", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:12:08.496354", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482328.4960861, 'idle_time': 7.445543665991863, 'inference_duration_total': 0.02575945996795781, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:08.496958", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482328.4960861, 'idle_time': 7.445543665991863, 'inference_duration_total': 0.02575945996795781, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:08.506593", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:12:08.506737", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:12:08.763661", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete"}
{"timestamp": "2025-11-18T16:12:08.763948", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-18T16:12:08.764209", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-18T16:12:08.768673", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_6455f11ebf2b4678be551ffe38171739', 'timestamp': 1763482328.768395, 'ttfb': 1.777104083012091, 'duration': 4.997355666011572, 'audio_duration': 2.41, 'cancelled': False, 'characters_count': 38, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_09236d9f8072', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:12:08.769361", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_6455f11ebf2b4678be551ffe38171739', 'timestamp': 1763482328.768395, 'ttfb': 1.777104083012091, 'duration': 4.997355666011572, 'audio_duration': 2.41, 'cancelled': False, 'characters_count': 38, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_09236d9f8072', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:12:09.497712", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482329.497012, 'idle_time': 8.446463207976194, 'inference_duration_total': 0.016279755014693365, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:09.498601", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482329.497012, 'idle_time': 8.446463207976194, 'inference_duration_total': 0.016279755014693365, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:10.546299", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482330.545395, 'idle_time': 9.494838915998116, 'inference_duration_total': 0.023173167050117627, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:10.546810", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482330.545395, 'idle_time': 9.494838915998116, 'inference_duration_total': 0.023173167050117627, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:11.546095", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482331.54592, 'idle_time': 10.495357832987793, 'inference_duration_total': 0.02257841805112548, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:11.546401", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482331.54592, 'idle_time': 10.495357832987793, 'inference_duration_total': 0.02257841805112548, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:12.445399", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482332.4451158, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:12:12.445747", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482332.4451158, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:12:12.595567", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482332.595391, 'idle_time': 11.544821332994616, 'inference_duration_total': 0.015235958097036928, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:12.595880", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482332.595391, 'idle_time': 11.544821332994616, 'inference_duration_total': 0.015235958097036928, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:13.595611", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482333.595457, 'idle_time': 12.544880582980113, 'inference_duration_total': 0.022320959047647193, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:13.595864", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482333.595457, 'idle_time': 12.544880582980113, 'inference_duration_total': 0.022320959047647193, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:14.645853", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482334.645657, 'idle_time': 13.595074207987636, 'inference_duration_total': 0.022118456021416932, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:14.646338", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482334.645657, 'idle_time': 13.595074207987636, 'inference_duration_total': 0.022118456021416932, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:15.645848", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482335.645521, 'idle_time': 14.594931332976557, 'inference_duration_total': 0.025391373928869143, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:15.646228", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482335.645521, 'idle_time': 14.594931332976557, 'inference_duration_total': 0.025391373928869143, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:16.696111", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482336.695679, 'idle_time': 15.645081750000827, 'inference_duration_total': 0.01718437604722567, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:16.696690", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482336.695679, 'idle_time': 15.645081750000827, 'inference_duration_total': 0.01718437604722567, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:17.447484", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482337.446932, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:12:17.448608", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482337.446932, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:12:17.695643", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482337.6954849, 'idle_time': 16.644881832995452, 'inference_duration_total': 0.024216913909185678, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:17.695908", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482337.6954849, 'idle_time': 16.644881832995452, 'inference_duration_total': 0.024216913909185678, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:18.746388", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482338.746111, 'idle_time': 17.695500624977285, 'inference_duration_total': 0.02101525099715218, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:18.746914", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482338.746111, 'idle_time': 17.695500624977285, 'inference_duration_total': 0.02101525099715218, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:19.746103", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482339.745887, 'idle_time': 18.695270290976623, 'inference_duration_total': 0.020974336977815256, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:19.746451", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482339.745887, 'idle_time': 18.695270290976623, 'inference_duration_total': 0.020974336977815256, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:20.746707", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482340.746408, 'idle_time': 19.69578445798834, 'inference_duration_total': 0.019241207861341536, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:20.748180", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482340.746408, 'idle_time': 19.69578445798834, 'inference_duration_total': 0.019241207861341536, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:21.798706", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482341.7980769, 'idle_time': 20.747446374996798, 'inference_duration_total': 0.021529502933844924, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:21.799526", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482341.7980769, 'idle_time': 20.747446374996798, 'inference_duration_total': 0.021529502933844924, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:22.495412", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482342.495202, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:12:22.495782", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482342.495202, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:12:22.795206", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482342.795048, 'idle_time': 21.744410582992714, 'inference_duration_total': 0.01765050206449814, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:22.795477", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482342.795048, 'idle_time': 21.744410582992714, 'inference_duration_total': 0.01765050206449814, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:23.845861", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482343.8456, 'idle_time': 22.794955165998545, 'inference_duration_total': 0.022898919007275254, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:23.846259", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482343.8456, 'idle_time': 22.794955165998545, 'inference_duration_total': 0.022898919007275254, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:24.846602", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482344.846421, 'idle_time': 0.00012120799510739744, 'inference_duration_total': 0.02208066705497913, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:24.846986", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482344.846421, 'idle_time': 0.00012120799510739744, 'inference_duration_total': 0.02208066705497913, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:25.028365", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-18T16:12:25.029595", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763482345.029464, 'end_of_utterance_delay': 0.7693181037902832, 'transcription_delay': 0.7689821720123291, 'on_user_turn_completed_delay': 9.5367431640625e-07, 'last_speaking_time': 1763482344.259512, 'speech_id': 'speech_49fef1cd9b2c', 'metadata': None}}"}
{"timestamp": "2025-11-18T16:12:25.030415", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763482345.029464, 'end_of_utterance_delay': 0.7693181037902832, 'transcription_delay': 0.7689821720123291, 'on_user_turn_completed_delay': 9.5367431640625e-07, 'last_speaking_time': 1763482344.259512, 'speech_id': 'speech_49fef1cd9b2c', 'metadata': None}}"}
{"timestamp": "2025-11-18T16:12:25.040064", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'timeout': Timeout(timeout=10.0), 'files': None, 'idempotency_key': 'stainless-python-retry-3c5e1b8b-68b4-4536-bf4a-a6b697eef1c3', 'json_data': {'messages': [{'role': 'system', 'content': \"\\n        You are **Shifa Clinic\u2019s AI Receptionist**, answering calls in real time.\\n            Your role is to help callers with booking, confirming, or rescheduling appointments.\\n            Speak naturally, briefly, and professionally\u2014like an experienced clinic receptionist.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CORE BEHAVIOR\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            1. **Every call is fresh.**  \\n            Do not rely on previous session context. Use only:\\n            - caller name (if known)\\n            - caller phone (if known)\\n            - information spoken in THIS call\\n            \\n\\n            2. **One task at a time.**  \\n            Every reply must:\\n            - confirm the last thing the caller said\\n            - take one small step forward (ask ONE question)\\n            - be under **8 words**\\n                Always respond in under 8 words. Prioritize immediate tool calls. Do not speak long sentences.\\n\\n            3. **Never expose internal logic.**  \\n            Never say:\\n            - \u201ccalling a tool\u2026\u201d\\n            - \u201csaving memory\u2026\u201d\\n            - \u201cI detected your name\u2026\u201d\\n            - \u201cupdating the appointment\u2026\u201d\\n\\n            4. **Always stay polite, warm, and concise.**\\n            Examples:\\n            - \u201cSure, one moment.\u201d\\n            - \u201cGot it.\u201d\\n            - \u201cLet me check that.\u201d\\n\\n            5. **If caller seems confused, repeat slowly and simply.**\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### TOOL CALLING RULES\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            Use tools to perform actions.  \\n            After calling a tool, speak a short natural confirmation.\\n\\n            **Tools you may call:**\\n            - `save_name(name)`\\n            - `save_phone(phone)`\\n            - `available_slot()`\\n            - `booking_appointment()`\\n            - `get_date()`\\n            - `update_caller_profile(name?, phone?)`\\n            - `start_reschedule()`\\n            - `confirm_reschedule()`\\n            - `end_call()`\\n\\n            Tool usage guidelines:\\n            - Call **save_name** immediately when you hear a name.\\n            - Call **save_phone** when digits are spoken.  \\n            If partial, ask: \u201cCan you repeat that number slowly?\u201d\\n            - Call **available_slot** when caller expresses a time preference (morning, evening, 3pm, etc.)\\n            - Call **get_date** when caller gives a vague date (\u201cnext Monday\u201d).\\n            - Call **booking_appointment** only when BOTH date and time are known.\\n            - Call **update_caller_profile** if caller corrects name or phone.\\n            - After a booking or reschedule completes, ask:  \\n            \u201cAnything else I can help with?\u201d  \\n            If caller says \u201cno\u201d, use `end_call()`.\\n            If the phone number is unclear or has extra/missing digits, ask the caller to repeat it digit by digit.\\n                Do not guess phone numbers.\\n                Always confirm the final number by repeating it back.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESCHEDULE FLOW\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            When the caller says anything like \u201cchange\u201d, \u201cmove\u201d, \u201creschedule\u201d, \u201cshift\u201d:\\n            1. Call **start_reschedule**.\\n            2. Ask for the new date.\\n            3. Once date \u2192 ask for time.\\n            4. When BOTH are known \u2192 call **confirm_reschedule**.\\n            5. After confirmation \u2192 ask:  \\n            \u201cAnything else I can help with?\u201d\\n\\n            Never call `confirm_reschedule` early.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CONVERSATION STYLE\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Speak like a calm clinic receptionist.\\n            - Use short sentences.  \\n            - One question per turn.  \\n            - No filler like \u201cas an AI\u201d.  \\n            - No medical advice.  \\n            - Don't ask for information you already have.\\n\\n            **Good examples:**\\n            - \u201cSure. What day works for you?\u201d\\n            - \u201cGot it. And what time?\u201d\\n            - \u201cPerfect. One moment while I check.\u201d\\n\\n            **Bad examples:**\\n            - \u201cLet me call a tool.\u201d\\n            - \u201cProcessing your request.\u201d\\n            - \u201cI am updating your appointment in the database.\u201d\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESPONSE CONTROL\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Never output long paragraphs.  \\n            - Never output lists or explanations.  \\n            - Keep responses conversational and human.  \\n            - If caller pauses 5 seconds, use `end_call()`.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### ROLE REMINDER\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            You are the first point of contact for Shifa Clinic.  \\n            Be warm. Be efficient. Be human.\\n\\n            Now handle the caller.\\n\\n\"}, {'role': 'assistant', 'content': 'Good evening! How can I assist you today?'}, {'role': 'user', 'content': 'Okay. How is my name?'}, {'role': 'assistant', 'content': 'I don\u2019t have your name yet. What is it?'}, {'role': 'user', 'content': 'My name is Abdul Basat.'}, {'role': 'assistant', 'tool_calls': [{'id': 'call_s1uZE488F0xtDyDcRRuQLkKl', 'type': 'function', 'function': {'name': 'save_name', 'arguments': '{\"name\":\"Abdul Basat\"}'}}]}, {'role': 'tool', 'tool_call_id': 'call_s1uZE488F0xtDyDcRRuQLkKl', 'content': 'Thanks, Abdul Basat.'}, {'role': 'assistant', 'content': 'How can I help you today, Abdul Basat?'}, {'role': 'user', 'content': 'Hello?'}], 'model': 'gpt-4o-mini', 'stream': True, 'stream_options': {'include_usage': True}, 'temperature': 0.7, 'tools': [{'type': 'function', 'function': {'name': 'save_name', 'strict': True, 'description': '', 'parameters': {'properties': {'name': {'type': 'string'}}, 'required': ['name'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'save_phone', 'strict': True, 'description': 'Store validated patient phone in Redis using existing BookingBase validator.', 'parameters': {'properties': {'phone': {'type': 'string'}}, 'required': ['phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'available_slot', 'strict': True, 'description': 'Suggest available appointment slots for a given day.\\n- Understands natural language (\"tomorrow\", \"morning\", \"after 2pm\")\\n- Always fetches fresh availability from DB.\\n- Returns top 3 free slots.\\n- Stores them in ctx.suggested_slots for booking_appointment.', 'parameters': {'properties': {'day': {'type': 'string'}, 'date': {'type': 'string'}, 'time': {'type': 'string'}}, 'required': ['day', 'date', 'time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'booking_appointment', 'strict': True, 'description': 'Create or reschedule an appointment.\\nClean, predictable, AI-friendly logic.\\nUses helper functions for DB safety.', 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'get_date', 'strict': True, 'description': 'Return system date and time.', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'end_call', 'strict': True, 'description': \"Gracefully end the call after confirming there's nothing else needed.\\nDoes not clear Redis; short-term memory expires via TTL.\", 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'update_caller_profile', 'strict': True, 'description': 'Persist caller profile (name/phone) for future calls without disrupting session.\\nIf phone not provided, uses current session phone if available.', 'parameters': {'properties': {'name': {'type': ['string', 'null']}, 'phone': {'type': ['string', 'null']}}, 'required': ['name', 'phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'start_reschedule', 'strict': True, 'description': '', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'confirm_reschedule', 'strict': True, 'description': \"Confirm and perform rescheduling to the selected date/time.\\nUse after start_reschedule + available_slot when the caller says 'yes'.\", 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}]}}"}
{"timestamp": "2025-11-18T16:12:25.041844", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions"}
{"timestamp": "2025-11-18T16:12:25.042628", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=10.0 socket_options=None"}
{"timestamp": "2025-11-18T16:12:25.056521", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x12456c7d0>"}
{"timestamp": "2025-11-18T16:12:25.056651", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x117d24050> server_hostname='api.openai.com' timeout=10.0"}
{"timestamp": "2025-11-18T16:12:25.125943", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1244ae450>"}
{"timestamp": "2025-11-18T16:12:25.126761", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:12:25.127093", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-18T16:12:25.127175", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:12:25.127415", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-18T16:12:25.127515", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:12:25.898709", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482345.8980129, 'idle_time': 1.0517063329753, 'inference_duration_total': 0.028703499003313482, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:25.899517", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482345.8980129, 'idle_time': 1.0517063329753, 'inference_duration_total': 0.028703499003313482, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:26.514402", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 18 Nov 2025 16:12:26 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'1014'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'1024'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9997'), (b'x-ratelimit-remaining-tokens', b'198595'), (b'x-ratelimit-reset-requests', b'19.886s'), (b'x-ratelimit-reset-tokens', b'421ms'), (b'x-request-id', b'req_b84caf4146d94e28ba248e7981594904'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a08bfd3c80497a4-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:12:26.514860", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/chat/completions \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-18T16:12:26.514982", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Tue, 18 Nov 2025 16:12:26 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '1014', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '1024', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9997', 'x-ratelimit-remaining-tokens': '198595', 'x-ratelimit-reset-requests': '19.886s', 'x-ratelimit-reset-tokens': '421ms', 'x-request-id': 'req_b84caf4146d94e28ba248e7981594904', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a08bfd3c80497a4-KHI', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-18T16:12:26.515203", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_b84caf4146d94e28ba248e7981594904"}
{"timestamp": "2025-11-18T16:12:26.515444", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:12:26.897956", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482346.8973958, 'idle_time': 2.0510829999984708, 'inference_duration_total': 0.026804958964930847, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:26.898645", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482346.8973958, 'idle_time': 2.0510829999984708, 'inference_duration_total': 0.026804958964930847, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:26.935791", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-18T16:12:26.936717", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-18T16:12:26.938610", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIbZzQapCkssjoAtrj1h0CVZDfij', 'timestamp': 1763482346.93824, 'duration': 1.9071977080020588, 'ttft': 1.8575481660082005, 'cancelled': False, 'completion_tokens': 10, 'prompt_tokens': 1417, 'prompt_cached_tokens': 0, 'total_tokens': 1427, 'tokens_per_second': 5.243294891789585, 'speech_id': 'speech_49fef1cd9b2c', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:12:26.939022", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIbZzQapCkssjoAtrj1h0CVZDfij', 'timestamp': 1763482346.93824, 'duration': 1.9071977080020588, 'ttft': 1.8575481660082005, 'cancelled': False, 'completion_tokens': 10, 'prompt_tokens': 1417, 'prompt_cached_tokens': 0, 'total_tokens': 1427, 'tokens_per_second': 5.243294891789585, 'speech_id': 'speech_49fef1cd9b2c', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:12:26.940208", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream', 'X-Stainless-Raw-Response': 'stream'}, 'timeout': Timeout(connect=10.0, read=30, write=30, pool=30), 'files': None, 'idempotency_key': 'stainless-python-retry-1196bdd4-df00-4143-8b33-95166a536d2b', 'json_data': {'input': \"I'm here! How can I assist you?\", 'model': 'gpt-4o-mini-tts', 'voice': 'alloy', 'response_format': 'mp3', 'speed': 1.0}}"}
{"timestamp": "2025-11-18T16:12:26.941025", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/audio/speech"}
{"timestamp": "2025-11-18T16:12:26.941770", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.failed exception=GeneratorExit()"}
{"timestamp": "2025-11-18T16:12:26.942205", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:12:26.942604", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-18T16:12:26.942707", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:12:26.942939", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-18T16:12:26.943020", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:12:27.497245", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482347.4967349, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:12:27.498200", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482347.4967349, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:12:27.947976", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482347.947464, 'idle_time': 3.1011431659862865, 'inference_duration_total': 0.026386378129245713, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:27.949343", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482347.947464, 'idle_time': 3.1011431659862865, 'inference_duration_total': 0.026386378129245713, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:28.003714", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 18 Nov 2025 16:12:28 GMT'), (b'Content-Type', b'audio/mpeg'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'509'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'529'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9996'), (b'x-ratelimit-remaining-tokens', b'199993'), (b'x-ratelimit-reset-requests', b'26.777s'), (b'x-ratelimit-reset-tokens', b'2ms'), (b'x-request-id', b'req_6017309ee90c4dcd90c04ddb8baec740'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a08bfdeba012704-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:12:28.004801", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/audio/speech \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-18T16:12:28.005032", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/audio/speech \"200 OK\" Headers({'date': 'Tue, 18 Nov 2025 16:12:28 GMT', 'content-type': 'audio/mpeg', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '509', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '529', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9996', 'x-ratelimit-remaining-tokens': '199993', 'x-ratelimit-reset-requests': '26.777s', 'x-ratelimit-reset-tokens': '2ms', 'x-request-id': 'req_6017309ee90c4dcd90c04ddb8baec740', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a08bfdeba012704-KHI', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-18T16:12:28.005329", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_6017309ee90c4dcd90c04ddb8baec740"}
{"timestamp": "2025-11-18T16:12:28.005793", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:12:28.947137", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482348.946589, 'idle_time': 4.100261415995192, 'inference_duration_total': 0.02209349599434063, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:28.947865", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482348.946589, 'idle_time': 4.100261415995192, 'inference_duration_total': 0.02209349599434063, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:29.140813", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:12:29.444066", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:12:29.737093", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:12:29.995717", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482349.995553, 'idle_time': 5.149218415986979, 'inference_duration_total': 0.025344375026179478, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:29.996033", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482349.995553, 'idle_time': 5.149218415986979, 'inference_duration_total': 0.025344375026179478, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:30.010040", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:12:30.010176", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:12:30.342567", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete"}
{"timestamp": "2025-11-18T16:12:30.342732", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-18T16:12:30.342925", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-18T16:12:30.347884", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_6017309ee90c4dcd90c04ddb8baec740', 'timestamp': 1763482350.347678, 'ttfb': 1.816553834010847, 'duration': 3.4081417090201285, 'audio_duration': 1.954, 'cancelled': False, 'characters_count': 31, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_49fef1cd9b2c', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:12:30.348364", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_6017309ee90c4dcd90c04ddb8baec740', 'timestamp': 1763482350.347678, 'ttfb': 1.816553834010847, 'duration': 3.4081417090201285, 'audio_duration': 1.954, 'cancelled': False, 'characters_count': 31, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_49fef1cd9b2c', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:12:30.996803", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482350.9965389, 'idle_time': 6.150197832990671, 'inference_duration_total': 0.020905919081997126, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:30.997230", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482350.9965389, 'idle_time': 6.150197832990671, 'inference_duration_total': 0.020905919081997126, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:32.046008", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482352.045613, 'idle_time': 7.199265415983973, 'inference_duration_total': 0.018467624089680612, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:32.046496", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482352.045613, 'idle_time': 7.199265415983973, 'inference_duration_total': 0.018467624089680612, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:32.545407", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482352.545144, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:12:32.545771", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482352.545144, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:12:33.046572", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482353.0462568, 'idle_time': 8.199902041000314, 'inference_duration_total': 0.018467622983735055, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:33.046963", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482353.0462568, 'idle_time': 8.199902041000314, 'inference_duration_total': 0.018467622983735055, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:34.098165", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482354.097568, 'idle_time': 9.251206624991028, 'inference_duration_total': 0.019840457011014223, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:34.099573", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482354.097568, 'idle_time': 9.251206624991028, 'inference_duration_total': 0.019840457011014223, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:35.096779", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482355.096583, 'idle_time': 10.250214582978515, 'inference_duration_total': 0.02248045802116394, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:35.097093", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482355.096583, 'idle_time': 10.250214582978515, 'inference_duration_total': 0.02248045802116394, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:36.146292", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482356.1459682, 'idle_time': 11.299593165982515, 'inference_duration_total': 0.026228458067635074, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:36.146867", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482356.1459682, 'idle_time': 11.299593165982515, 'inference_duration_total': 0.026228458067635074, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:37.148441", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482357.147836, 'idle_time': 12.301454165979521, 'inference_duration_total': 0.02205204390338622, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:37.149134", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482357.147836, 'idle_time': 12.301454165979521, 'inference_duration_total': 0.02205204390338622, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:37.545768", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482357.54542, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:12:37.546269", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482357.54542, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:12:38.196406", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482358.196115, 'idle_time': 13.349725540989311, 'inference_duration_total': 0.02224233711604029, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:38.196976", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482358.196115, 'idle_time': 13.349725540989311, 'inference_duration_total': 0.02224233711604029, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:39.197684", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482359.1968021, 'idle_time': 14.350406624987954, 'inference_duration_total': 0.024789497983874753, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:39.198410", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482359.1968021, 'idle_time': 14.350406624987954, 'inference_duration_total': 0.024789497983874753, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:40.246425", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482360.246232, 'idle_time': 15.399829124973621, 'inference_duration_total': 0.018458168022334576, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:40.247571", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482360.246232, 'idle_time': 15.399829124973621, 'inference_duration_total': 0.018458168022334576, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:41.245778", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482361.2454898, 'idle_time': 16.399080124974716, 'inference_duration_total': 0.018990668933838606, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:41.246157", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482361.2454898, 'idle_time': 16.399080124974716, 'inference_duration_total': 0.018990668933838606, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:42.296104", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482362.295861, 'idle_time': 17.44944412499899, 'inference_duration_total': 0.01767062407452613, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:42.296612", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482362.295861, 'idle_time': 17.44944412499899, 'inference_duration_total': 0.01767062407452613, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:42.595761", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482362.595445, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:12:42.596175", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482362.595445, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:12:43.295891", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482363.295695, 'idle_time': 18.449271749996115, 'inference_duration_total': 0.01800908098812215, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:43.296213", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482363.295695, 'idle_time': 18.449271749996115, 'inference_duration_total': 0.01800908098812215, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:44.348144", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482364.347563, 'idle_time': 19.501132624980528, 'inference_duration_total': 0.025691543065477163, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:44.348952", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482364.347563, 'idle_time': 19.501132624980528, 'inference_duration_total': 0.025691543065477163, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:45.346051", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482365.345784, 'idle_time': 20.499347165983636, 'inference_duration_total': 0.02435787601280026, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:45.346464", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482365.345784, 'idle_time': 20.499347165983636, 'inference_duration_total': 0.02435787601280026, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:46.349457", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482366.3488011, 'idle_time': 21.502357499994105, 'inference_duration_total': 0.03870312299113721, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:46.351198", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482366.3488011, 'idle_time': 21.502357499994105, 'inference_duration_total': 0.03870312299113721, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:47.396678", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482367.396372, 'idle_time': 22.549921665980946, 'inference_duration_total': 0.028481084969826043, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:47.397142", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482367.396372, 'idle_time': 22.549921665980946, 'inference_duration_total': 0.028481084969826043, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:47.645454", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482367.645282, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:12:47.645789", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482367.645282, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:12:48.396485", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482368.396276, 'idle_time': 23.549819124978967, 'inference_duration_total': 0.020379748020786792, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:48.396841", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482368.396276, 'idle_time': 23.549819124978967, 'inference_duration_total': 0.020379748020786792, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:49.447770", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482369.4471629, 'idle_time': 24.60069895797642, 'inference_duration_total': 0.026414374995511025, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:49.448513", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482369.4471629, 'idle_time': 24.60069895797642, 'inference_duration_total': 0.026414374995511025, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:50.447466", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482370.446333, 'idle_time': 25.599861582973972, 'inference_duration_total': 0.048481664969585836, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:50.448388", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482370.446333, 'idle_time': 25.599861582973972, 'inference_duration_total': 0.048481664969585836, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:51.495810", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482371.4956238, 'idle_time': 26.64914641599171, 'inference_duration_total': 0.020082542119780555, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:51.496107", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482371.4956238, 'idle_time': 26.64914641599171, 'inference_duration_total': 0.020082542119780555, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:52.495914", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482372.495741, 'idle_time': 27.649256207980216, 'inference_duration_total': 0.018111541983671486, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:52.496300", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482372.495741, 'idle_time': 27.649256207980216, 'inference_duration_total': 0.018111541983671486, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:52.645635", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482372.64543, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:12:52.645940", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482372.64543, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:12:53.548275", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482373.547751, 'idle_time': 28.701259499997832, 'inference_duration_total': 0.017342334933346137, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:53.549214", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482373.547751, 'idle_time': 28.701259499997832, 'inference_duration_total': 0.017342334933346137, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:54.546738", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482374.5465322, 'idle_time': 29.70003395798267, 'inference_duration_total': 0.028360706026433036, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:54.547064", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482374.5465322, 'idle_time': 29.70003395798267, 'inference_duration_total': 0.028360706026433036, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:55.595830", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482375.595625, 'idle_time': 30.749119832995348, 'inference_duration_total': 0.015595045988447964, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:55.596182", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482375.595625, 'idle_time': 30.749119832995348, 'inference_duration_total': 0.015595045988447964, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:56.596660", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482376.596245, 'idle_time': 31.749732874974143, 'inference_duration_total': 0.01753491596900858, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:56.597114", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482376.596245, 'idle_time': 31.749732874974143, 'inference_duration_total': 0.01753491596900858, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:57.645855", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482377.645549, 'idle_time': 32.79902991600102, 'inference_duration_total': 0.025118834048043936, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:57.646319", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482377.645549, 'idle_time': 32.79902991600102, 'inference_duration_total': 0.025118834048043936, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:57.695751", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482377.6955352, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:12:57.696194", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482377.6955352, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:12:58.649070", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482378.648536, 'idle_time': 33.80201037498773, 'inference_duration_total': 0.028810914984205738, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:58.650339", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482378.648536, 'idle_time': 33.80201037498773, 'inference_duration_total': 0.028810914984205738, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:59.697011", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482379.696723, 'idle_time': 34.850189958000556, 'inference_duration_total': 0.02897537191165611, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:12:59.697454", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482379.696723, 'idle_time': 34.850189958000556, 'inference_duration_total': 0.02897537191165611, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:00.698438", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482380.697938, 'idle_time': 35.851398790982785, 'inference_duration_total': 0.02798724902095273, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:00.699258", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482380.697938, 'idle_time': 35.851398790982785, 'inference_duration_total': 0.02798724902095273, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:01.746342", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482381.745928, 'idle_time': 36.89938079100102, 'inference_duration_total': 0.029444043000694364, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:01.746812", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482381.745928, 'idle_time': 36.89938079100102, 'inference_duration_total': 0.029444043000694364, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:02.698626", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482382.697422, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:13:02.699734", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482382.697422, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:13:02.747395", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482382.747144, 'idle_time': 37.90059037497849, 'inference_duration_total': 0.03234341900679283, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:02.747770", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482382.747144, 'idle_time': 37.90059037497849, 'inference_duration_total': 0.03234341900679283, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:03.795899", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482383.795737, 'idle_time': 38.94917704098043, 'inference_duration_total': 0.02653358396491967, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:03.796202", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482383.795737, 'idle_time': 38.94917704098043, 'inference_duration_total': 0.02653358396491967, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:04.795298", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482384.7950919, 'idle_time': 39.948524124978576, 'inference_duration_total': 0.02047787103219889, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:04.795989", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482384.7950919, 'idle_time': 39.948524124978576, 'inference_duration_total': 0.02047787103219889, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:05.846051", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482385.8458838, 'idle_time': 40.99930879098247, 'inference_duration_total': 0.01816474797669798, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:05.846374", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482385.8458838, 'idle_time': 40.99930879098247, 'inference_duration_total': 0.01816474797669798, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:06.849055", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482386.848707, 'idle_time': 42.0021238749905, 'inference_duration_total': 0.024381292081670836, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:06.849569", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482386.848707, 'idle_time': 42.0021238749905, 'inference_duration_total': 0.024381292081670836, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:07.750045", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482387.747801, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:13:07.752237", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482387.747801, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:13:07.895900", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482387.895637, 'idle_time': 43.049046165979235, 'inference_duration_total': 0.03456208202987909, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:07.896225", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482387.895637, 'idle_time': 43.049046165979235, 'inference_duration_total': 0.03456208202987909, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:08.898685", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482388.897855, 'idle_time': 44.05125620798208, 'inference_duration_total': 0.037092330952873453, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:08.899702", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482388.897855, 'idle_time': 44.05125620798208, 'inference_duration_total': 0.037092330952873453, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:09.945169", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482389.944997, 'idle_time': 45.09839087497676, 'inference_duration_total': 0.02941541693871841, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:09.945475", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482389.944997, 'idle_time': 45.09839087497676, 'inference_duration_total': 0.02941541693871841, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:10.906176", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-18T16:13:10.907881", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763482390.907698, 'end_of_utterance_delay': 0.7782168388366699, 'transcription_delay': 0.7777457237243652, 'on_user_turn_completed_delay': 2.1457672119140625e-06, 'last_speaking_time': 1763482390.1286082, 'speech_id': 'speech_17adc02047a2', 'metadata': None}}"}
{"timestamp": "2025-11-18T16:13:10.908965", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763482390.907698, 'end_of_utterance_delay': 0.7782168388366699, 'transcription_delay': 0.7777457237243652, 'on_user_turn_completed_delay': 2.1457672119140625e-06, 'last_speaking_time': 1763482390.1286082, 'speech_id': 'speech_17adc02047a2', 'metadata': None}}"}
{"timestamp": "2025-11-18T16:13:10.920106", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'timeout': Timeout(timeout=10.0), 'files': None, 'idempotency_key': 'stainless-python-retry-4137b781-1e80-467d-bf7f-dfa7e9bd24da', 'json_data': {'messages': [{'role': 'system', 'content': \"\\n        You are **Shifa Clinic\u2019s AI Receptionist**, answering calls in real time.\\n            Your role is to help callers with booking, confirming, or rescheduling appointments.\\n            Speak naturally, briefly, and professionally\u2014like an experienced clinic receptionist.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CORE BEHAVIOR\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            1. **Every call is fresh.**  \\n            Do not rely on previous session context. Use only:\\n            - caller name (if known)\\n            - caller phone (if known)\\n            - information spoken in THIS call\\n            \\n\\n            2. **One task at a time.**  \\n            Every reply must:\\n            - confirm the last thing the caller said\\n            - take one small step forward (ask ONE question)\\n            - be under **8 words**\\n                Always respond in under 8 words. Prioritize immediate tool calls. Do not speak long sentences.\\n\\n            3. **Never expose internal logic.**  \\n            Never say:\\n            - \u201ccalling a tool\u2026\u201d\\n            - \u201csaving memory\u2026\u201d\\n            - \u201cI detected your name\u2026\u201d\\n            - \u201cupdating the appointment\u2026\u201d\\n\\n            4. **Always stay polite, warm, and concise.**\\n            Examples:\\n            - \u201cSure, one moment.\u201d\\n            - \u201cGot it.\u201d\\n            - \u201cLet me check that.\u201d\\n\\n            5. **If caller seems confused, repeat slowly and simply.**\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### TOOL CALLING RULES\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            Use tools to perform actions.  \\n            After calling a tool, speak a short natural confirmation.\\n\\n            **Tools you may call:**\\n            - `save_name(name)`\\n            - `save_phone(phone)`\\n            - `available_slot()`\\n            - `booking_appointment()`\\n            - `get_date()`\\n            - `update_caller_profile(name?, phone?)`\\n            - `start_reschedule()`\\n            - `confirm_reschedule()`\\n            - `end_call()`\\n\\n            Tool usage guidelines:\\n            - Call **save_name** immediately when you hear a name.\\n            - Call **save_phone** when digits are spoken.  \\n            If partial, ask: \u201cCan you repeat that number slowly?\u201d\\n            - Call **available_slot** when caller expresses a time preference (morning, evening, 3pm, etc.)\\n            - Call **get_date** when caller gives a vague date (\u201cnext Monday\u201d).\\n            - Call **booking_appointment** only when BOTH date and time are known.\\n            - Call **update_caller_profile** if caller corrects name or phone.\\n            - After a booking or reschedule completes, ask:  \\n            \u201cAnything else I can help with?\u201d  \\n            If caller says \u201cno\u201d, use `end_call()`.\\n            If the phone number is unclear or has extra/missing digits, ask the caller to repeat it digit by digit.\\n                Do not guess phone numbers.\\n                Always confirm the final number by repeating it back.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESCHEDULE FLOW\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            When the caller says anything like \u201cchange\u201d, \u201cmove\u201d, \u201creschedule\u201d, \u201cshift\u201d:\\n            1. Call **start_reschedule**.\\n            2. Ask for the new date.\\n            3. Once date \u2192 ask for time.\\n            4. When BOTH are known \u2192 call **confirm_reschedule**.\\n            5. After confirmation \u2192 ask:  \\n            \u201cAnything else I can help with?\u201d\\n\\n            Never call `confirm_reschedule` early.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CONVERSATION STYLE\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Speak like a calm clinic receptionist.\\n            - Use short sentences.  \\n            - One question per turn.  \\n            - No filler like \u201cas an AI\u201d.  \\n            - No medical advice.  \\n            - Don't ask for information you already have.\\n\\n            **Good examples:**\\n            - \u201cSure. What day works for you?\u201d\\n            - \u201cGot it. And what time?\u201d\\n            - \u201cPerfect. One moment while I check.\u201d\\n\\n            **Bad examples:**\\n            - \u201cLet me call a tool.\u201d\\n            - \u201cProcessing your request.\u201d\\n            - \u201cI am updating your appointment in the database.\u201d\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESPONSE CONTROL\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Never output long paragraphs.  \\n            - Never output lists or explanations.  \\n            - Keep responses conversational and human.  \\n            - If caller pauses 5 seconds, use `end_call()`.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### ROLE REMINDER\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            You are the first point of contact for Shifa Clinic.  \\n            Be warm. Be efficient. Be human.\\n\\n            Now handle the caller.\\n\\n\"}, {'role': 'assistant', 'content': 'Good evening! How can I assist you today?'}, {'role': 'user', 'content': 'Okay. How is my name?'}, {'role': 'assistant', 'content': 'I don\u2019t have your name yet. What is it?'}, {'role': 'user', 'content': 'My name is Abdul Basat.'}, {'role': 'assistant', 'tool_calls': [{'id': 'call_s1uZE488F0xtDyDcRRuQLkKl', 'type': 'function', 'function': {'name': 'save_name', 'arguments': '{\"name\":\"Abdul Basat\"}'}}]}, {'role': 'tool', 'tool_call_id': 'call_s1uZE488F0xtDyDcRRuQLkKl', 'content': 'Thanks, Abdul Basat.'}, {'role': 'assistant', 'content': 'How can I help you today, Abdul Basat?'}, {'role': 'user', 'content': 'Hello?'}, {'role': 'assistant', 'content': \"I'm here! How can I assist you?\"}, {'role': 'user', 'content': 'Hello?'}], 'model': 'gpt-4o-mini', 'stream': True, 'stream_options': {'include_usage': True}, 'temperature': 0.7, 'tools': [{'type': 'function', 'function': {'name': 'save_name', 'strict': True, 'description': '', 'parameters': {'properties': {'name': {'type': 'string'}}, 'required': ['name'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'save_phone', 'strict': True, 'description': 'Store validated patient phone in Redis using existing BookingBase validator.', 'parameters': {'properties': {'phone': {'type': 'string'}}, 'required': ['phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'available_slot', 'strict': True, 'description': 'Suggest available appointment slots for a given day.\\n- Understands natural language (\"tomorrow\", \"morning\", \"after 2pm\")\\n- Always fetches fresh availability from DB.\\n- Returns top 3 free slots.\\n- Stores them in ctx.suggested_slots for booking_appointment.', 'parameters': {'properties': {'day': {'type': 'string'}, 'date': {'type': 'string'}, 'time': {'type': 'string'}}, 'required': ['day', 'date', 'time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'booking_appointment', 'strict': True, 'description': 'Create or reschedule an appointment.\\nClean, predictable, AI-friendly logic.\\nUses helper functions for DB safety.', 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'get_date', 'strict': True, 'description': 'Return system date and time.', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'end_call', 'strict': True, 'description': \"Gracefully end the call after confirming there's nothing else needed.\\nDoes not clear Redis; short-term memory expires via TTL.\", 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'update_caller_profile', 'strict': True, 'description': 'Persist caller profile (name/phone) for future calls without disrupting session.\\nIf phone not provided, uses current session phone if available.', 'parameters': {'properties': {'name': {'type': ['string', 'null']}, 'phone': {'type': ['string', 'null']}}, 'required': ['name', 'phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'start_reschedule', 'strict': True, 'description': '', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'confirm_reschedule', 'strict': True, 'description': \"Confirm and perform rescheduling to the selected date/time.\\nUse after start_reschedule + available_slot when the caller says 'yes'.\", 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}]}}"}
{"timestamp": "2025-11-18T16:13:10.921937", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions"}
{"timestamp": "2025-11-18T16:13:10.922577", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=10.0 socket_options=None"}
{"timestamp": "2025-11-18T16:13:10.946023", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482390.945868, 'idle_time': 0.19883783400291577, 'inference_duration_total': 0.01942420197883621, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:10.946470", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482390.945868, 'idle_time': 0.19883783400291577, 'inference_duration_total': 0.01942420197883621, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:10.947854", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x124543ed0>"}
{"timestamp": "2025-11-18T16:13:10.947955", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x117d24050> server_hostname='api.openai.com' timeout=10.0"}
{"timestamp": "2025-11-18T16:13:10.958417", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x124565550>"}
{"timestamp": "2025-11-18T16:13:10.958751", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:13:10.959057", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-18T16:13:10.959148", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:13:10.959365", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-18T16:13:10.959436", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:13:11.945417", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482391.9452548, 'idle_time': 1.198217458993895, 'inference_duration_total': 0.023216831061290577, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:11.945695", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482391.9452548, 'idle_time': 1.198217458993895, 'inference_duration_total': 0.023216831061290577, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:12.656435", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 18 Nov 2025 16:13:13 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'574'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'941'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'198583'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'425ms'), (b'x-request-id', b'req_af5d09c5855d4a49adb75a1cac252c09'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a08c0f1de4a4b55-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:13:12.657321", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/chat/completions \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-18T16:13:12.657571", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Tue, 18 Nov 2025 16:13:13 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '574', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '941', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '198583', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '425ms', 'x-request-id': 'req_af5d09c5855d4a49adb75a1cac252c09', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a08c0f1de4a4b55-KHI', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-18T16:13:12.657977", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_af5d09c5855d4a49adb75a1cac252c09"}
{"timestamp": "2025-11-18T16:13:12.658449", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:13:12.796664", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482392.7962081, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:13:12.797385", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482392.7962081, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:13:12.845824", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-18T16:13:12.846467", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-18T16:13:12.849432", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIcKnVDEdk2TWzbmFXGT0x1V2Uzi', 'timestamp': 1763482392.849053, 'duration': 1.9392687920189928, 'ttft': 1.793001792015275, 'cancelled': False, 'completion_tokens': 11, 'prompt_tokens': 1436, 'prompt_cached_tokens': 1408, 'total_tokens': 1447, 'tokens_per_second': 5.672241024694563, 'speech_id': 'speech_17adc02047a2', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:13:12.849948", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIcKnVDEdk2TWzbmFXGT0x1V2Uzi', 'timestamp': 1763482392.849053, 'duration': 1.9392687920189928, 'ttft': 1.793001792015275, 'cancelled': False, 'completion_tokens': 11, 'prompt_tokens': 1436, 'prompt_cached_tokens': 1408, 'total_tokens': 1447, 'tokens_per_second': 5.672241024694563, 'speech_id': 'speech_17adc02047a2', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:13:12.851359", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream', 'X-Stainless-Raw-Response': 'stream'}, 'timeout': Timeout(connect=10.0, read=30, write=30, pool=30), 'files': None, 'idempotency_key': 'stainless-python-retry-f2e6c782-2275-494d-aae3-492903971fc2', 'json_data': {'input': \"I'm here to help! What do you need?\", 'model': 'gpt-4o-mini-tts', 'voice': 'alloy', 'response_format': 'mp3', 'speed': 1.0}}"}
{"timestamp": "2025-11-18T16:13:12.852063", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/audio/speech"}
{"timestamp": "2025-11-18T16:13:12.852787", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:13:12.853144", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-18T16:13:12.853231", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:13:12.853460", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-18T16:13:12.853532", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:13:12.853781", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.failed exception=GeneratorExit()"}
{"timestamp": "2025-11-18T16:13:12.998291", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482392.997634, 'idle_time': 2.2505884589918423, 'inference_duration_total': 0.02841116493800655, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:12.999020", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482392.997634, 'idle_time': 2.2505884589918423, 'inference_duration_total': 0.02841116493800655, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:13.996348", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482393.996192, 'idle_time': 3.249139708990697, 'inference_duration_total': 0.023974126059329137, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:13.996589", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482393.996192, 'idle_time': 3.249139708990697, 'inference_duration_total': 0.023974126059329137, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:14.378387", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 18 Nov 2025 16:13:14 GMT'), (b'Content-Type', b'audio/mpeg'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'576'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'601'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9998'), (b'x-ratelimit-remaining-tokens', b'199992'), (b'x-ratelimit-reset-requests', b'16.125s'), (b'x-ratelimit-reset-tokens', b'2ms'), (b'x-request-id', b'req_0121b54fcef246e79c89311a1cbb5eb8'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a08c0fdafc82704-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:13:14.379050", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/audio/speech \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-18T16:13:14.379278", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/audio/speech \"200 OK\" Headers({'date': 'Tue, 18 Nov 2025 16:13:14 GMT', 'content-type': 'audio/mpeg', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '576', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '601', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9998', 'x-ratelimit-remaining-tokens': '199992', 'x-ratelimit-reset-requests': '16.125s', 'x-ratelimit-reset-tokens': '2ms', 'x-request-id': 'req_0121b54fcef246e79c89311a1cbb5eb8', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a08c0fdafc82704-KHI', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-18T16:13:14.379591", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_0121b54fcef246e79c89311a1cbb5eb8"}
{"timestamp": "2025-11-18T16:13:14.379826", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:13:14.565936", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:13:14.747352", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:13:15.046151", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482395.045971, 'idle_time': 4.298910749988863, 'inference_duration_total': 0.020091167010832578, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:15.046414", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482395.045971, 'idle_time': 4.298910749988863, 'inference_duration_total': 0.020091167010832578, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:15.567163", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:13:15.765769", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:13:16.046742", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482396.046438, 'idle_time': 5.299370624998119, 'inference_duration_total': 0.02167954301694408, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:16.047017", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482396.046438, 'idle_time': 5.299370624998119, 'inference_duration_total': 0.02167954301694408, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:17.096825", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482397.096541, 'idle_time': 6.349466374987969, 'inference_duration_total': 0.025290001911344007, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:17.097238", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482397.096541, 'idle_time': 6.349466374987969, 'inference_duration_total': 0.025290001911344007, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:17.845640", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482397.845216, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:13:17.846884", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482397.845216, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:13:18.111544", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482398.111352, 'idle_time': 7.364269874989986, 'inference_duration_total': 0.0317769180983305, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:18.111879", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482398.111352, 'idle_time': 7.364269874989986, 'inference_duration_total': 0.0317769180983305, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:19.148552", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482399.147969, 'idle_time': 8.400879958993755, 'inference_duration_total': 0.0316826649941504, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:19.149524", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482399.147969, 'idle_time': 8.400879958993755, 'inference_duration_total': 0.0316826649941504, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:20.146640", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482400.146438, 'idle_time': 9.39934124998399, 'inference_duration_total': 0.030484124086797237, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:20.146995", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482400.146438, 'idle_time': 9.39934124998399, 'inference_duration_total': 0.030484124086797237, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:21.199220", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482401.198278, 'idle_time': 10.451174333982635, 'inference_duration_total': 0.02748799612163566, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:21.200475", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482401.198278, 'idle_time': 10.451174333982635, 'inference_duration_total': 0.02748799612163566, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:21.494777", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete"}
{"timestamp": "2025-11-18T16:13:21.495520", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-18T16:13:21.495937", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-18T16:13:21.504604", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_0121b54fcef246e79c89311a1cbb5eb8', 'timestamp': 1763482401.504255, 'ttfb': 1.5341126669954974, 'duration': 8.653413334017387, 'audio_duration': 2.3859999999999997, 'cancelled': False, 'characters_count': 35, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_17adc02047a2', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:13:21.504883", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_0121b54fcef246e79c89311a1cbb5eb8', 'timestamp': 1763482401.504255, 'ttfb': 1.5341126669954974, 'duration': 8.653413334017387, 'audio_duration': 2.3859999999999997, 'cancelled': False, 'characters_count': 35, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_17adc02047a2', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:13:22.199861", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482402.199309, 'idle_time': 11.452198208979098, 'inference_duration_total': 0.03212854790035635, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:22.201052", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482402.199309, 'idle_time': 11.452198208979098, 'inference_duration_total': 0.03212854790035635, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:22.846914", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482402.846375, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:13:22.847742", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482402.846375, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:13:23.249467", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482403.248907, 'idle_time': 12.501789208996342, 'inference_duration_total': 0.026137376989936456, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:23.250857", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482403.248907, 'idle_time': 12.501789208996342, 'inference_duration_total': 0.026137376989936456, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:24.249519", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482404.248982, 'idle_time': 13.501856249989942, 'inference_duration_total': 0.03814128995873034, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:24.250307", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482404.248982, 'idle_time': 13.501856249989942, 'inference_duration_total': 0.03814128995873034, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:24.476699", "level": "DEBUG", "logger": "livekit.agents", "message": "resumed false interrupted speech"}
{"timestamp": "2025-11-18T16:13:25.298994", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482405.29843, 'idle_time': 14.55129695899086, 'inference_duration_total': 0.018039753020275384, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:25.299934", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482405.29843, 'idle_time': 14.55129695899086, 'inference_duration_total': 0.018039753020275384, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:26.297254", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482406.2969751, 'idle_time': 15.54983487498248, 'inference_duration_total': 0.017062666971469298, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:26.298219", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482406.2969751, 'idle_time': 15.54983487498248, 'inference_duration_total': 0.017062666971469298, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:27.348795", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482407.347827, 'idle_time': 16.600680333998753, 'inference_duration_total': 0.02093625083216466, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:27.349857", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482407.347827, 'idle_time': 16.600680333998753, 'inference_duration_total': 0.02093625083216466, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:27.847705", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482407.8469892, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:13:27.848693", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482407.8469892, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:13:28.350155", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482408.349469, 'idle_time': 17.602315541997086, 'inference_duration_total': 0.033545165992109105, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:28.351028", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482408.349469, 'idle_time': 17.602315541997086, 'inference_duration_total': 0.033545165992109105, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:29.396192", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482409.3960168, 'idle_time': 18.648855709005147, 'inference_duration_total': 0.016144001972861588, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:29.396935", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482409.3960168, 'idle_time': 18.648855709005147, 'inference_duration_total': 0.016144001972861588, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:30.396065", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482410.395854, 'idle_time': 19.648686250002356, 'inference_duration_total': 0.01565879100235179, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:30.396369", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482410.395854, 'idle_time': 19.648686250002356, 'inference_duration_total': 0.01565879100235179, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:31.448154", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482411.447805, 'idle_time': 20.700629958999343, 'inference_duration_total': 0.02495208493201062, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:31.448719", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482411.447805, 'idle_time': 20.700629958999343, 'inference_duration_total': 0.02495208493201062, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:32.446776", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482412.44644, 'idle_time': 21.69925833400339, 'inference_duration_total': 0.021574921993305907, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:32.447360", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482412.44644, 'idle_time': 21.69925833400339, 'inference_duration_total': 0.021574921993305907, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:32.895945", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482412.895742, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:13:32.896321", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482412.895742, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:13:33.498524", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482413.497779, 'idle_time': 22.750589874980506, 'inference_duration_total': 0.02506495505804196, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:33.499362", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482413.497779, 'idle_time': 22.750589874980506, 'inference_duration_total': 0.02506495505804196, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:34.499691", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482414.4990249, 'idle_time': 23.751828666980145, 'inference_duration_total': 0.0376490390044637, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:34.501315", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482414.4990249, 'idle_time': 23.751828666980145, 'inference_duration_total': 0.0376490390044637, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:35.468966", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-18T16:13:35.473535", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763482415.4732108, 'end_of_utterance_delay': 0.853381872177124, 'transcription_delay': 0.8519458770751953, 'on_user_turn_completed_delay': 4.0531158447265625e-06, 'last_speaking_time': 1763482414.6178281, 'speech_id': 'speech_835c6aa09621', 'metadata': None}}"}
{"timestamp": "2025-11-18T16:13:35.475064", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763482415.4732108, 'end_of_utterance_delay': 0.853381872177124, 'transcription_delay': 0.8519458770751953, 'on_user_turn_completed_delay': 4.0531158447265625e-06, 'last_speaking_time': 1763482414.6178281, 'speech_id': 'speech_835c6aa09621', 'metadata': None}}"}
{"timestamp": "2025-11-18T16:13:35.493544", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'timeout': Timeout(timeout=10.0), 'files': None, 'idempotency_key': 'stainless-python-retry-37a9b39d-b59c-4f4a-bc85-3dfeb3ac4b90', 'json_data': {'messages': [{'role': 'system', 'content': \"\\n        You are **Shifa Clinic\u2019s AI Receptionist**, answering calls in real time.\\n            Your role is to help callers with booking, confirming, or rescheduling appointments.\\n            Speak naturally, briefly, and professionally\u2014like an experienced clinic receptionist.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CORE BEHAVIOR\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            1. **Every call is fresh.**  \\n            Do not rely on previous session context. Use only:\\n            - caller name (if known)\\n            - caller phone (if known)\\n            - information spoken in THIS call\\n            \\n\\n            2. **One task at a time.**  \\n            Every reply must:\\n            - confirm the last thing the caller said\\n            - take one small step forward (ask ONE question)\\n            - be under **8 words**\\n                Always respond in under 8 words. Prioritize immediate tool calls. Do not speak long sentences.\\n\\n            3. **Never expose internal logic.**  \\n            Never say:\\n            - \u201ccalling a tool\u2026\u201d\\n            - \u201csaving memory\u2026\u201d\\n            - \u201cI detected your name\u2026\u201d\\n            - \u201cupdating the appointment\u2026\u201d\\n\\n            4. **Always stay polite, warm, and concise.**\\n            Examples:\\n            - \u201cSure, one moment.\u201d\\n            - \u201cGot it.\u201d\\n            - \u201cLet me check that.\u201d\\n\\n            5. **If caller seems confused, repeat slowly and simply.**\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### TOOL CALLING RULES\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            Use tools to perform actions.  \\n            After calling a tool, speak a short natural confirmation.\\n\\n            **Tools you may call:**\\n            - `save_name(name)`\\n            - `save_phone(phone)`\\n            - `available_slot()`\\n            - `booking_appointment()`\\n            - `get_date()`\\n            - `update_caller_profile(name?, phone?)`\\n            - `start_reschedule()`\\n            - `confirm_reschedule()`\\n            - `end_call()`\\n\\n            Tool usage guidelines:\\n            - Call **save_name** immediately when you hear a name.\\n            - Call **save_phone** when digits are spoken.  \\n            If partial, ask: \u201cCan you repeat that number slowly?\u201d\\n            - Call **available_slot** when caller expresses a time preference (morning, evening, 3pm, etc.)\\n            - Call **get_date** when caller gives a vague date (\u201cnext Monday\u201d).\\n            - Call **booking_appointment** only when BOTH date and time are known.\\n            - Call **update_caller_profile** if caller corrects name or phone.\\n            - After a booking or reschedule completes, ask:  \\n            \u201cAnything else I can help with?\u201d  \\n            If caller says \u201cno\u201d, use `end_call()`.\\n            If the phone number is unclear or has extra/missing digits, ask the caller to repeat it digit by digit.\\n                Do not guess phone numbers.\\n                Always confirm the final number by repeating it back.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESCHEDULE FLOW\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            When the caller says anything like \u201cchange\u201d, \u201cmove\u201d, \u201creschedule\u201d, \u201cshift\u201d:\\n            1. Call **start_reschedule**.\\n            2. Ask for the new date.\\n            3. Once date \u2192 ask for time.\\n            4. When BOTH are known \u2192 call **confirm_reschedule**.\\n            5. After confirmation \u2192 ask:  \\n            \u201cAnything else I can help with?\u201d\\n\\n            Never call `confirm_reschedule` early.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CONVERSATION STYLE\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Speak like a calm clinic receptionist.\\n            - Use short sentences.  \\n            - One question per turn.  \\n            - No filler like \u201cas an AI\u201d.  \\n            - No medical advice.  \\n            - Don't ask for information you already have.\\n\\n            **Good examples:**\\n            - \u201cSure. What day works for you?\u201d\\n            - \u201cGot it. And what time?\u201d\\n            - \u201cPerfect. One moment while I check.\u201d\\n\\n            **Bad examples:**\\n            - \u201cLet me call a tool.\u201d\\n            - \u201cProcessing your request.\u201d\\n            - \u201cI am updating your appointment in the database.\u201d\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESPONSE CONTROL\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Never output long paragraphs.  \\n            - Never output lists or explanations.  \\n            - Keep responses conversational and human.  \\n            - If caller pauses 5 seconds, use `end_call()`.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### ROLE REMINDER\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            You are the first point of contact for Shifa Clinic.  \\n            Be warm. Be efficient. Be human.\\n\\n            Now handle the caller.\\n\\n\"}, {'role': 'assistant', 'content': 'Good evening! How can I assist you today?'}, {'role': 'user', 'content': 'Okay. How is my name?'}, {'role': 'assistant', 'content': 'I don\u2019t have your name yet. What is it?'}, {'role': 'user', 'content': 'My name is Abdul Basat.'}, {'role': 'assistant', 'tool_calls': [{'id': 'call_s1uZE488F0xtDyDcRRuQLkKl', 'type': 'function', 'function': {'name': 'save_name', 'arguments': '{\"name\":\"Abdul Basat\"}'}}]}, {'role': 'tool', 'tool_call_id': 'call_s1uZE488F0xtDyDcRRuQLkKl', 'content': 'Thanks, Abdul Basat.'}, {'role': 'assistant', 'content': 'How can I help you today, Abdul Basat?'}, {'role': 'user', 'content': 'Hello?'}, {'role': 'assistant', 'content': \"I'm here! How can I assist you?\"}, {'role': 'user', 'content': 'Hello?'}, {'role': 'assistant', 'content': \"I'm here to help! What do you need?\"}, {'role': 'user', 'content': 'Hello?'}], 'model': 'gpt-4o-mini', 'stream': True, 'stream_options': {'include_usage': True}, 'temperature': 0.7, 'tools': [{'type': 'function', 'function': {'name': 'save_name', 'strict': True, 'description': '', 'parameters': {'properties': {'name': {'type': 'string'}}, 'required': ['name'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'save_phone', 'strict': True, 'description': 'Store validated patient phone in Redis using existing BookingBase validator.', 'parameters': {'properties': {'phone': {'type': 'string'}}, 'required': ['phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'available_slot', 'strict': True, 'description': 'Suggest available appointment slots for a given day.\\n- Understands natural language (\"tomorrow\", \"morning\", \"after 2pm\")\\n- Always fetches fresh availability from DB.\\n- Returns top 3 free slots.\\n- Stores them in ctx.suggested_slots for booking_appointment.', 'parameters': {'properties': {'day': {'type': 'string'}, 'date': {'type': 'string'}, 'time': {'type': 'string'}}, 'required': ['day', 'date', 'time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'booking_appointment', 'strict': True, 'description': 'Create or reschedule an appointment.\\nClean, predictable, AI-friendly logic.\\nUses helper functions for DB safety.', 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'get_date', 'strict': True, 'description': 'Return system date and time.', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'end_call', 'strict': True, 'description': \"Gracefully end the call after confirming there's nothing else needed.\\nDoes not clear Redis; short-term memory expires via TTL.\", 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'update_caller_profile', 'strict': True, 'description': 'Persist caller profile (name/phone) for future calls without disrupting session.\\nIf phone not provided, uses current session phone if available.', 'parameters': {'properties': {'name': {'type': ['string', 'null']}, 'phone': {'type': ['string', 'null']}}, 'required': ['name', 'phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'start_reschedule', 'strict': True, 'description': '', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'confirm_reschedule', 'strict': True, 'description': \"Confirm and perform rescheduling to the selected date/time.\\nUse after start_reschedule + available_slot when the caller says 'yes'.\", 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}]}}"}
{"timestamp": "2025-11-18T16:13:35.495666", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions"}
{"timestamp": "2025-11-18T16:13:35.496559", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=10.0 socket_options=None"}
{"timestamp": "2025-11-18T16:13:35.516138", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x117850450>"}
{"timestamp": "2025-11-18T16:13:35.516340", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x117d24050> server_hostname='api.openai.com' timeout=10.0"}
{"timestamp": "2025-11-18T16:13:35.528642", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1178512d0>"}
{"timestamp": "2025-11-18T16:13:35.528971", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:13:35.529287", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-18T16:13:35.529392", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:13:35.529648", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-18T16:13:35.529711", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:13:35.546259", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482415.546106, 'idle_time': 0.3491842910007108, 'inference_duration_total': 0.027782170072896406, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:35.546523", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482415.546106, 'idle_time': 0.3491842910007108, 'inference_duration_total': 0.027782170072896406, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:36.546799", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482416.546325, 'idle_time': 1.3493968750117347, 'inference_duration_total': 0.02307862599263899, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:36.548702", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482416.546325, 'idle_time': 1.3493968750117347, 'inference_duration_total': 0.02307862599263899, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:37.547026", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482417.546765, 'idle_time': 2.3498303329979535, 'inference_duration_total': 0.018770915950881317, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:37.547513", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482417.546765, 'idle_time': 2.3498303329979535, 'inference_duration_total': 0.018770915950881317, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:37.830022", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 18 Nov 2025 16:13:38 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'1451'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'1590'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'198571'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'428ms'), (b'x-request-id', b'req_978d1955200443dfabc4920cb50396b2'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a08c18b6b16d8c3-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:13:37.830636", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/chat/completions \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-18T16:13:37.830791", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Tue, 18 Nov 2025 16:13:38 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '1451', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '1590', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '198571', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '428ms', 'x-request-id': 'req_978d1955200443dfabc4920cb50396b2', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a08c18b6b16d8c3-KHI', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-18T16:13:37.831047", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_978d1955200443dfabc4920cb50396b2"}
{"timestamp": "2025-11-18T16:13:37.831401", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:13:37.947117", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482417.946614, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:13:37.947858", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482417.946614, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:13:37.999268", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-18T16:13:37.999976", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-18T16:13:38.001167", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIciIKqxo5QlwAhIY7Q0rBgYY3YL', 'timestamp': 1763482418.000772, 'duration': 2.523938750004163, 'ttft': 2.37906637499691, 'cancelled': False, 'completion_tokens': 9, 'prompt_tokens': 1456, 'prompt_cached_tokens': 1408, 'total_tokens': 1465, 'tokens_per_second': 3.5658551539672487, 'speech_id': 'speech_835c6aa09621', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:13:38.001457", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIciIKqxo5QlwAhIY7Q0rBgYY3YL', 'timestamp': 1763482418.000772, 'duration': 2.523938750004163, 'ttft': 2.37906637499691, 'cancelled': False, 'completion_tokens': 9, 'prompt_tokens': 1456, 'prompt_cached_tokens': 1408, 'total_tokens': 1465, 'tokens_per_second': 3.5658551539672487, 'speech_id': 'speech_835c6aa09621', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:13:38.003058", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream', 'X-Stainless-Raw-Response': 'stream'}, 'timeout': Timeout(connect=10.0, read=30, write=30, pool=30), 'files': None, 'idempotency_key': 'stainless-python-retry-c9a6d28d-e925-49a9-9c98-8aad045ab79c', 'json_data': {'input': 'Hello! How can I assist you?', 'model': 'gpt-4o-mini-tts', 'voice': 'alloy', 'response_format': 'mp3', 'speed': 1.0}}"}
{"timestamp": "2025-11-18T16:13:38.003805", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/audio/speech"}
{"timestamp": "2025-11-18T16:13:38.004351", "level": "DEBUG", "logger": "httpcore.connection", "message": "close.started"}
{"timestamp": "2025-11-18T16:13:38.004969", "level": "DEBUG", "logger": "httpcore.connection", "message": "close.complete"}
{"timestamp": "2025-11-18T16:13:38.005355", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:13:38.005755", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-18T16:13:38.005858", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:13:38.006163", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-18T16:13:38.006275", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:13:38.006543", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.failed exception=GeneratorExit()"}
{"timestamp": "2025-11-18T16:13:38.598148", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482418.597719, 'idle_time': 3.400776249996852, 'inference_duration_total': 0.028735040046740323, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:38.598886", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482418.597719, 'idle_time': 3.400776249996852, 'inference_duration_total': 0.028735040046740323, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:39.499116", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 18 Nov 2025 16:13:39 GMT'), (b'Content-Type', b'audio/mpeg'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'466'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'482'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9998'), (b'x-ratelimit-remaining-tokens', b'199993'), (b'x-ratelimit-reset-requests', b'15.372s'), (b'x-ratelimit-reset-tokens', b'2ms'), (b'x-request-id', b'req_87f1af18184341f4acda4abee3f0ec52'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a08c19adce22704-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:13:39.501046", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/audio/speech \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-18T16:13:39.501513", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/audio/speech \"200 OK\" Headers({'date': 'Tue, 18 Nov 2025 16:13:39 GMT', 'content-type': 'audio/mpeg', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '466', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '482', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9998', 'x-ratelimit-remaining-tokens': '199993', 'x-ratelimit-reset-requests': '15.372s', 'x-ratelimit-reset-tokens': '2ms', 'x-request-id': 'req_87f1af18184341f4acda4abee3f0ec52', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a08c19adce22704-KHI', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-18T16:13:39.501925", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_87f1af18184341f4acda4abee3f0ec52"}
{"timestamp": "2025-11-18T16:13:39.502750", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:13:39.597273", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482419.596946, 'idle_time': 4.399997333006468, 'inference_duration_total': 0.0344514139869716, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:39.597731", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482419.596946, 'idle_time': 4.399997333006468, 'inference_duration_total': 0.0344514139869716, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:40.206034", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:13:40.525041", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete"}
{"timestamp": "2025-11-18T16:13:40.525529", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-18T16:13:40.526068", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-18T16:13:40.533774", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_87f1af18184341f4acda4abee3f0ec52', 'timestamp': 1763482420.5333781, 'ttfb': 2.0211182920029387, 'duration': 2.5311656670237426, 'audio_duration': 1.5939999999999999, 'cancelled': False, 'characters_count': 28, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_835c6aa09621', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:13:40.534122", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_87f1af18184341f4acda4abee3f0ec52', 'timestamp': 1763482420.5333781, 'ttfb': 2.0211182920029387, 'duration': 2.5311656670237426, 'audio_duration': 1.5939999999999999, 'cancelled': False, 'characters_count': 28, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_835c6aa09621', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:13:40.647230", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482420.646773, 'idle_time': 5.449816541018663, 'inference_duration_total': 0.023272333171917126, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:40.647791", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482420.646773, 'idle_time': 5.449816541018663, 'inference_duration_total': 0.023272333171917126, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:41.646675", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482421.646414, 'idle_time': 6.449451207998209, 'inference_duration_total': 0.022928750957362354, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:41.647352", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482421.646414, 'idle_time': 6.449451207998209, 'inference_duration_total': 0.022928750957362354, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:42.696478", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482422.696258, 'idle_time': 7.499287540995283, 'inference_duration_total': 0.035435080935712904, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:42.696806", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482422.696258, 'idle_time': 7.499287540995283, 'inference_duration_total': 0.035435080935712904, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:42.995677", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482422.99548, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:13:42.996048", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482422.99548, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:13:43.696472", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482423.696238, 'idle_time': 8.49926087501808, 'inference_duration_total': 0.019783875031862408, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:43.696836", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482423.696238, 'idle_time': 8.49926087501808, 'inference_duration_total': 0.019783875031862408, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:44.747265", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482424.7470322, 'idle_time': 9.550047541008098, 'inference_duration_total': 0.020801327977096662, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:44.747694", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482424.7470322, 'idle_time': 9.550047541008098, 'inference_duration_total': 0.020801327977096662, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:45.747558", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482425.747264, 'idle_time': 10.550273291009944, 'inference_duration_total': 0.01897658105008304, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:45.748015", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482425.747264, 'idle_time': 10.550273291009944, 'inference_duration_total': 0.01897658105008304, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:46.797062", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482426.796766, 'idle_time': 11.599768041021889, 'inference_duration_total': 0.023797623929567635, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:46.797610", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482426.796766, 'idle_time': 11.599768041021889, 'inference_duration_total': 0.023797623929567635, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:47.797691", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482427.797385, 'idle_time': 12.600380375020904, 'inference_duration_total': 0.021671126916771755, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:47.798208", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482427.797385, 'idle_time': 12.600380375020904, 'inference_duration_total': 0.021671126916771755, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:47.996516", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482427.99618, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:13:47.997086", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482427.99618, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:13:48.848180", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482428.847789, 'idle_time': 13.650777333008591, 'inference_duration_total': 0.020125163020566106, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:48.849356", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482428.847789, 'idle_time': 13.650777333008591, 'inference_duration_total': 0.020125163020566106, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:49.847187", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482429.8469498, 'idle_time': 14.649931666004704, 'inference_duration_total': 0.02250483093666844, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:49.847563", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482429.8469498, 'idle_time': 14.649931666004704, 'inference_duration_total': 0.02250483093666844, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:50.897583", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482430.896221, 'idle_time': 15.699194916000124, 'inference_duration_total': 0.025856623135041445, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:50.898648", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482430.896221, 'idle_time': 15.699194916000124, 'inference_duration_total': 0.025856623135041445, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:51.897308", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482431.897037, 'idle_time': 16.70000491599785, 'inference_duration_total': 0.023528169025667012, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:51.897800", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482431.897037, 'idle_time': 16.70000491599785, 'inference_duration_total': 0.023528169025667012, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:52.948933", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482432.948361, 'idle_time': 17.751321415998973, 'inference_duration_total': 0.02868662602850236, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:52.949769", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482432.948361, 'idle_time': 17.751321415998973, 'inference_duration_total': 0.02868662602850236, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:52.997124", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482432.9967182, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:13:52.997805", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482432.9967182, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:13:53.947510", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482433.9473002, 'idle_time': 18.750254041020526, 'inference_duration_total': 0.021744331083027646, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:53.947863", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482433.9473002, 'idle_time': 18.750254041020526, 'inference_duration_total': 0.021744331083027646, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:54.997288", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482434.9970071, 'idle_time': 19.79995387501549, 'inference_duration_total': 0.033133921038825065, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:54.998191", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482434.9970071, 'idle_time': 19.79995387501549, 'inference_duration_total': 0.033133921038825065, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:55.997041", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482435.996703, 'idle_time': 20.79964275000384, 'inference_duration_total': 0.020236498035956174, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:55.997566", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482435.996703, 'idle_time': 20.79964275000384, 'inference_duration_total': 0.020236498035956174, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:57.048275", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482437.047702, 'idle_time': 21.85063450000598, 'inference_duration_total': 0.02502595607074909, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:57.049064", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482437.047702, 'idle_time': 21.85063450000598, 'inference_duration_total': 0.02502595607074909, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:58.046235", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482438.045995, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:13:58.046677", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482438.045995, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:13:58.046943", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482438.046704, 'idle_time': 22.849629791016923, 'inference_duration_total': 0.02083662900258787, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:58.047151", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482438.046704, 'idle_time': 22.849629791016923, 'inference_duration_total': 0.02083662900258787, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:59.096309", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482439.096152, 'idle_time': 23.89907091599889, 'inference_duration_total': 0.01836216714582406, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:13:59.096593", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482439.096152, 'idle_time': 23.89907091599889, 'inference_duration_total': 0.01836216714582406, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:00.096359", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482440.096163, 'idle_time': 24.899075875000563, 'inference_duration_total': 0.018795414041960612, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:00.096645", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482440.096163, 'idle_time': 24.899075875000563, 'inference_duration_total': 0.018795414041960612, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:01.406390", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482441.3824399, 'idle_time': 26.185344375000568, 'inference_duration_total': 0.06119608288281597, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:01.411123", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482441.3824399, 'idle_time': 26.185344375000568, 'inference_duration_total': 0.06119608288281597, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:02.149978", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482442.149528, 'idle_time': 26.952426708012354, 'inference_duration_total': 0.16280296104378067, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:02.150730", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482442.149528, 'idle_time': 26.952426708012354, 'inference_duration_total': 0.16280296104378067, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:03.049896", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482443.047698, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:14:03.052368", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'cfc3a96b-b5f8-43f6-8767-2c61342f194e', 'timestamp': 1763482443.047698, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:14:03.155351", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482443.155072, 'idle_time': 27.95796437500394, 'inference_duration_total': 0.03728291505831294, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:03.155703", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482443.155072, 'idle_time': 27.95796437500394, 'inference_duration_total': 0.03728291505831294, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:04.198214", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482444.197844, 'idle_time': 29.000728665996576, 'inference_duration_total': 0.03053771299892105, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:04.198797", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482444.197844, 'idle_time': 29.000728665996576, 'inference_duration_total': 0.03053771299892105, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:05.198625", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482445.197223, 'idle_time': 30.000101416022517, 'inference_duration_total': 0.032149877049960196, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:05.199686", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482445.197223, 'idle_time': 30.000101416022517, 'inference_duration_total': 0.032149877049960196, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:06.247652", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482446.246187, 'idle_time': 31.04905754100764, 'inference_duration_total': 0.04699354193871841, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:06.249083", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482446.246187, 'idle_time': 31.04905754100764, 'inference_duration_total': 0.04699354193871841, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:07.190170", "level": "INFO", "logger": "livekit.agents", "message": "draining worker"}
{"timestamp": "2025-11-18T16:14:07.247189", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482447.246947, 'idle_time': 32.04981129101361, 'inference_duration_total': 0.02009995697881095, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:07.247651", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482447.246947, 'idle_time': 32.04981129101361, 'inference_duration_total': 0.02009995697881095, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:07.398103", "level": "WARNING", "logger": "livekit.agents", "message": "exiting forcefully"}
{"timestamp": "2025-11-18T16:14:12.339633", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-18T16:14:12.341648", "level": "INFO", "logger": "livekit.agents", "message": "starting worker"}
{"timestamp": "2025-11-18T16:14:12.343720", "level": "INFO", "logger": "livekit.agents", "message": "initializing job runner"}
{"timestamp": "2025-11-18T16:14:12.343873", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-18T16:14:12.344283", "level": "INFO", "logger": "livekit.agents", "message": "job runner initialized"}
{"timestamp": "2025-11-18T16:14:12.374851", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udd0c Redis Connected: True"}
{"timestamp": "2025-11-18T16:14:12.375224", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Incoming call from: mock_user"}
{"timestamp": "2025-11-18T16:14:12.375887", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Caller Phone Detected (normalized): None"}
{"timestamp": "2025-11-18T16:14:14.488298", "level": "DEBUG", "logger": "livekit.agents", "message": "http_session(): creating a new httpclient ctx"}
{"timestamp": "2025-11-18T16:14:14.496946", "level": "DEBUG", "logger": "livekit.agents", "message": "using audio io: `ChatCLI` -> `AgentSession` -> `TranscriptSynchronizer` -> `ChatCLI`"}
{"timestamp": "2025-11-18T16:14:14.497279", "level": "DEBUG", "logger": "livekit.agents", "message": "using transcript io: `AgentSession` -> `TranscriptSynchronizer` -> `ChatCLI`"}
{"timestamp": "2025-11-18T16:14:15.605023", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482455.604394, 'idle_time': 1.1154597089916933, 'inference_duration_total': 0.024966832104837522, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:15.804065", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIdLdNcH0tZ8KKVwXAhjg74Ds2UX', 'timestamp': 1763482455.801942, 'duration': 1.2998475419881288, 'ttft': 0.9874824169964995, 'cancelled': False, 'completion_tokens': 11, 'prompt_tokens': 1331, 'prompt_cached_tokens': 0, 'total_tokens': 1342, 'tokens_per_second': 8.462530908182815, 'speech_id': 'speech_fd7200754d42', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:14:16.605347", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482456.604922, 'idle_time': 2.115980624977965, 'inference_duration_total': 0.030473788152448833, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:17.603288", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482457.603036, 'idle_time': 3.11408791699796, 'inference_duration_total': 0.10691324606887065, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:18.377091", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:14:18.602399", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482458.6022139, 'idle_time': 4.113259125006152, 'inference_duration_total': 0.024862210091669112, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:18.760167", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:14:18.988238", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:14:19.474872", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:14:19.502249", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '7ee7002e-e110-4081-b53b-0814e57909bf', 'timestamp': 1763482459.5018182, 'duration': 0.0, 'audio_duration': 4.899999999999991, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:14:19.691798", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_d666b460c86c4d259bbc74c520b19c8d', 'timestamp': 1763482459.6904519, 'ttfb': 2.389965124981245, 'duration': 3.8841777499765158, 'audio_duration': 2.1699999999999995, 'cancelled': False, 'characters_count': 41, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_fd7200754d42', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:14:19.708041", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482459.707777, 'idle_time': 5.218815083993832, 'inference_duration_total': 0.029069996991893277, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:20.701562", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482460.701377, 'idle_time': 6.212407708982937, 'inference_duration_total': 0.022859706077724695, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:21.705038", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482461.704742, 'idle_time': 7.2157664590049535, 'inference_duration_total': 0.029830457002390176, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:22.705706", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482462.705507, 'idle_time': 8.216524499992374, 'inference_duration_total': 0.028469413897255436, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:23.803735", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482463.8025632, 'idle_time': 1.0965284580015577, 'inference_duration_total': 0.04173758297110908, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:24.502834", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '7ee7002e-e110-4081-b53b-0814e57909bf', 'timestamp': 1763482464.502538, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:14:24.803267", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482464.803013, 'idle_time': 0.5888506250048522, 'inference_duration_total': 0.04392887302674353, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:25.528023", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-18T16:14:25.532251", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763482465.530139, 'end_of_utterance_delay': 1.9126548767089844, 'transcription_delay': 1.9118449687957764, 'on_user_turn_completed_delay': 2.86102294921875e-06, 'last_speaking_time': 1763482463.616676, 'speech_id': 'speech_68ed67c7901f', 'metadata': None}}"}
{"timestamp": "2025-11-18T16:14:25.805203", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482465.804862, 'idle_time': 1.59069266699953, 'inference_duration_total': 0.02581925192498602, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:26.550592", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIdW6mXMU9rstlmZfleD1xbbXkuZ', 'timestamp': 1763482466.5497, 'duration': 1.0150079589802772, 'ttft': 1.0080471670080442, 'cancelled': False, 'completion_tokens': 17, 'prompt_tokens': 1338, 'prompt_cached_tokens': 1152, 'total_tokens': 1355, 'tokens_per_second': 16.7486371408151, 'speech_id': 'speech_68ed67c7901f', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:14:26.555253", "level": "DEBUG", "logger": "livekit.agents", "message": "executing tool"}
{"timestamp": "2025-11-18T16:14:26.560607", "level": "INFO", "logger": "src.services.context_manager", "message": "[Redis] Saved MERGED context for mock_user: BookingContext(name='Abdul Basat', phone=None, date=None, time=None, suggested_slots=None, stage='start', status='Pending', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, created_at='2025-11-18T16:14:26.558153')"}
{"timestamp": "2025-11-18T16:14:26.561730", "level": "DEBUG", "logger": "livekit.agents", "message": "tools execution completed"}
{"timestamp": "2025-11-18T16:14:26.564543", "level": "ERROR", "logger": "livekit", "message": "failed to emit event function_tools_executed", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 282, in on_tools_executed\n    \"output\": output.result\n              ^^^^^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/pydantic/main.py\", line 1026, in __getattr__\n    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\nAttributeError: 'FunctionCallOutput' object has no attribute 'result'"}
{"timestamp": "2025-11-18T16:14:26.804828", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482466.804563, 'idle_time': 2.590387375006685, 'inference_duration_total': 0.03233687608735636, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:27.406316", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIdXQX67DJWkAIHKguw6NTZAF2rY', 'timestamp': 1763482467.4059038, 'duration': 0.8355291670013685, 'ttft': 0.7194029169913847, 'cancelled': False, 'completion_tokens': 9, 'prompt_tokens': 1369, 'prompt_cached_tokens': 1280, 'total_tokens': 1378, 'tokens_per_second': 10.771616785444019, 'speech_id': 'speech_68ed67c7901f', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:14:27.905292", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482467.90465, 'idle_time': 3.690467542008264, 'inference_duration_total': 0.03629004195681773, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:28.923636", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482468.92336, 'idle_time': 4.709170042013284, 'inference_duration_total': 0.04661711916560307, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:29.502938", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:14:29.507452", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '7ee7002e-e110-4081-b53b-0814e57909bf', 'timestamp': 1763482469.50716, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:14:29.685887", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:14:29.904958", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482469.904754, 'idle_time': 5.690556834015297, 'inference_duration_total': 0.04267945699393749, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:30.906189", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482470.905571, 'idle_time': 6.69136720901588, 'inference_duration_total': 0.025650831987150013, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:30.920548", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:14:31.318282", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:14:31.501423", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:14:32.006873", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482472.0062962, 'idle_time': 7.792085749999387, 'inference_duration_total': 0.03007146093295887, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:32.891966", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:14:33.005911", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482473.005644, 'idle_time': 8.791426084004343, 'inference_duration_total': 0.03769816699787043, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:33.074640", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:14:33.714109", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_39153c57df0344f8a394ca0be28377db', 'timestamp': 1763482473.713345, 'ttfb': 1.9135227499937173, 'duration': 6.304382875008741, 'audio_duration': 2.1699999999999995, 'cancelled': False, 'characters_count': 31, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_68ed67c7901f', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:14:34.003485", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482474.0032582, 'idle_time': 9.789033792010741, 'inference_duration_total': 0.038389373949030414, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:34.603821", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '7ee7002e-e110-4081-b53b-0814e57909bf', 'timestamp': 1763482474.603204, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:14:35.014814", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482475.0144708, 'idle_time': 0.20715170801850036, 'inference_duration_total': 0.03876624588156119, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:36.104684", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482476.104026, 'idle_time': 1.296699583006557, 'inference_duration_total': 0.03135720783029683, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:37.103796", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482477.103477, 'idle_time': 0.1994647090032231, 'inference_duration_total': 0.03717649992904626, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:38.104773", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482478.104587, 'idle_time': 1.2005677089910023, 'inference_duration_total': 0.021894540142966434, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:39.038200", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-18T16:14:39.040358", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763482479.040027, 'end_of_utterance_delay': 2.7845489978790283, 'transcription_delay': 2.783970832824707, 'on_user_turn_completed_delay': 4.0531158447265625e-06, 'last_speaking_time': 1763482476.254734, 'speech_id': 'speech_03fc8e9c4393', 'metadata': None}}"}
{"timestamp": "2025-11-18T16:14:39.105690", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482479.105474, 'idle_time': 2.201447458995972, 'inference_duration_total': 0.026512000942602754, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:39.603525", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '7ee7002e-e110-4081-b53b-0814e57909bf', 'timestamp': 1763482479.603231, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:14:40.202134", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482480.201782, 'idle_time': 3.2977484589791857, 'inference_duration_total': 0.026192540943156928, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:41.204561", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482481.203787, 'idle_time': 4.299747209006455, 'inference_duration_total': 0.0193468350043986, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:41.434761", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIdjF3y29ouOsy0FUEVwR2FuApM4', 'timestamp': 1763482481.434485, 'duration': 2.392008499999065, 'ttft': 2.3914323750068434, 'cancelled': False, 'completion_tokens': 29, 'prompt_tokens': 1394, 'prompt_cached_tokens': 1280, 'total_tokens': 1423, 'tokens_per_second': 12.123702737683137, 'speech_id': 'speech_03fc8e9c4393', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:14:41.436761", "level": "DEBUG", "logger": "livekit.agents", "message": "executing tool"}
{"timestamp": "2025-11-18T16:14:41.438334", "level": "INFO", "logger": "voice_agent.tools", "message": "[available_slot] \u25b6 Input: day='tomorrow', date='2023-11-30', time='morning'"}
{"timestamp": "2025-11-18T16:14:41.439185", "level": "INFO", "logger": "src.services.context_manager", "message": "[Redis] Saved MERGED context for mock_user: BookingContext(name='Abdul Basat', phone=None, date='2025-11-19', time=None, suggested_slots=None, stage='start', status='Pending', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, created_at='2025-11-18T16:14:26.558153')"}
{"timestamp": "2025-11-18T16:14:41.453596", "level": "INFO", "logger": "voice_agent.tools", "message": "[available_slot] Booked slots for 2025-11-19: []"}
{"timestamp": "2025-11-18T16:14:41.454616", "level": "INFO", "logger": "src.services.context_manager", "message": "[Redis] Saved MERGED context for mock_user: BookingContext(name='Abdul Basat', phone=None, date='2025-11-19', time=None, suggested_slots=['9:00 AM', '9:30 AM', '10:00 AM'], stage='start', status='Pending', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, created_at='2025-11-18T16:14:26.558153')"}
{"timestamp": "2025-11-18T16:14:41.454742", "level": "INFO", "logger": "voice_agent.tools", "message": "[available_slot] Final suggestions: ['9:00 AM', '9:30 AM', '10:00 AM']"}
{"timestamp": "2025-11-18T16:14:41.455051", "level": "DEBUG", "logger": "livekit.agents", "message": "tools execution completed"}
{"timestamp": "2025-11-18T16:14:41.455901", "level": "ERROR", "logger": "livekit", "message": "failed to emit event function_tools_executed", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 282, in on_tools_executed\n    \"output\": output.result\n              ^^^^^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/pydantic/main.py\", line 1026, in __getattr__\n    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\nAttributeError: 'FunctionCallOutput' object has no attribute 'result'"}
{"timestamp": "2025-11-18T16:14:42.203213", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482482.20303, 'idle_time': 5.298982749984134, 'inference_duration_total': 0.029756791045656428, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:43.072005", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIdmkf8sN86QqMqVwBiEqpUJ7uC3', 'timestamp': 1763482483.07147, 'duration': 1.6143426670168992, 'ttft': 1.0513587080058642, 'cancelled': False, 'completion_tokens': 28, 'prompt_tokens': 1467, 'prompt_cached_tokens': 1280, 'total_tokens': 1495, 'tokens_per_second': 17.344520820812136, 'speech_id': 'speech_03fc8e9c4393', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:14:43.204612", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482483.204331, 'idle_time': 6.300277749978704, 'inference_duration_total': 0.025191370979882777, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:44.205276", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482484.2050219, 'idle_time': 7.300961667002412, 'inference_duration_total': 0.024867165047908202, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:44.702263", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '7ee7002e-e110-4081-b53b-0814e57909bf', 'timestamp': 1763482484.701992, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:14:45.303357", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482485.303104, 'idle_time': 8.399036749993684, 'inference_duration_total': 0.02614633596385829, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:45.886521", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:14:46.069034", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:14:46.307305", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482486.306719, 'idle_time': 9.402644624991808, 'inference_duration_total': 0.027547208039322868, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:47.307574", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482487.307028, 'idle_time': 10.402947374997893, 'inference_duration_total': 0.035073291131993756, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:47.402046", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:14:47.587448", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:14:48.342750", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482488.338701, 'idle_time': 11.434612624987494, 'inference_duration_total': 0.05152125016320497, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:48.456084", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:14:48.653495", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:14:49.406232", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482489.405632, 'idle_time': 12.501537375006592, 'inference_duration_total': 0.057053953962167725, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:49.635933", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:14:49.636072", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:14:49.702294", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '7ee7002e-e110-4081-b53b-0814e57909bf', 'timestamp': 1763482489.702092, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:14:50.259312", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:14:50.259566", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:14:50.404682", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482490.404373, 'idle_time': 13.500271208991762, 'inference_duration_total': 0.021059042046545073, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:51.316711", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:14:51.317186", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:14:51.406503", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482491.40605, 'idle_time': 14.501941624999745, 'inference_duration_total': 0.03276736999396235, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:52.408175", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482492.407521, 'idle_time': 15.503405833995203, 'inference_duration_total': 0.02986499693361111, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:53.327193", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_281c84dec6ed4c27918c782322aaf7eb', 'timestamp': 1763482493.326719, 'ttfb': 2.69956270797411, 'duration': 10.319856124988291, 'audio_duration': 4.9060000000000015, 'cancelled': False, 'characters_count': 38, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_03fc8e9c4393', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:14:53.501857", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482493.501621, 'idle_time': 16.597498624993023, 'inference_duration_total': 0.04650404286803678, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:54.505283", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482494.5047371, 'idle_time': 17.60060799997882, 'inference_duration_total': 0.029626792122144252, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:54.704328", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '7ee7002e-e110-4081-b53b-0814e57909bf', 'timestamp': 1763482494.703703, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:14:54.787038", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:14:54.970309", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:14:55.291967", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:14:55.477240", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:14:55.505272", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482495.505041, 'idle_time': 18.60090470899013, 'inference_duration_total': 0.027422668121289462, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:56.164810", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_bf291597c3354423872a3b0707fa953e', 'timestamp': 1763482496.164138, 'ttfb': 1.2781625829811674, 'duration': 2.836182082974119, 'audio_duration': 1.498, 'cancelled': False, 'characters_count': 24, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_03fc8e9c4393', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:14:56.506938", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482496.5047948, 'idle_time': 19.600652208988322, 'inference_duration_total': 0.0294295409694314, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:57.606993", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482497.6057348, 'idle_time': 0.10325483299675398, 'inference_duration_total': 0.026679703878471628, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:58.603839", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482498.603541, 'idle_time': 0.09756212498177774, 'inference_duration_total': 0.031160588085185736, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:58.754779", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-18T16:14:58.757460", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763482498.757115, 'end_of_utterance_delay': 0.9144060611724854, 'transcription_delay': 0.9136199951171875, 'on_user_turn_completed_delay': 5.0067901611328125e-06, 'last_speaking_time': 1763482497.841615, 'speech_id': 'speech_5ea5130d2d5f', 'metadata': None}}"}
{"timestamp": "2025-11-18T16:14:59.605345", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482499.605054, 'idle_time': 1.099068041978171, 'inference_duration_total': 0.03188437601784244, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:14:59.803570", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '7ee7002e-e110-4081-b53b-0814e57909bf', 'timestamp': 1763482499.803015, 'duration': 0.0, 'audio_duration': 5.09999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:15:00.011375", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIe3kNJ2HQSH014fVgNcCzCS4srn', 'timestamp': 1763482500.011075, 'duration': 1.251522707985714, 'ttft': 1.2464526249968912, 'cancelled': False, 'completion_tokens': 18, 'prompt_tokens': 1508, 'prompt_cached_tokens': 1280, 'total_tokens': 1526, 'tokens_per_second': 14.382479746588398, 'speech_id': 'speech_5ea5130d2d5f', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:15:00.013123", "level": "DEBUG", "logger": "livekit.agents", "message": "executing tool"}
{"timestamp": "2025-11-18T16:15:00.017728", "level": "DEBUG", "logger": "livekit.agents", "message": "tools execution completed"}
{"timestamp": "2025-11-18T16:15:00.018978", "level": "ERROR", "logger": "livekit", "message": "failed to emit event function_tools_executed", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 282, in on_tools_executed\n    \"output\": output.result\n              ^^^^^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/pydantic/main.py\", line 1026, in __getattr__\n    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\nAttributeError: 'FunctionCallOutput' object has no attribute 'result'"}
{"timestamp": "2025-11-18T16:15:00.604172", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482500.603905, 'idle_time': 2.097911958990153, 'inference_duration_total': 0.028690540057141334, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:15:00.807890", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIe4phJEelUDyQkpX4lSNGP7tNjI', 'timestamp': 1763482500.807544, 'duration': 0.7861911249929108, 'ttft': 0.6486025830090512, 'cancelled': False, 'completion_tokens': 9, 'prompt_tokens': 1545, 'prompt_cached_tokens': 1280, 'total_tokens': 1554, 'tokens_per_second': 11.447598063487622, 'speech_id': 'speech_5ea5130d2d5f', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:15:01.705720", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482501.7052329, 'idle_time': 3.1992328339838423, 'inference_duration_total': 0.03801183306495659, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:15:02.591118", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:15:02.704795", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482502.7042859, 'idle_time': 4.198279167001601, 'inference_duration_total': 0.032205958967097104, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:15:02.775900", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:15:03.706864", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482503.7063098, 'idle_time': 5.20029695899575, 'inference_duration_total': 0.03610504203243181, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:15:03.709161", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:15:03.893964", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:15:04.708087", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482504.707499, 'idle_time': 6.201479458977701, 'inference_duration_total': 0.035447164002107456, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:15:04.805509", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '7ee7002e-e110-4081-b53b-0814e57909bf', 'timestamp': 1763482504.805093, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:15:05.694376", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_825256077ab34282be5735891ac795b0', 'timestamp': 1763482505.6940029, 'ttfb': 1.6009838329919148, 'duration': 4.885044665978057, 'audio_duration': 1.5939999999999999, 'cancelled': False, 'characters_count': 43, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_5ea5130d2d5f', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:15:05.804428", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482505.803912, 'idle_time': 7.297885084000882, 'inference_duration_total': 0.03542824898613617, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:15:06.804945", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482506.804401, 'idle_time': 8.298366999981226, 'inference_duration_total': 0.032527545001357794, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:15:07.806841", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482507.806323, 'idle_time': 9.300281999981962, 'inference_duration_total': 0.035654584906296805, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:15:08.807084", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482508.806433, 'idle_time': 10.300385666982038, 'inference_duration_total': 0.032771751983091235, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:15:09.807752", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482509.8071291, 'idle_time': 11.30107533399132, 'inference_duration_total': 0.03553854607162066, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:15:09.904670", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '7ee7002e-e110-4081-b53b-0814e57909bf', 'timestamp': 1763482509.904135, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:15:10.905423", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482510.905004, 'idle_time': 1.0965125419897959, 'inference_duration_total': 0.03072558101848699, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:15:11.905454", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482511.9049442, 'idle_time': 2.096446499985177, 'inference_duration_total': 0.0358862480497919, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:15:12.906434", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482512.905903, 'idle_time': 3.0973984579904936, 'inference_duration_total': 0.03467479412211105, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:15:13.906573", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482513.906014, 'idle_time': 0.898020374996122, 'inference_duration_total': 0.036305125104263425, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:15:14.905570", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '7ee7002e-e110-4081-b53b-0814e57909bf', 'timestamp': 1763482514.905092, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:15:15.004844", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482515.004294, 'idle_time': 1.9962935419753194, 'inference_duration_total': 0.03335241894819774, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:15:15.362963", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-18T16:15:15.364475", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763482515.364201, 'end_of_utterance_delay': 2.9057021141052246, 'transcription_delay': 2.9052951335906982, 'on_user_turn_completed_delay': 1.9073486328125e-06, 'last_speaking_time': 1763482512.458027, 'speech_id': 'speech_cb8bdb16c45b', 'metadata': None}}"}
{"timestamp": "2025-11-18T16:15:15.365252", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-18T16:15:15.383955", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763482515.3838038, 'end_of_utterance_delay': 2.908090353012085, 'transcription_delay': 2.907356023788452, 'on_user_turn_completed_delay': 1.9073486328125e-06, 'last_speaking_time': 1763482512.458027, 'speech_id': 'speech_2d79685e37f7', 'metadata': None}}"}
{"timestamp": "2025-11-18T16:15:16.005952", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482516.005297, 'idle_time': 2.997289583989186, 'inference_duration_total': 0.03152004492585547, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:15:16.765385", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIeK55TzXBbS8psONBjI6sRvCTfK', 'timestamp': 1763482516.764721, 'duration': 1.3799395829846617, 'ttft': 1.3793310830078553, 'cancelled': False, 'completion_tokens': 17, 'prompt_tokens': 1576, 'prompt_cached_tokens': 1536, 'total_tokens': 1593, 'tokens_per_second': 12.319379927656556, 'speech_id': 'speech_2d79685e37f7', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:15:16.768339", "level": "DEBUG", "logger": "livekit.agents", "message": "executing tool"}
{"timestamp": "2025-11-18T16:15:16.769357", "level": "INFO", "logger": "voice_agent.tools", "message": "[save_phone] \ud83d\udcde Called for participant:"}
{"timestamp": "2025-11-18T16:15:16.769559", "level": "INFO", "logger": "voice_agent.tools", "message": "[save_phone] Raw phone input: '0300926997'"}
{"timestamp": "2025-11-18T16:15:16.770895", "level": "INFO", "logger": "src.services.context_manager", "message": "[Redis] Saved MERGED context for mock_user: BookingContext(name='Abdul Basat', phone='0300926997', date='2025-11-19', time=None, suggested_slots=['9:00 AM', '9:30 AM', '10:00 AM'], stage='start', status='Pending', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, created_at='2025-11-18T16:14:26.558153')"}
{"timestamp": "2025-11-18T16:15:16.771049", "level": "INFO", "logger": "voice_agent.tools", "message": "[save_phone] \u2705 Saved context for BookingContext(name='Abdul Basat', phone='0300926997', date='2025-11-19', time=None, suggested_slots=['9:00 AM', '9:30 AM', '10:00 AM'], stage='start', status='Pending', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, created_at='2025-11-18T16:14:26.558153')"}
{"timestamp": "2025-11-18T16:15:16.771783", "level": "DEBUG", "logger": "livekit.agents", "message": "tools execution completed"}
{"timestamp": "2025-11-18T16:15:16.773090", "level": "ERROR", "logger": "livekit", "message": "failed to emit event function_tools_executed", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 282, in on_tools_executed\n    \"output\": output.result\n              ^^^^^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/pydantic/main.py\", line 1026, in __getattr__\n    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\nAttributeError: 'FunctionCallOutput' object has no attribute 'result'"}
{"timestamp": "2025-11-18T16:15:17.005232", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482517.004669, 'idle_time': 3.996655541996006, 'inference_duration_total': 0.031997999030863866, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:15:18.005168", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482518.0048718, 'idle_time': 4.996850874973461, 'inference_duration_total': 0.04435391488368623, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:15:18.009586", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIeLY5QdkeAkLDh4tLq79cxLLMKL', 'timestamp': 1763482518.009357, 'duration': 1.2338869590021204, 'ttft': 1.2245234590081964, 'cancelled': False, 'completion_tokens': 18, 'prompt_tokens': 1614, 'prompt_cached_tokens': 1536, 'total_tokens': 1632, 'tokens_per_second': 14.58804622958096, 'speech_id': 'speech_2d79685e37f7', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:15:18.012122", "level": "DEBUG", "logger": "livekit.agents", "message": "executing tool"}
{"timestamp": "2025-11-18T16:15:18.021522", "level": "DEBUG", "logger": "livekit.agents", "message": "tools execution completed"}
{"timestamp": "2025-11-18T16:15:18.022395", "level": "ERROR", "logger": "livekit", "message": "failed to emit event function_tools_executed", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 282, in on_tools_executed\n    \"output\": output.result\n              ^^^^^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/pydantic/main.py\", line 1026, in __getattr__\n    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\nAttributeError: 'FunctionCallOutput' object has no attribute 'result'"}
{"timestamp": "2025-11-18T16:15:19.103402", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482519.103171, 'idle_time': 6.095142916979967, 'inference_duration_total': 0.02163633398595266, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:15:19.360687", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIeMc7cZgk6VtLdOloChzBId2eJs', 'timestamp': 1763482519.3603709, 'duration': 1.336451874987688, 'ttft': 0.8743425419961568, 'cancelled': False, 'completion_tokens': 14, 'prompt_tokens': 1649, 'prompt_cached_tokens': 1408, 'total_tokens': 1663, 'tokens_per_second': 10.475498790503755, 'speech_id': 'speech_2d79685e37f7', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:15:20.033185", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '7ee7002e-e110-4081-b53b-0814e57909bf', 'timestamp': 1763482520.021465, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:15:20.105968", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482520.105632, 'idle_time': 7.097597458981909, 'inference_duration_total': 0.06485458402312361, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:15:21.056664", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:15:21.103450", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482521.1032598, 'idle_time': 8.095218374975957, 'inference_duration_total': 0.02279766704305075, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:15:21.238821", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:15:22.064241", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:15:22.104002", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482522.103816, 'idle_time': 9.09576745898812, 'inference_duration_total': 0.02113574999384582, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:15:22.245448", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:15:23.206033", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482523.205777, 'idle_time': 10.197721249976894, 'inference_duration_total': 0.018754957971395925, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:15:23.208897", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_8d3819dfb0f7428396f769773f291e7e', 'timestamp': 1763482523.208673, 'ttfb': 1.7293455000035465, 'duration': 4.0623416250164155, 'audio_duration': 1.306, 'cancelled': False, 'characters_count': 20, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_2d79685e37f7', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:15:24.204364", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482524.204048, 'idle_time': 11.195986124977935, 'inference_duration_total': 0.023485422017984092, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:15:25.004089", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '7ee7002e-e110-4081-b53b-0814e57909bf', 'timestamp': 1763482525.003882, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:15:25.204764", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482525.2045708, 'idle_time': 12.196502083999803, 'inference_duration_total': 0.024088416015729308, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:15:25.639586", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:15:25.838959", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:15:26.204624", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482526.204399, 'idle_time': 13.196323541982565, 'inference_duration_total': 0.028850248927483335, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:15:26.536232", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:15:26.536532", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:15:27.157519", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_5df1da312698484abb1a31c924a0a416', 'timestamp': 1763482527.156516, 'ttfb': 2.2477438329951838, 'duration': 3.946881541982293, 'audio_duration': 1.6420000000000001, 'cancelled': False, 'characters_count': 42, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_2d79685e37f7', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:15:27.302570", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482527.302233, 'idle_time': 14.294149875000585, 'inference_duration_total': 0.062344292004127055, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:15:28.306610", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482528.30603, 'idle_time': 15.297940374992322, 'inference_duration_total': 0.038435792113887146, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:15:29.305918", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482529.305412, 'idle_time': 16.2973155840009, 'inference_duration_total': 0.033685667091049254, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:15:30.102595", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '7ee7002e-e110-4081-b53b-0814e57909bf', 'timestamp': 1763482530.1023018, 'duration': 0.0, 'audio_duration': 5.09999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:15:30.306711", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482530.3062139, 'idle_time': 17.298111541982507, 'inference_duration_total': 0.03466600104002282, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:15:31.404278", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482531.403233, 'idle_time': 0.4995677499973681, 'inference_duration_total': 0.04260750190587714, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:15:32.404868", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482532.404366, 'idle_time': 0.8002264160022605, 'inference_duration_total': 0.03404458399745636, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:15:33.402881", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482533.402326, 'idle_time': 1.798178833007114, 'inference_duration_total': 0.03832370706368238, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:15:34.403846", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482534.403552, 'idle_time': 2.7993989160167985, 'inference_duration_total': 0.021615209960145876, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:15:35.103440", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '7ee7002e-e110-4081-b53b-0814e57909bf', 'timestamp': 1763482535.103078, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:15:35.425981", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482535.425694, 'idle_time': 3.8215332080144435, 'inference_duration_total': 0.0427319559676107, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:15:35.690532", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-18T16:15:35.692176", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763482535.6920052, 'end_of_utterance_delay': 4.695364236831665, 'transcription_delay': 4.694691181182861, 'on_user_turn_completed_delay': 1.1920928955078125e-06, 'last_speaking_time': 1763482530.9960399, 'speech_id': 'speech_cca5124933ec', 'metadata': None}}"}
{"timestamp": "2025-11-18T16:15:36.503568", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482536.502926, 'idle_time': 4.898758249997627, 'inference_duration_total': 0.06262066698400304, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:15:37.502484", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIee2o7tZy8Z91X99y6YtHCwfuTd', 'timestamp': 1763482537.5022562, 'duration': 1.808636750007281, 'ttft': 0.9836356659943704, 'cancelled': False, 'completion_tokens': 22, 'prompt_tokens': 1672, 'prompt_cached_tokens': 1408, 'total_tokens': 1694, 'tokens_per_second': 12.163857667887946, 'speech_id': 'speech_cca5124933ec', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:15:37.505447", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482537.505267, 'idle_time': 5.901092999993125, 'inference_duration_total': 0.022822543018264696, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:15:38.504660", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482538.503884, 'idle_time': 6.899703333008802, 'inference_duration_total': 0.030925377854146063, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:15:39.505753", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482539.5055711, 'idle_time': 7.901383666001493, 'inference_duration_total': 0.019236874853959307, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:15:39.719506", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:15:39.903489", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:15:40.103567", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '7ee7002e-e110-4081-b53b-0814e57909bf', 'timestamp': 1763482540.10331, 'duration': 0.0, 'audio_duration': 4.94999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:15:40.603088", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482540.602859, 'idle_time': 8.998664165992523, 'inference_duration_total': 0.03241141507169232, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:15:41.607066", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482541.606848, 'idle_time': 10.002646333014127, 'inference_duration_total': 0.021637751895468682, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:15:42.257235", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:15:42.439278", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:15:42.607999", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482542.604785, 'idle_time': 11.000576791004278, 'inference_duration_total': 0.0502531259553507, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:15:43.604984", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482543.604816, 'idle_time': 12.000600500003202, 'inference_duration_total': 0.03050275193527341, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:15:43.719391", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:15:43.918071", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:15:44.100245", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:15:44.701330", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482544.701143, 'idle_time': 13.0969208329916, 'inference_duration_total': 0.02454066398786381, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:15:45.104046", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '7ee7002e-e110-4081-b53b-0814e57909bf', 'timestamp': 1763482545.103841, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:15:45.473306", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_d0a2a3d309f74d9e965828aabb7d3266', 'timestamp': 1763482545.472885, 'ttfb': 2.6219937079877127, 'duration': 8.556557125004474, 'audio_duration': 3.778000000000001, 'cancelled': False, 'characters_count': 55, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_cca5124933ec', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:15:45.703201", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482545.703019, 'idle_time': 14.098790249990998, 'inference_duration_total': 0.023056833946611732, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:15:46.704089", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482546.703875, 'idle_time': 15.099638790998142, 'inference_duration_total': 0.020640250004362315, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:15:47.706133", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482547.705966, 'idle_time': 16.101723791012773, 'inference_duration_total': 0.017735206987708807, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:15:48.802448", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482548.802081, 'idle_time': 17.1978310830018, 'inference_duration_total': 0.030813380057225004, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:15:49.614442", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_818663aa3a1444809ee20ce80435c79f', 'timestamp': 1763482549.613817, 'ttfb': 3.195697166986065, 'duration': 4.139838125003735, 'audio_duration': 2.002, 'cancelled': False, 'characters_count': 30, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_cca5124933ec', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:15:49.807270", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482549.807023, 'idle_time': 18.202766000002157, 'inference_duration_total': 0.04519520897883922, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:15:50.105413", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '7ee7002e-e110-4081-b53b-0814e57909bf', 'timestamp': 1763482550.1051788, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:15:50.804023", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482550.8037271, 'idle_time': 19.199463333003223, 'inference_duration_total': 0.043814707081764936, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:15:51.804175", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482551.8039901, 'idle_time': 0.09930991701548919, 'inference_duration_total': 0.02706112602027133, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:15:52.903216", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482552.9027991, 'idle_time': 0.5982889579900075, 'inference_duration_total': 0.02995195405674167, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:15:53.905619", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482553.9051678, 'idle_time': 1.6006512499880046, 'inference_duration_total': 0.029864455049391836, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:15:54.012746", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-18T16:15:54.015154", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763482554.0148191, 'end_of_utterance_delay': 2.3447721004486084, 'transcription_delay': 2.344067096710205, 'on_user_turn_completed_delay': 4.0531158447265625e-06, 'last_speaking_time': 1763482551.66928, 'speech_id': 'speech_7a2b74e10d32', 'metadata': None}}"}
{"timestamp": "2025-11-18T16:15:54.904646", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482554.9043012, 'idle_time': 2.599778082978446, 'inference_duration_total': 0.03552400003536604, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:15:55.044825", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIewvGukuXCSSBHHDsnjAizRKr58', 'timestamp': 1763482555.044209, 'duration': 1.0266899580019526, 'ttft': 1.0191997080110013, 'cancelled': False, 'completion_tokens': 10, 'prompt_tokens': 1704, 'prompt_cached_tokens': 1536, 'total_tokens': 1714, 'tokens_per_second': 9.740038774179752, 'speech_id': 'speech_7a2b74e10d32', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:15:55.050155", "level": "DEBUG", "logger": "livekit.agents", "message": "executing tool"}
{"timestamp": "2025-11-18T16:15:55.051095", "level": "DEBUG", "logger": "livekit.agents", "message": "tools execution completed"}
{"timestamp": "2025-11-18T16:15:55.053037", "level": "ERROR", "logger": "livekit", "message": "failed to emit event function_tools_executed", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 282, in on_tools_executed\n    \"output\": output.result\n              ^^^^^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/pydantic/main.py\", line 1026, in __getattr__\n    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\nAttributeError: 'FunctionCallOutput' object has no attribute 'result'"}
{"timestamp": "2025-11-18T16:15:55.105302", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '7ee7002e-e110-4081-b53b-0814e57909bf', 'timestamp': 1763482555.105068, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:15:55.903758", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482555.9035761, 'idle_time': 3.5990459169843234, 'inference_duration_total': 0.030655916954856366, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:15:56.052329", "level": "INFO", "logger": "voice_agent.tools", "message": "[end_call] Deleting room: mock_room"}
{"timestamp": "2025-11-18T16:15:56.542610", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIeyBQpCi36cf2d4eKTGDIqRZzOV', 'timestamp': 1763482556.542301, 'duration': 1.4853905830241274, 'ttft': 1.330407750006998, 'cancelled': False, 'completion_tokens': 7, 'prompt_tokens': 1731, 'prompt_cached_tokens': 1536, 'total_tokens': 1738, 'tokens_per_second': 4.712565220218781, 'speech_id': 'speech_7a2b74e10d32', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:15:57.005486", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482557.004961, 'idle_time': 4.70042395798373, 'inference_duration_total': 0.03726624994305894, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:15:57.769186", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:15:57.953236", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:15:58.002735", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482558.002499, 'idle_time': 5.697954999981448, 'inference_duration_total': 0.03637774707749486, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:15:58.678545", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:15:58.735223", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:15:58.938894", "level": "WARNING", "logger": "voice_agent.tools", "message": "[end_call] delete_room failed: TwirpError(code=not_found, message=requested room does not exist, status=404). Trying remove_participant by identity\u2026"}
{"timestamp": "2025-11-18T16:15:58.939206", "level": "ERROR", "logger": "voice_agent.tools", "message": "[end_call] remove_participant failed: module 'livekit.api' has no attribute 'RemoveParticipantRequest'", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/tools.py\", line 25, in hangup_call\n    await ctx.api.room.delete_room(\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/api/room_service.py\", line 108, in delete_room\n    return await self._client.request(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/api/twirp_client.py\", line 129, in request\n    raise TwirpError(\nlivekit.api.twirp_client.TwirpError: TwirpError(code=not_found, message=requested room does not exist, status=404)\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/tools.py\", line 37, in hangup_call\n    api.RemoveParticipantRequest(\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: module 'livekit.api' has no attribute 'RemoveParticipantRequest'"}
{"timestamp": "2025-11-18T16:15:59.005854", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482559.0053492, 'idle_time': 6.7007982499781065, 'inference_duration_total': 0.038027789938496426, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:15:59.290462", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_192377bd99d242d483de7f59297c674b', 'timestamp': 1763482559.289827, 'ttfb': 1.043276500015054, 'duration': 2.744989667000482, 'audio_duration': 1.4979999999999998, 'cancelled': False, 'characters_count': 19, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_7a2b74e10d32', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:16:00.004300", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482560.004122, 'idle_time': 7.699564624985214, 'inference_duration_total': 0.031589206104399636, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:16:00.202654", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '7ee7002e-e110-4081-b53b-0814e57909bf', 'timestamp': 1763482560.202444, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:16:01.011081", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482561.010658, 'idle_time': 8.706093707995024, 'inference_duration_total': 0.037962167989462614, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:16:02.102746", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482562.102546, 'idle_time': 9.797974582994357, 'inference_duration_total': 0.033318459027213976, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:16:03.107211", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482563.1067572, 'idle_time': 10.8021786249883, 'inference_duration_total': 0.03703741496428847, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:16:04.102763", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482564.102605, 'idle_time': 11.798019832989667, 'inference_duration_total': 0.03220979115576483, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:16:05.106061", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482565.1057038, 'idle_time': 12.80111199998646, 'inference_duration_total': 0.040894666977692395, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:16:05.204364", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '7ee7002e-e110-4081-b53b-0814e57909bf', 'timestamp': 1763482565.204152, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:16:06.201503", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482566.201174, 'idle_time': 13.896574541984592, 'inference_duration_total': 0.03971120991627686, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:16:07.205670", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482567.205167, 'idle_time': 14.900561624992406, 'inference_duration_total': 0.03524325299076736, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:16:08.204805", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482568.204585, 'idle_time': 15.899972249986604, 'inference_duration_total': 0.03787266701692715, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:16:09.207205", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482569.206547, 'idle_time': 16.901928541978123, 'inference_duration_total': 0.03412883903365582, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:16:10.300276", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '7ee7002e-e110-4081-b53b-0814e57909bf', 'timestamp': 1763482570.300122, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:16:10.301298", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482570.301203, 'idle_time': 17.99657633298193, 'inference_duration_total': 0.036635541066061705, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:16:11.304599", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482571.3042529, 'idle_time': 18.999620416987455, 'inference_duration_total': 0.03366170806111768, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:16:12.307672", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482572.307157, 'idle_time': 20.002516957989428, 'inference_duration_total': 0.037992127967299893, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:16:13.307257", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482573.3067431, 'idle_time': 21.002095874981023, 'inference_duration_total': 0.03908724896609783, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:16:14.402839", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482574.402623, 'idle_time': 22.097969166992698, 'inference_duration_total': 0.04397800093283877, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:16:15.304732", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '7ee7002e-e110-4081-b53b-0814e57909bf', 'timestamp': 1763482575.304251, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:16:15.406324", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482575.4059389, 'idle_time': 23.10127845799434, 'inference_duration_total': 0.03719075204571709, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:16:16.406354", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482576.405962, 'idle_time': 24.101294958003564, 'inference_duration_total': 0.035756544006289914, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:16:17.406035", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482577.4054232, 'idle_time': 25.100749207980698, 'inference_duration_total': 0.034676790062803775, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:16:18.505352", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482578.504865, 'idle_time': 26.2001841669844, 'inference_duration_total': 0.03886145810247399, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:16:19.505079", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482579.5046039, 'idle_time': 27.199916249985108, 'inference_duration_total': 0.03746749894344248, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:16:20.404124", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '7ee7002e-e110-4081-b53b-0814e57909bf', 'timestamp': 1763482580.4034848, 'duration': 0.0, 'audio_duration': 5.09999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:16:20.506268", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482580.505952, 'idle_time': 28.201257582986727, 'inference_duration_total': 0.03963825004757382, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:16:21.506086", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482581.505517, 'idle_time': 29.200815624993993, 'inference_duration_total': 0.03197196006658487, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:16:22.606005", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482582.60557, 'idle_time': 30.300861666997662, 'inference_duration_total': 0.04256320800050162, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:16:23.605361", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482583.604862, 'idle_time': 31.30014645800111, 'inference_duration_total': 0.03556412403122522, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:16:24.605794", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482584.605257, 'idle_time': 32.3005347919825, 'inference_duration_total': 0.050317290966631845, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:16:25.404850", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '7ee7002e-e110-4081-b53b-0814e57909bf', 'timestamp': 1763482585.4043672, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:16:25.606660", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482585.606107, 'idle_time': 33.30137800000375, 'inference_duration_total': 0.03373445605393499, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:16:26.607645", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482586.6070569, 'idle_time': 34.302321583003504, 'inference_duration_total': 0.035196335054934025, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:16:27.704842", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482587.7044008, 'idle_time': 35.399658582988195, 'inference_duration_total': 0.03245608592987992, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:16:28.705972", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482588.705493, 'idle_time': 36.40074283297872, 'inference_duration_total': 0.03739392093848437, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:16:29.706511", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482589.706006, 'idle_time': 37.40125024999725, 'inference_duration_total': 0.032991621061228216, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:16:30.505328", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '7ee7002e-e110-4081-b53b-0814e57909bf', 'timestamp': 1763482590.504805, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:16:30.707357", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482590.706736, 'idle_time': 38.40197329199873, 'inference_duration_total': 0.034993041947018355, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:16:31.807033", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482591.806515, 'idle_time': 39.501744457986206, 'inference_duration_total': 0.032764503004727885, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:16:32.805320", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482592.804825, 'idle_time': 40.50004774998524, 'inference_duration_total': 0.0359050408587791, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:16:33.806701", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482593.8061771, 'idle_time': 41.50139291697997, 'inference_duration_total': 0.033359041932271793, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:16:34.813642", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482594.8125298, 'idle_time': 42.50773916699109, 'inference_duration_total': 0.03830537202884443, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:16:35.505089", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '7ee7002e-e110-4081-b53b-0814e57909bf', 'timestamp': 1763482595.504673, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:16:35.904289", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482595.9039738, 'idle_time': 43.59917587498785, 'inference_duration_total': 0.03169207804603502, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:16:36.907894", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482596.907626, 'idle_time': 44.60282137498143, 'inference_duration_total': 0.041872918052831665, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:16:37.904737", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482597.90353, 'idle_time': 45.59871824999573, 'inference_duration_total': 0.06694624686497264, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:16:38.904917", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482598.904738, 'idle_time': 46.59992041697842, 'inference_duration_total': 0.0420079969917424, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:16:39.866298", "level": "INFO", "logger": "livekit.agents", "message": "shutting down worker"}
{"timestamp": "2025-11-18T16:16:39.867788", "level": "DEBUG", "logger": "livekit.agents", "message": "shutting down job task"}
{"timestamp": "2025-11-18T16:16:39.873708", "level": "DEBUG", "logger": "livekit.agents", "message": "job exiting"}
{"timestamp": "2025-11-18T16:16:40.155597", "level": "WARNING", "logger": "livekit.agents", "message": "exiting forcefully"}
{"timestamp": "2025-11-18T16:16:42.605462", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-18T16:16:42.607110", "level": "INFO", "logger": "livekit.agents", "message": "starting worker"}
{"timestamp": "2025-11-18T16:16:42.609323", "level": "INFO", "logger": "livekit.agents", "message": "initializing job runner"}
{"timestamp": "2025-11-18T16:16:42.609483", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-18T16:16:42.609859", "level": "INFO", "logger": "livekit.agents", "message": "job runner initialized"}
{"timestamp": "2025-11-18T16:16:42.638117", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udd0c Redis Connected: True"}
{"timestamp": "2025-11-18T16:16:42.638425", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Incoming call from: mock_user"}
{"timestamp": "2025-11-18T16:16:42.639053", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Caller Phone Detected (normalized): None"}
{"timestamp": "2025-11-18T16:16:43.133049", "level": "DEBUG", "logger": "livekit.agents", "message": "http_session(): creating a new httpclient ctx"}
{"timestamp": "2025-11-18T16:16:43.142073", "level": "DEBUG", "logger": "livekit.agents", "message": "using audio io: `ChatCLI` -> `AgentSession` -> `TranscriptSynchronizer` -> `ChatCLI`"}
{"timestamp": "2025-11-18T16:16:43.142355", "level": "DEBUG", "logger": "livekit.agents", "message": "using transcript io: `AgentSession` -> `TranscriptSynchronizer` -> `ChatCLI`"}
{"timestamp": "2025-11-18T16:16:44.256455", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482604.25507, 'idle_time': 1.1150323750043754, 'inference_duration_total': 0.026968209946062416, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:16:45.253056", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482605.252853, 'idle_time': 2.1128083329822402, 'inference_duration_total': 0.03688845905708149, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:16:46.254712", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482606.254112, 'idle_time': 3.114060708001489, 'inference_duration_total': 0.0240114989283029, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:16:47.257039", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482607.255705, 'idle_time': 4.115646374993958, 'inference_duration_total': 0.03655524397618137, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:16:47.622402", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIfkVtr5cyGCIy7c9sDiH1hLbPjC', 'timestamp': 1763482607.620286, 'duration': 4.474024499999359, 'ttft': 3.485208291996969, 'cancelled': False, 'completion_tokens': 11, 'prompt_tokens': 1331, 'prompt_cached_tokens': 0, 'total_tokens': 1342, 'tokens_per_second': 2.4586365139488118, 'speech_id': 'speech_2f210f8cf3fe', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:16:48.151978", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'c23418f0-a5f2-4423-856d-a1db069e26b7', 'timestamp': 1763482608.151604, 'duration': 0.0, 'audio_duration': 4.899999999999991, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:16:48.354615", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482608.354054, 'idle_time': 5.213988832983887, 'inference_duration_total': 0.02832950308220461, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:16:49.355560", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482609.354835, 'idle_time': 6.214762957999483, 'inference_duration_total': 0.05208587896777317, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:16:50.071623", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:16:50.253787", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:16:50.355151", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482610.354692, 'idle_time': 7.214613166986965, 'inference_duration_total': 0.03378545705345459, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:16:51.353932", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482611.3535922, 'idle_time': 8.2135058749991, 'inference_duration_total': 0.04306695706327446, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:16:51.894881", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:16:52.093965", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:16:52.455486", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482612.454777, 'idle_time': 9.314683417003835, 'inference_duration_total': 0.028824334032833576, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:16:53.153749", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'c23418f0-a5f2-4423-856d-a1db069e26b7', 'timestamp': 1763482613.153167, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:16:53.296812", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:16:53.297505", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:16:53.456204", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482613.4557388, 'idle_time': 10.31563954197918, 'inference_duration_total': 0.04949541296809912, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:16:54.454434", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482614.454189, 'idle_time': 11.314082917000633, 'inference_duration_total': 0.03653557802317664, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:16:55.454576", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482615.454203, 'idle_time': 12.31408970800112, 'inference_duration_total': 0.03547025105217472, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:16:56.552743", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482616.55229, 'idle_time': 13.412169082992477, 'inference_duration_total': 0.03712416492635384, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:16:57.566326", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482617.5660539, 'idle_time': 14.425926458003232, 'inference_duration_total': 0.051238998072221875, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:16:58.155091", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'c23418f0-a5f2-4423-856d-a1db069e26b7', 'timestamp': 1763482618.154746, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:16:58.554000", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482618.553843, 'idle_time': 15.413708957989002, 'inference_duration_total': 0.03001391503494233, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:16:59.555031", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482619.554663, 'idle_time': 16.414522582985228, 'inference_duration_total': 0.04191037514829077, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:17:00.652113", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482620.651219, 'idle_time': 17.51107066698023, 'inference_duration_total': 0.03864524606615305, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:17:01.652890", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482621.652591, 'idle_time': 18.512436624994734, 'inference_duration_total': 0.030002544983290136, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:17:02.653652", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482622.653286, 'idle_time': 19.513124499993864, 'inference_duration_total': 0.03228583492455073, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:17:03.156277", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'c23418f0-a5f2-4423-856d-a1db069e26b7', 'timestamp': 1763482623.155732, 'duration': 0.0, 'audio_duration': 4.94999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:17:03.658330", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482623.657745, 'idle_time': 20.517577291990165, 'inference_duration_total': 0.045158750959672034, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:17:04.753851", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482624.75279, 'idle_time': 21.612614749989007, 'inference_duration_total': 0.08818154101027176, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:17:06.146490", "level": "WARNING", "logger": "livekit.plugins.silero", "message": "inference is slower than realtime"}
{"timestamp": "2025-11-18T16:17:06.160193", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482626.158164, 'idle_time': 23.017979333002586, 'inference_duration_total': 0.6298145410546567, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:17:06.949860", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482626.9496331, 'idle_time': 23.80944254199858, 'inference_duration_total': 0.02987791202031076, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:17:07.950463", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482627.950173, 'idle_time': 24.80997624999145, 'inference_duration_total': 0.02635878892033361, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:17:08.249517", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'c23418f0-a5f2-4423-856d-a1db069e26b7', 'timestamp': 1763482628.249312, 'duration': 0.0, 'audio_duration': 4.899999999999991, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:17:09.056901", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482629.056264, 'idle_time': 25.91605966698262, 'inference_duration_total': 0.021935961005510762, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:17:10.049233", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482630.048724, 'idle_time': 0.9884357920091134, 'inference_duration_total': 0.028648537991102785, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:17:10.326937", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_22f8faafcef04813af139cd26833d300', 'timestamp': 1763482630.3246322, 'ttfb': 2.2662913750100415, 'duration': 22.699941458995454, 'audio_duration': 2.5780000000000003, 'cancelled': False, 'characters_count': 41, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_2f210f8cf3fe', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:17:11.050951", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482631.05055, 'idle_time': 1.9902554170112126, 'inference_duration_total': 0.028845917026046664, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:17:11.639376", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-18T16:17:11.654742", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763482631.654281, 'end_of_utterance_delay': 0.7299680709838867, 'transcription_delay': 0.7270059585571289, 'on_user_turn_completed_delay': 9.5367431640625e-07, 'last_speaking_time': 1763482630.912979, 'speech_id': 'speech_c84e0518dc83', 'metadata': None}}"}
{"timestamp": "2025-11-18T16:17:12.052232", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482632.051708, 'idle_time': 0.49930495797889307, 'inference_duration_total': 0.033314418978989124, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:17:12.917103", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIgCWNCUAdc5k7jKkk9AlYo1xAqV', 'timestamp': 1763482632.916824, 'duration': 1.2597558749839664, 'ttft': 1.1842702499998268, 'cancelled': False, 'completion_tokens': 10, 'prompt_tokens': 1341, 'prompt_cached_tokens': 1280, 'total_tokens': 1351, 'tokens_per_second': 7.938045933008469, 'speech_id': 'speech_c84e0518dc83', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:17:13.051064", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482633.050804, 'idle_time': 1.4983941249956843, 'inference_duration_total': 0.03994233507546596, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:17:13.347561", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'c23418f0-a5f2-4423-856d-a1db069e26b7', 'timestamp': 1763482633.347373, 'duration': 0.0, 'audio_duration': 5.09999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:17:14.148213", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482634.147965, 'idle_time': 2.5955480829870794, 'inference_duration_total': 0.025827499019214883, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:17:15.180120", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482635.162755, 'idle_time': 3.6103313329804223, 'inference_duration_total': 0.04922654101392254, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:17:16.150093", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482636.149856, 'idle_time': 4.597425707994262, 'inference_duration_total': 0.04474991487222724, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:17:16.763298", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:17:17.102095", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:17:17.156702", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482637.156488, 'idle_time': 5.60405058300239, 'inference_duration_total': 0.03169108083238825, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:17:17.346369", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:17:18.251212", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482638.250784, 'idle_time': 6.6983399169985205, 'inference_duration_total': 0.0373129180225078, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:17:18.357891", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'c23418f0-a5f2-4423-856d-a1db069e26b7', 'timestamp': 1763482638.3574889, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:17:18.406723", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:17:18.590049", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:17:19.250892", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482639.250401, 'idle_time': 7.697949374996824, 'inference_duration_total': 0.04101874996558763, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:17:19.659176", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:17:19.841734", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:17:19.982971", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_8936dfc5b09c4755a38a15dffae50e35', 'timestamp': 1763482639.982302, 'ttfb': 3.664146625000285, 'duration': 7.064283374988008, 'audio_duration': 2.338, 'cancelled': False, 'characters_count': 37, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_c84e0518dc83', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:17:20.251130", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482640.250947, 'idle_time': 8.698489499976858, 'inference_duration_total': 0.029232206841697916, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:17:21.250388", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482641.250168, 'idle_time': 9.697702999983449, 'inference_duration_total': 0.021994915907271206, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:17:22.351077", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482642.350601, 'idle_time': 10.798129124974366, 'inference_duration_total': 0.026921540964394808, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:17:23.350402", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482643.349875, 'idle_time': 11.797396666981513, 'inference_duration_total': 0.03766466700471938, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:17:23.451104", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'c23418f0-a5f2-4423-856d-a1db069e26b7', 'timestamp': 1763482643.450569, 'duration': 0.0, 'audio_duration': 5.09999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:17:24.362881", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482644.361901, 'idle_time': 12.80941591699957, 'inference_duration_total': 0.04678037695703097, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:17:25.351836", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482645.351226, 'idle_time': 13.798734249983681, 'inference_duration_total': 0.03629728785017505, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:17:26.452147", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482646.451679, 'idle_time': 14.899179999978514, 'inference_duration_total': 0.03446920894202776, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:17:27.451462", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482647.451042, 'idle_time': 15.898535749991424, 'inference_duration_total': 0.040027378097875044, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:17:28.452209", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'c23418f0-a5f2-4423-856d-a1db069e26b7', 'timestamp': 1763482648.4515378, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:17:28.453355", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482648.453141, 'idle_time': 16.900628374976804, 'inference_duration_total': 0.03779429293354042, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:17:29.454345", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482649.45371, 'idle_time': 17.901190999982646, 'inference_duration_total': 0.03666016200440936, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:17:30.550755", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482650.55054, 'idle_time': 18.998013292002724, 'inference_duration_total': 0.03209125009016134, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:17:31.552804", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482651.550945, 'idle_time': 19.998411416978342, 'inference_duration_total': 0.043441707064630464, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:17:32.550250", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482652.549522, 'idle_time': 20.9969815829827, 'inference_duration_total': 0.04224841919494793, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:17:33.452525", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'c23418f0-a5f2-4423-856d-a1db069e26b7', 'timestamp': 1763482653.451902, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:17:33.553859", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482653.553376, 'idle_time': 22.000828832999105, 'inference_duration_total': 0.04009183298330754, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:17:34.651719", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482654.6512399, 'idle_time': 23.098686124983942, 'inference_duration_total': 0.04073891503503546, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:17:35.652915", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482655.6512582, 'idle_time': 24.098696667002514, 'inference_duration_total': 0.03733834010199644, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:17:36.655347", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482656.6549509, 'idle_time': 25.1023832919891, 'inference_duration_total': 0.042448998923646286, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:17:37.650846", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482657.650671, 'idle_time': 26.098096707981313, 'inference_duration_total': 0.040488542028469965, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:17:38.551148", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'c23418f0-a5f2-4423-856d-a1db069e26b7', 'timestamp': 1763482658.5505311, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:17:38.652359", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482658.652096, 'idle_time': 27.099514832982095, 'inference_duration_total': 0.03136328997788951, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:17:39.752618", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482659.751814, 'idle_time': 28.199225457996363, 'inference_duration_total': 0.03608954179799184, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:17:40.752357", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482660.75186, 'idle_time': 29.19926470797509, 'inference_duration_total': 0.03756604203954339, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:17:41.751048", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482661.750624, 'idle_time': 30.198021874995902, 'inference_duration_total': 0.0351287089579273, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:17:42.753162", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482662.752675, 'idle_time': 31.200066874996992, 'inference_duration_total': 0.031446581066120416, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:17:43.551249", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'c23418f0-a5f2-4423-856d-a1db069e26b7', 'timestamp': 1763482663.55064, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:17:43.853098", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482663.852452, 'idle_time': 32.29983658299898, 'inference_duration_total': 0.03564745595213026, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:17:44.851967", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482664.851425, 'idle_time': 33.29880220798077, 'inference_duration_total': 0.03240837308112532, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:17:45.856364", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482665.8555908, 'idle_time': 34.30296187498607, 'inference_duration_total': 0.03608120806165971, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:17:46.853450", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482666.85299, 'idle_time': 35.300353957980406, 'inference_duration_total': 0.0335375809809193, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:17:47.950848", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482667.9504378, 'idle_time': 36.397794332995545, 'inference_duration_total': 0.04332749906461686, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:17:48.648573", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'c23418f0-a5f2-4423-856d-a1db069e26b7', 'timestamp': 1763482668.648221, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:17:48.952708", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482668.952193, 'idle_time': 37.39954291700269, 'inference_duration_total': 0.03383325002505444, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:17:49.957111", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482669.956682, 'idle_time': 38.404024957999354, 'inference_duration_total': 0.042109375062864274, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:17:50.952786", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482670.952331, 'idle_time': 39.39966787499725, 'inference_duration_total': 0.03240504491259344, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:17:52.050639", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482672.05008, 'idle_time': 40.49740920797922, 'inference_duration_total': 0.04750874909223057, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:17:53.052710", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482673.0518909, 'idle_time': 41.499213957984466, 'inference_duration_total': 0.03707249605213292, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:17:53.654182", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'c23418f0-a5f2-4423-856d-a1db069e26b7', 'timestamp': 1763482673.653461, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:17:54.052291", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482674.051726, 'idle_time': 42.499042124982225, 'inference_duration_total': 0.040864249982405454, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:17:55.052590", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482675.052064, 'idle_time': 43.49937345797662, 'inference_duration_total': 0.03811800212133676, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:17:56.152099", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482676.151495, 'idle_time': 44.59879708298831, 'inference_duration_total': 0.03486608696402982, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:17:57.151939", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482677.1514509, 'idle_time': 45.5987462499761, 'inference_duration_total': 0.037755291908979416, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:17:58.152521", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482678.152138, 'idle_time': 46.59942637497443, 'inference_duration_total': 0.030317293043481186, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:17:58.652676", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'c23418f0-a5f2-4423-856d-a1db069e26b7', 'timestamp': 1763482678.65208, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:17:59.154866", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482679.1543732, 'idle_time': 47.6016551249777, 'inference_duration_total': 0.03941412703716196, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:18:00.248275", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482680.247987, 'idle_time': 48.695261749991914, 'inference_duration_total': 0.038875166908837855, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:18:01.256054", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482681.252832, 'idle_time': 49.70010024998919, 'inference_duration_total': 0.03854770597536117, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:18:02.256977", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482682.25331, 'idle_time': 50.70057087499299, 'inference_duration_total': 0.2971734590246342, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:18:03.251103", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482683.2509089, 'idle_time': 51.69816308299778, 'inference_duration_total': 0.043402915965998545, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:18:03.747285", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'c23418f0-a5f2-4423-856d-a1db069e26b7', 'timestamp': 1763482683.747073, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:18:04.249728", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482684.249578, 'idle_time': 52.69682533299783, 'inference_duration_total': 0.021662208018824458, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:18:05.348132", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482685.3477561, 'idle_time': 53.79499654198298, 'inference_duration_total': 0.02356758207315579, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:18:06.349613", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482686.34935, 'idle_time': 54.79658341698814, 'inference_duration_total': 0.023721544828731567, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:18:07.352418", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482687.352129, 'idle_time': 55.79935537499841, 'inference_duration_total': 0.032660623983247206, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:18:08.351395", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482688.351116, 'idle_time': 56.798336499981815, 'inference_duration_total': 0.019490914011839777, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:18:08.772068", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'c23418f0-a5f2-4423-856d-a1db069e26b7', 'timestamp': 1763482688.7703319, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:18:09.452176", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482689.450515, 'idle_time': 57.89772749997792, 'inference_duration_total': 0.03639916691463441, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:18:10.451032", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482690.450677, 'idle_time': 58.89788262499496, 'inference_duration_total': 0.03824262402486056, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:18:11.453061", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482691.4527209, 'idle_time': 59.899920541996835, 'inference_duration_total': 0.03618675310281105, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:18:12.454309", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482692.453708, 'idle_time': 60.90090087498538, 'inference_duration_total': 0.04143858602037653, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:18:13.571289", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482693.5676181, 'idle_time': 62.014893707993906, 'inference_duration_total': 0.04540629492839798, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:18:13.849676", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'c23418f0-a5f2-4423-856d-a1db069e26b7', 'timestamp': 1763482693.849335, 'duration': 0.0, 'audio_duration': 5.09999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:18:14.551489", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482694.550585, 'idle_time': 62.997763999999734, 'inference_duration_total': 0.06995950100827031, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:18:15.549677", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482695.54951, 'idle_time': 63.99668166699121, 'inference_duration_total': 0.027391294977860525, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:18:16.552330", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482696.5521228, 'idle_time': 64.99928862499655, 'inference_duration_total': 0.02771562506677583, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:18:17.648467", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482697.6482959, 'idle_time': 66.09545387499384, 'inference_duration_total': 0.028889664070447907, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:18:18.654448", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482698.6539562, 'idle_time': 67.1011071249959, 'inference_duration_total': 0.03977220706292428, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:18:18.850808", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'c23418f0-a5f2-4423-856d-a1db069e26b7', 'timestamp': 1763482698.850181, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:18:19.649889", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482699.6497002, 'idle_time': 68.09684479198768, 'inference_duration_total': 0.037248747947160155, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:18:20.653175", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482700.652606, 'idle_time': 69.09974354199949, 'inference_duration_total': 0.02101991602103226, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:18:21.748678", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482701.748523, 'idle_time': 70.19565362497815, 'inference_duration_total': 0.02338587408303283, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:18:22.752544", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482702.751976, 'idle_time': 71.1991002499999, 'inference_duration_total': 0.02199987106723711, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:18:23.750736", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482703.750577, 'idle_time': 72.19769441700191, 'inference_duration_total': 0.02619487585616298, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:18:23.851775", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'c23418f0-a5f2-4423-856d-a1db069e26b7', 'timestamp': 1763482703.8515992, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:18:24.754275", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482704.753673, 'idle_time': 73.20078358298633, 'inference_duration_total': 0.020811041962588206, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:18:25.848963", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482705.8487601, 'idle_time': 74.29586283297976, 'inference_duration_total': 0.04123970906948671, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:18:26.853005", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482706.852407, 'idle_time': 75.29950354198809, 'inference_duration_total': 0.024564628023654222, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:18:27.851071", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482707.850608, 'idle_time': 76.29769737497554, 'inference_duration_total': 0.02395187597721815, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:18:28.851944", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482708.85169, 'idle_time': 77.29877258298802, 'inference_duration_total': 0.019578209874453023, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:18:28.949773", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'c23418f0-a5f2-4423-856d-a1db069e26b7', 'timestamp': 1763482708.949518, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:18:29.853115", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482709.85252, 'idle_time': 78.29959633297403, 'inference_duration_total': 0.02187820608378388, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:18:30.950344", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482710.948606, 'idle_time': 79.39567529197666, 'inference_duration_total': 0.09371833395562135, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:18:31.953037", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482711.9525728, 'idle_time': 80.39963516697753, 'inference_duration_total': 0.034412083856295794, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:18:32.954790", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482712.9530208, 'idle_time': 81.40007662499556, 'inference_duration_total': 0.030642458936199546, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:18:33.952118", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'c23418f0-a5f2-4423-856d-a1db069e26b7', 'timestamp': 1763482713.9507341, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:18:33.954439", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482713.954159, 'idle_time': 82.40120820800075, 'inference_duration_total': 0.06528166797943413, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:18:35.055261", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482715.054539, 'idle_time': 83.50158079198445, 'inference_duration_total': 0.03170157904969528, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:18:36.052722", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482716.052303, 'idle_time': 84.49933754198719, 'inference_duration_total': 0.03657683182973415, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:18:37.054716", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482717.054055, 'idle_time': 85.50108358298894, 'inference_duration_total': 0.03076729385065846, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:18:38.052025", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482718.050716, 'idle_time': 86.49773712499882, 'inference_duration_total': 0.03238016407703981, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:18:38.951034", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'c23418f0-a5f2-4423-856d-a1db069e26b7', 'timestamp': 1763482718.9506838, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:18:39.154028", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482719.153334, 'idle_time': 87.60034824998002, 'inference_duration_total': 0.027281663904432207, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:18:40.153538", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482720.153013, 'idle_time': 88.60002016698127, 'inference_duration_total': 0.03654745701351203, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:18:41.155738", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482721.155222, 'idle_time': 89.60222312499536, 'inference_duration_total': 0.02664133522193879, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:18:42.153643", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482722.153331, 'idle_time': 90.60032512497855, 'inference_duration_total': 0.02638529011164792, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:18:43.250166", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482723.248721, 'idle_time': 91.6957074169768, 'inference_duration_total': 0.027334914018865675, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:18:43.953294", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'c23418f0-a5f2-4423-856d-a1db069e26b7', 'timestamp': 1763482723.952754, 'duration': 0.0, 'audio_duration': 4.94999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:18:44.254592", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482724.2539861, 'idle_time': 92.70096583297709, 'inference_duration_total': 0.04383716901065782, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:18:45.251178", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482725.250304, 'idle_time': 93.69727729199803, 'inference_duration_total': 0.027025460090953857, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:18:46.251405", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482726.251115, 'idle_time': 94.6980811249814, 'inference_duration_total': 0.02756295708240941, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:18:47.349900", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482727.349366, 'idle_time': 95.79632495797705, 'inference_duration_total': 0.025528034078888595, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:18:48.351185", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482728.350593, 'idle_time': 96.79754499997944, 'inference_duration_total': 0.025140835001366213, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:18:49.052377", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'c23418f0-a5f2-4423-856d-a1db069e26b7', 'timestamp': 1763482729.0518541, 'duration': 0.0, 'audio_duration': 5.09999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:18:49.352806", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482729.352252, 'idle_time': 97.79919762499048, 'inference_duration_total': 0.030337499047163874, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:18:50.352025", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482730.351796, 'idle_time': 98.79873529198812, 'inference_duration_total': 0.02666699790279381, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:18:51.451449", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482731.4510562, 'idle_time': 99.89798783298465, 'inference_duration_total': 0.03393346193479374, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:18:52.451803", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482732.451411, 'idle_time': 100.89833604198066, 'inference_duration_total': 0.031024955969769508, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:18:53.453820", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482733.452637, 'idle_time': 101.89955583299161, 'inference_duration_total': 0.02675233388436027, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:18:54.150640", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'c23418f0-a5f2-4423-856d-a1db069e26b7', 'timestamp': 1763482734.150313, 'duration': 0.0, 'audio_duration': 5.09999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:18:54.451708", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482734.451433, 'idle_time': 102.89834499999415, 'inference_duration_total': 0.028263668064028025, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:18:55.451720", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482735.451421, 'idle_time': 103.89832587499404, 'inference_duration_total': 0.03532133492990397, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:18:56.551875", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482736.5513642, 'idle_time': 104.99826170798042, 'inference_duration_total': 0.030269209906691685, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:18:57.552882", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482737.552533, 'idle_time': 105.9994236670027, 'inference_duration_total': 0.029503916070098057, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:18:58.552998", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482738.552629, 'idle_time': 106.99951304198476, 'inference_duration_total': 0.029806124977767467, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:18:59.151711", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'c23418f0-a5f2-4423-856d-a1db069e26b7', 'timestamp': 1763482739.1514828, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:18:59.553008", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482739.5526621, 'idle_time': 107.999539041979, 'inference_duration_total': 0.029383871849859133, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:19:00.655053", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482740.6534688, 'idle_time': 109.10033941699658, 'inference_duration_total': 0.05139470993890427, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:19:01.653859", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482741.6532888, 'idle_time': 110.10015216699685, 'inference_duration_total': 0.031259996991138905, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:19:02.656501", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482742.654412, 'idle_time': 111.10126854199916, 'inference_duration_total': 0.037654665065929294, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:19:03.654224", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482743.6535711, 'idle_time': 112.10042116697878, 'inference_duration_total': 0.03558225094457157, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:19:04.152676", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'c23418f0-a5f2-4423-856d-a1db069e26b7', 'timestamp': 1763482744.152247, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:19:04.752288", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482744.751959, 'idle_time': 113.1988017919939, 'inference_duration_total': 0.03388754796469584, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:19:05.754889", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482745.754344, 'idle_time': 114.20118041697424, 'inference_duration_total': 0.0326161689881701, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:19:06.754043", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482746.753543, 'idle_time': 115.20037245799904, 'inference_duration_total': 0.04276012198533863, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:19:07.754167", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482747.7533271, 'idle_time': 116.20014987498871, 'inference_duration_total': 0.03370412590447813, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:19:08.851264", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482748.850704, 'idle_time': 117.29751970799407, 'inference_duration_total': 0.03029029007302597, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:19:09.261239", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'c23418f0-a5f2-4423-856d-a1db069e26b7', 'timestamp': 1763482749.2544708, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:19:09.852409", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482749.851824, 'idle_time': 118.29863295800169, 'inference_duration_total': 0.043192837008973584, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:19:10.854708", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482750.854421, 'idle_time': 119.30122241697973, 'inference_duration_total': 0.03578958092839457, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:19:11.856317", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482751.855399, 'idle_time': 120.30219366698293, 'inference_duration_total': 0.03255332700791769, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:19:12.953129", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482752.952536, 'idle_time': 121.39932391699404, 'inference_duration_total': 0.03592103987466544, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:19:13.953047", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482753.9524758, 'idle_time': 122.39925699998275, 'inference_duration_total': 0.03420774807455018, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:19:14.251951", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'c23418f0-a5f2-4423-856d-a1db069e26b7', 'timestamp': 1763482754.251488, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:19:14.953353", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482754.952985, 'idle_time': 123.39975904198945, 'inference_duration_total': 0.0315498769050464, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:19:15.954483", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482755.954001, 'idle_time': 124.40076899999985, 'inference_duration_total': 0.029487752966815606, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:19:17.053977", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482757.0529852, 'idle_time': 125.49974566698074, 'inference_duration_total': 0.03507833005278371, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:19:18.056502", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482758.051245, 'idle_time': 126.49799887498375, 'inference_duration_total': 0.037666296877432615, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:19:19.268060", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'c23418f0-a5f2-4423-856d-a1db069e26b7', 'timestamp': 1763482759.2656908, 'duration': 0.0, 'audio_duration': 4.799999999999991, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:19:19.271094", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482759.270729, 'idle_time': 127.71747404200141, 'inference_duration_total': 0.15267625101841986, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:19:20.270806", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482760.2705019, 'idle_time': 128.7172408749757, 'inference_duration_total': 0.04422179303946905, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:19:21.266342", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482761.266037, 'idle_time': 129.71276916697389, 'inference_duration_total': 0.030794620979577303, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:19:22.365570", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482762.365217, 'idle_time': 130.81194200000027, 'inference_duration_total': 0.03609425004106015, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:19:23.366617", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482763.366176, 'idle_time': 131.8128936669964, 'inference_duration_total': 0.032386790961027145, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:19:24.364894", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'c23418f0-a5f2-4423-856d-a1db069e26b7', 'timestamp': 1763482764.364301, 'duration': 0.0, 'audio_duration': 5.09999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:19:24.368288", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482764.3679721, 'idle_time': 132.81468345798203, 'inference_duration_total': 0.031105252041015774, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:19:25.367493", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482765.367059, 'idle_time': 133.81376383299357, 'inference_duration_total': 0.03443624504143372, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:19:26.467223", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482766.4662888, 'idle_time': 134.91298624998308, 'inference_duration_total': 0.03182941998238675, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:19:27.468277", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482767.467713, 'idle_time': 135.9144034999772, 'inference_duration_total': 0.04210408602375537, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:19:28.469721", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482768.469163, 'idle_time': 136.9158473330026, 'inference_duration_total': 0.0412104609713424, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:19:29.367356", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'c23418f0-a5f2-4423-856d-a1db069e26b7', 'timestamp': 1763482769.3667278, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:19:29.468032", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482769.467515, 'idle_time': 137.91419208300067, 'inference_duration_total': 0.041358957008924335, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:19:30.565776", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482770.565127, 'idle_time': 139.0117966249818, 'inference_duration_total': 0.03706908205640502, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:19:31.566746", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482771.5661728, 'idle_time': 140.0128365829878, 'inference_duration_total': 0.04048433495336212, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:19:32.566941", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482772.5663612, 'idle_time': 141.01301799999783, 'inference_duration_total': 0.03684383098152466, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:19:33.567754", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482773.567164, 'idle_time': 142.01381399997626, 'inference_duration_total': 0.03940945788053796, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:19:34.465128", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'c23418f0-a5f2-4423-856d-a1db069e26b7', 'timestamp': 1763482774.464868, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:19:34.665859", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482774.665332, 'idle_time': 143.11197445797734, 'inference_duration_total': 0.036210289981681854, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:19:35.669267", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482775.668811, 'idle_time': 144.11544633298763, 'inference_duration_total': 0.03650937392376363, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:19:36.668991", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482776.6685069, 'idle_time': 145.11513604197535, 'inference_duration_total': 0.03466991905588657, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:19:37.669510", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482777.6690218, 'idle_time': 146.11564462498063, 'inference_duration_total': 0.04391300099086948, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:19:38.765076", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482778.764593, 'idle_time': 147.2112081249943, 'inference_duration_total': 0.03937937898444943, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:19:39.468247", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'c23418f0-a5f2-4423-856d-a1db069e26b7', 'timestamp': 1763482779.467832, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:19:39.765009", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482779.764548, 'idle_time': 148.21115670798463, 'inference_duration_total': 0.044175376009661704, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:19:40.766097", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482780.765684, 'idle_time': 149.21228562499164, 'inference_duration_total': 0.02974312601145357, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:19:41.766389", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482781.765887, 'idle_time': 150.21248162499978, 'inference_duration_total': 0.03830046096118167, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:19:42.864579", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482782.864185, 'idle_time': 151.3107725000009, 'inference_duration_total': 0.033820001932326704, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:19:43.865369", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482783.864885, 'idle_time': 152.31146583298687, 'inference_duration_total': 0.03950887289829552, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:19:44.466848", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'c23418f0-a5f2-4423-856d-a1db069e26b7', 'timestamp': 1763482784.466227, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:19:44.866464", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482784.86591, 'idle_time': 153.31248399999458, 'inference_duration_total': 0.040116708987625316, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:19:45.867934", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482785.8673868, 'idle_time': 154.31395449998672, 'inference_duration_total': 0.0360279219748918, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:19:46.866720", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482786.865591, 'idle_time': 155.31215204199543, 'inference_duration_total': 0.0548336660140194, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:19:47.967044", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482787.966389, 'idle_time': 156.4129424999992, 'inference_duration_total': 0.04902912600664422, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:19:48.972815", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482788.9692318, 'idle_time': 157.4157792920014, 'inference_duration_total': 0.04047595598967746, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:19:49.562547", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'c23418f0-a5f2-4423-856d-a1db069e26b7', 'timestamp': 1763482789.561316, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:19:49.963923", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482789.9636438, 'idle_time': 158.4101843329845, 'inference_duration_total': 0.04637599704437889, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:19:50.966060", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482790.9658968, 'idle_time': 159.41242991699255, 'inference_duration_total': 0.022808044916018844, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:19:52.062215", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482792.0620291, 'idle_time': 160.50855487497756, 'inference_duration_total': 0.021773417916847393, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:19:53.063945", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482793.0636249, 'idle_time': 161.51014466700144, 'inference_duration_total': 0.02211520788841881, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:19:54.066950", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482794.066419, 'idle_time': 162.51293124997756, 'inference_duration_total': 0.02372025395743549, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:19:54.561778", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'c23418f0-a5f2-4423-856d-a1db069e26b7', 'timestamp': 1763482794.56158, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:19:55.065008", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482795.064833, 'idle_time': 163.51133862498682, 'inference_duration_total': 0.02230349907767959, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:19:56.162240", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482796.1620748, 'idle_time': 164.60857308298, 'inference_duration_total': 0.0178610828879755, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:19:57.162440", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482797.162267, 'idle_time': 165.60875845799455, 'inference_duration_total': 0.025350249983603135, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:19:57.972898", "level": "INFO", "logger": "livekit.agents", "message": "shutting down worker"}
{"timestamp": "2025-11-18T16:19:57.975805", "level": "DEBUG", "logger": "livekit.agents", "message": "shutting down job task"}
{"timestamp": "2025-11-18T16:19:57.991741", "level": "DEBUG", "logger": "livekit.agents", "message": "job exiting"}
{"timestamp": "2025-11-18T16:19:58.641375", "level": "WARNING", "logger": "livekit.agents", "message": "exiting forcefully"}
{"timestamp": "2025-11-18T16:20:01.305812", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-18T16:20:01.307217", "level": "INFO", "logger": "livekit.agents", "message": "starting worker"}
{"timestamp": "2025-11-18T16:20:01.309550", "level": "INFO", "logger": "livekit.agents", "message": "initializing job runner"}
{"timestamp": "2025-11-18T16:20:01.311437", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-18T16:20:01.311758", "level": "INFO", "logger": "livekit.agents", "message": "job runner initialized"}
{"timestamp": "2025-11-18T16:20:01.343944", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udd0c Redis Connected: True"}
{"timestamp": "2025-11-18T16:20:01.344325", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Incoming call from: mock_user"}
{"timestamp": "2025-11-18T16:20:01.345134", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Caller Phone Detected (normalized): None"}
{"timestamp": "2025-11-18T16:20:01.900641", "level": "DEBUG", "logger": "livekit.agents", "message": "http_session(): creating a new httpclient ctx"}
{"timestamp": "2025-11-18T16:20:01.909395", "level": "DEBUG", "logger": "livekit.agents", "message": "using audio io: `ChatCLI` -> `AgentSession` -> `TranscriptSynchronizer` -> `ChatCLI`"}
{"timestamp": "2025-11-18T16:20:01.909636", "level": "DEBUG", "logger": "livekit.agents", "message": "using transcript io: `AgentSession` -> `TranscriptSynchronizer` -> `ChatCLI`"}
{"timestamp": "2025-11-18T16:20:03.023404", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482803.02201, 'idle_time': 1.1149931250256486, 'inference_duration_total': 0.027873626968357712, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:20:03.024112", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:03.448565", "level": "WARNING", "logger": "livekit.agents", "message": "failed to generate LLM completion, retrying in 0.1s", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/agents/llm/llm.py\", line 190, in _main_task\n    return await self._run()\n           ^^^^^^^^^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/agents/inference/llm.py\", line 341, in _run\n    raise APIStatusError(\nlivekit.agents._exceptions.APIStatusError: Error code: 400 - {'error': {'message': \"Unsupported value: 'temperature' does not support 0.7 with this model. Only the default (1) value is supported.\", 'type': 'invalid_request_error', 'param': 'temperature', 'code': 'unsupported_value'}} (status_code=400, request_id=req_0791760e14a34bddb9be85dc04b8fdc4, body={'message': \"Unsupported value: 'temperature' does not support 0.7 with this model. Only the default (1) value is supported.\", 'type': 'invalid_request_error', 'param': 'temperature', 'code': 'unsupported_value'}, retryable=True)"}
{"timestamp": "2025-11-18T16:20:04.023808", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482804.0231638, 'idle_time': 2.11613941701944, 'inference_duration_total': 0.035292958054924384, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:20:04.024375", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:04.884775", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-18T16:20:04.890605", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763482804.889707, 'end_of_utterance_delay': 2.941711902618408, 'transcription_delay': 2.9410998821258545, 'on_user_turn_completed_delay': 1.9073486328125e-06, 'last_speaking_time': 1763482801.944154, 'speech_id': 'speech_953b89d92a66', 'metadata': None}}"}
{"timestamp": "2025-11-18T16:20:04.890954", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:05.021891", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482805.0216372, 'idle_time': 3.1146059590100776, 'inference_duration_total': 0.1121991669642739, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:20:05.022254", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:05.977555", "level": "WARNING", "logger": "livekit.agents", "message": "failed to generate LLM completion, retrying in 0.1s", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/agents/llm/llm.py\", line 190, in _main_task\n    return await self._run()\n           ^^^^^^^^^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/agents/inference/llm.py\", line 341, in _run\n    raise APIStatusError(\nlivekit.agents._exceptions.APIStatusError: Error code: 400 - {'error': {'message': \"Unsupported value: 'temperature' does not support 0.7 with this model. Only the default (1) value is supported.\", 'type': 'invalid_request_error', 'param': 'temperature', 'code': 'unsupported_value'}} (status_code=400, request_id=req_3aebb8ec53cf41f396e708ac708add06, body={'message': \"Unsupported value: 'temperature' does not support 0.7 with this model. Only the default (1) value is supported.\", 'type': 'invalid_request_error', 'param': 'temperature', 'code': 'unsupported_value'}, retryable=True)"}
{"timestamp": "2025-11-18T16:20:06.024419", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482806.024144, 'idle_time': 4.117106834019069, 'inference_duration_total': 0.025623960129451007, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:20:06.024724", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:06.464235", "level": "WARNING", "logger": "livekit.agents", "message": "failed to generate LLM completion, retrying in 2.0s", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/agents/llm/llm.py\", line 190, in _main_task\n    return await self._run()\n           ^^^^^^^^^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/agents/inference/llm.py\", line 341, in _run\n    raise APIStatusError(\nlivekit.agents._exceptions.APIStatusError: Error code: 400 - {'error': {'message': \"Unsupported value: 'temperature' does not support 0.7 with this model. Only the default (1) value is supported.\", 'type': 'invalid_request_error', 'param': 'temperature', 'code': 'unsupported_value'}} (status_code=400, request_id=req_c548023eaf7a427391012e55773210d0, body={'message': \"Unsupported value: 'temperature' does not support 0.7 with this model. Only the default (1) value is supported.\", 'type': 'invalid_request_error', 'param': 'temperature', 'code': 'unsupported_value'}, retryable=True)"}
{"timestamp": "2025-11-18T16:20:06.924104", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '604f8067-756f-4b99-b6c4-b98ff31e384e', 'timestamp': 1763482806.923361, 'duration': 0.0, 'audio_duration': 4.899999999999991, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:20:06.926093", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:07.122912", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482807.122391, 'idle_time': 5.21534641701146, 'inference_duration_total': 0.04063532911823131, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:20:07.123467", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:08.120040", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482808.1198132, 'idle_time': 6.21276133399806, 'inference_duration_total': 0.032928503991570324, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:20:08.120339", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:09.124803", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482809.12444, 'idle_time': 7.217382000002544, 'inference_duration_total': 0.039261460973648354, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:20:09.125127", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:09.218402", "level": "WARNING", "logger": "livekit.agents", "message": "failed to generate LLM completion, retrying in 2.0s", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/agents/llm/llm.py\", line 190, in _main_task\n    return await self._run()\n           ^^^^^^^^^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/agents/inference/llm.py\", line 341, in _run\n    raise APIStatusError(\nlivekit.agents._exceptions.APIStatusError: Error code: 400 - {'error': {'message': \"Unsupported value: 'temperature' does not support 0.7 with this model. Only the default (1) value is supported.\", 'type': 'invalid_request_error', 'param': 'temperature', 'code': 'unsupported_value'}} (status_code=400, request_id=req_ae601db611f54f37a36c9b614ecee0e1, body={'message': \"Unsupported value: 'temperature' does not support 0.7 with this model. Only the default (1) value is supported.\", 'type': 'invalid_request_error', 'param': 'temperature', 'code': 'unsupported_value'}, retryable=True)"}
{"timestamp": "2025-11-18T16:20:10.124085", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482810.123436, 'idle_time': 8.216370917012682, 'inference_duration_total': 0.03618237000773661, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:20:10.125938", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:11.221843", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482811.220596, 'idle_time': 9.313523250020808, 'inference_duration_total': 0.03401404191390611, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:20:11.222498", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:11.666457", "level": "ERROR", "logger": "livekit.agents", "message": "Error in _llm_inference_task", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/agents/llm/llm.py\", line 190, in _main_task\n    return await self._run()\n           ^^^^^^^^^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/agents/inference/llm.py\", line 341, in _run\n    raise APIStatusError(\nlivekit.agents._exceptions.APIStatusError: Error code: 400 - {'error': {'message': \"Unsupported value: 'temperature' does not support 0.7 with this model. Only the default (1) value is supported.\", 'type': 'invalid_request_error', 'param': 'temperature', 'code': 'unsupported_value'}} (status_code=400, request_id=req_d593fa12a23145a0960c4f405ed0294f, body={'message': \"Unsupported value: 'temperature' does not support 0.7 with this model. Only the default (1) value is supported.\", 'type': 'invalid_request_error', 'param': 'temperature', 'code': 'unsupported_value'}, retryable=True)\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/agents/utils/log.py\", line 16, in async_fn_logs\n    return await fn(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/opentelemetry/util/_decorator.py\", line 71, in async_wrapper\n    return await func(*args, **kwargs)  # type: ignore\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/agents/voice/generation.py\", line 125, in _llm_inference_task\n    async for chunk in llm_node:\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/agents/voice/agent.py\", line 402, in llm_node\n    async for chunk in stream:\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/agents/llm/llm.py\", line 344, in __anext__\n    raise exc  # noqa: B904\n    ^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/opentelemetry/util/_decorator.py\", line 71, in async_wrapper\n    return await func(*args, **kwargs)  # type: ignore\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/agents/llm/llm.py\", line 202, in _main_task\n    raise APIConnectionError(\nlivekit.agents._exceptions.APIConnectionError: failed to generate LLM completion after 4 attempts (body=None, retryable=True)"}
{"timestamp": "2025-11-18T16:20:11.923125", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '604f8067-756f-4b99-b6c4-b98ff31e384e', 'timestamp': 1763482811.922549, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:20:11.923638", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:12.225148", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482812.224946, 'idle_time': 10.317867083998863, 'inference_duration_total': 0.028749538061674684, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:20:12.225357", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:13.221261", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482813.2208781, 'idle_time': 11.313791959022637, 'inference_duration_total': 0.03987558084190823, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:20:13.221547", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:14.222202", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482814.221925, 'idle_time': 12.314832917007152, 'inference_duration_total': 0.02352995701949112, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:20:14.222832", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:15.321062", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482815.320789, 'idle_time': 13.413689375011018, 'inference_duration_total': 0.01890308497240767, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:20:15.321486", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:16.322206", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482816.32188, 'idle_time': 14.414773124997737, 'inference_duration_total': 0.02586066588992253, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:20:16.322675", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:16.925305", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '604f8067-756f-4b99-b6c4-b98ff31e384e', 'timestamp': 1763482816.924824, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:20:16.925743", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:17.323996", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482817.322526, 'idle_time': 15.415412458998617, 'inference_duration_total': 0.029682207008590922, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:20:17.324754", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:18.320824", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482818.320519, 'idle_time': 16.413399584009312, 'inference_duration_total': 0.02174291794653982, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:20:18.321079", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:18.960153", "level": "INFO", "logger": "livekit.agents", "message": "shutting down worker"}
{"timestamp": "2025-11-18T16:20:18.961066", "level": "DEBUG", "logger": "livekit.agents", "message": "shutting down job task"}
{"timestamp": "2025-11-18T16:20:18.968112", "level": "DEBUG", "logger": "livekit.agents", "message": "job exiting"}
{"timestamp": "2025-11-18T16:20:19.159151", "level": "WARNING", "logger": "livekit.agents", "message": "exiting forcefully"}
{"timestamp": "2025-11-18T16:20:20.994481", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-18T16:20:20.996195", "level": "INFO", "logger": "livekit.agents", "message": "starting worker"}
{"timestamp": "2025-11-18T16:20:20.998210", "level": "INFO", "logger": "livekit.agents", "message": "initializing job runner"}
{"timestamp": "2025-11-18T16:20:20.998295", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-18T16:20:20.998631", "level": "INFO", "logger": "livekit.agents", "message": "job runner initialized"}
{"timestamp": "2025-11-18T16:20:21.025223", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udd0c Redis Connected: True"}
{"timestamp": "2025-11-18T16:20:21.025558", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Incoming call from: mock_user"}
{"timestamp": "2025-11-18T16:20:21.026183", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Caller Phone Detected (normalized): None"}
{"timestamp": "2025-11-18T16:20:21.439614", "level": "DEBUG", "logger": "livekit.agents", "message": "http_session(): creating a new httpclient ctx"}
{"timestamp": "2025-11-18T16:20:21.448907", "level": "DEBUG", "logger": "livekit.agents", "message": "using audio io: `ChatCLI` -> `AgentSession` -> `TranscriptSynchronizer` -> `ChatCLI`"}
{"timestamp": "2025-11-18T16:20:21.449207", "level": "DEBUG", "logger": "livekit.agents", "message": "using transcript io: `AgentSession` -> `TranscriptSynchronizer` -> `ChatCLI`"}
{"timestamp": "2025-11-18T16:20:22.562686", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482822.5614872, 'idle_time': 1.115038000018103, 'inference_duration_total': 0.019565164955565706, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:20:22.563136", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:22.885664", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIjGDuGRfNdfvLVCMbRoz8vaPBLu', 'timestamp': 1763482822.884665, 'duration': 1.4323227079876233, 'ttft': 1.1406892079976387, 'cancelled': False, 'completion_tokens': 11, 'prompt_tokens': 1331, 'prompt_cached_tokens': 0, 'total_tokens': 1342, 'tokens_per_second': 7.679833558915448, 'speech_id': 'speech_2dc8bd915ffc', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:20:22.885918", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:23.564645", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482823.564179, 'idle_time': 2.117723458010005, 'inference_duration_total': 0.03894650298752822, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:20:23.565113", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:24.522960", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_cb8c10f65290438e998010c7cf6ee4af', 'timestamp': 1763482824.522552, 'ttfb': 1.2013167919940315, 'duration': 1.6331064169935416, 'audio_duration': 2.698, 'cancelled': False, 'characters_count': 41, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_2dc8bd915ffc', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:20:24.523175", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:24.561278", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482824.561127, 'idle_time': 3.114665083005093, 'inference_duration_total': 0.022696003055898473, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:20:24.561436", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:25.562767", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482825.562266, 'idle_time': 4.115796833008062, 'inference_duration_total': 0.026325121871195734, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:20:25.563079", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:26.461293", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '71aa7844-37a7-4720-8bc9-702eb686fee8', 'timestamp': 1763482826.4607449, 'duration': 0.0, 'audio_duration': 4.899999999999991, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:20:26.461813", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:26.664162", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482826.6636422, 'idle_time': 5.217166125017684, 'inference_duration_total': 0.028752085025189444, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:20:26.664833", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:27.660918", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482827.660523, 'idle_time': 6.214039750018856, 'inference_duration_total': 0.028708459984045476, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:20:27.661647", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:28.663184", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482828.6629188, 'idle_time': 7.216429374995641, 'inference_duration_total': 0.020409708900842816, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:20:28.663584", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:29.661753", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482829.661579, 'idle_time': 8.215082458016695, 'inference_duration_total': 0.021394584007794037, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:20:29.661923", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:30.762857", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482830.7615411, 'idle_time': 9.315037499996834, 'inference_duration_total': 0.04493254094268195, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:20:30.763393", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:31.460901", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '71aa7844-37a7-4720-8bc9-702eb686fee8', 'timestamp': 1763482831.460595, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:20:31.461346", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:31.762884", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482831.762364, 'idle_time': 10.315853292006068, 'inference_duration_total': 0.029701373889110982, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:20:31.763344", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:32.764581", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482832.763919, 'idle_time': 11.317401958018309, 'inference_duration_total': 0.02897087301244028, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:20:32.764913", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:33.763164", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482833.762568, 'idle_time': 12.316044542007148, 'inference_duration_total': 0.028031959052896127, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:20:33.763657", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:34.860414", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482834.859974, 'idle_time': 13.413442542019766, 'inference_duration_total': 0.029973293014336377, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:20:34.860932", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:35.880975", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482835.880194, 'idle_time': 14.433655750006437, 'inference_duration_total': 0.0558657459623646, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:20:35.881403", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:36.559367", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '71aa7844-37a7-4720-8bc9-702eb686fee8', 'timestamp': 1763482836.559096, 'duration': 0.0, 'audio_duration': 5.09999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:20:36.560546", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:36.862721", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482836.862272, 'idle_time': 15.415727667015744, 'inference_duration_total': 0.025034954043803737, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:20:36.863060", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:37.863323", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482837.863009, 'idle_time': 16.41645754201454, 'inference_duration_total': 0.024866671970812604, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:20:37.863601", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:38.960167", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482838.959302, 'idle_time': 17.512743333005346, 'inference_duration_total': 0.02722470700973645, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:20:38.960887", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:39.960952", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482839.960738, 'idle_time': 18.514172791998135, 'inference_duration_total': 0.029703000094741583, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:20:39.961266", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:40.959632", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482840.959401, 'idle_time': 19.51282870801515, 'inference_duration_total': 0.01985425004386343, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:20:40.960157", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:41.560863", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '71aa7844-37a7-4720-8bc9-702eb686fee8', 'timestamp': 1763482841.560482, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:20:41.561262", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:41.974793", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482841.973971, 'idle_time': 20.52739175001625, 'inference_duration_total': 0.026436126994667575, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:20:41.975743", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:43.059844", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482843.05891, 'idle_time': 21.612323750014184, 'inference_duration_total': 0.024421750946203247, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:20:43.060541", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:44.060672", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482844.060439, 'idle_time': 22.6138461670198, 'inference_duration_total': 0.022503833955852315, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:20:44.061091", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:45.062941", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482845.062631, 'idle_time': 23.61603145801928, 'inference_duration_total': 0.026480126107344404, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:20:45.063278", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:46.063242", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482846.062277, 'idle_time': 24.615671083010966, 'inference_duration_total': 0.034897837031167, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:20:46.063753", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:46.561993", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '71aa7844-37a7-4720-8bc9-702eb686fee8', 'timestamp': 1763482846.561385, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:20:46.562535", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:47.161405", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482847.160821, 'idle_time': 25.714207417011494, 'inference_duration_total': 0.035630870930617675, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:20:47.162179", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:48.160258", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482848.159952, 'idle_time': 26.713331708015176, 'inference_duration_total': 0.03067308201570995, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:20:48.161194", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:49.161197", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482849.160854, 'idle_time': 27.714227457996458, 'inference_duration_total': 0.02328074790420942, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:20:49.161601", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:50.163709", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482850.16205, 'idle_time': 28.71541599999182, 'inference_duration_total': 0.031535540998447686, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:20:50.164376", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:51.163707", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482851.163393, 'idle_time': 29.71675283301738, 'inference_duration_total': 0.024492331023793668, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:20:51.164038", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:51.562832", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '71aa7844-37a7-4720-8bc9-702eb686fee8', 'timestamp': 1763482851.562282, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:20:51.563230", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:52.261082", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482852.260756, 'idle_time': 30.814108042017324, 'inference_duration_total': 0.04220700595760718, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:20:52.261504", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:53.262132", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482853.261804, 'idle_time': 31.815149833011674, 'inference_duration_total': 0.03141291599604301, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:20:53.262491", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:54.265925", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482854.2640011, 'idle_time': 32.8173402500106, 'inference_duration_total': 0.05138904298655689, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:20:54.267053", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:55.263393", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482855.263226, 'idle_time': 33.81655849999515, 'inference_duration_total': 0.020119836000958458, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:20:55.263566", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:56.359930", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482856.359693, 'idle_time': 34.91301824999391, 'inference_duration_total': 0.026155580184422433, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:20:56.360263", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:56.663177", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '71aa7844-37a7-4720-8bc9-702eb686fee8', 'timestamp': 1763482856.662726, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:20:56.663898", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:57.360868", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482857.3606322, 'idle_time': 35.91394995801966, 'inference_duration_total': 0.028008416120428592, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:20:57.361192", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:58.362119", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482858.3616152, 'idle_time': 36.91492679200019, 'inference_duration_total': 0.023366786015685648, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:20:58.362422", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:20:59.361178", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482859.3609972, 'idle_time': 37.914301375014475, 'inference_duration_total': 0.02130470797419548, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:20:59.361349", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    # \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:21:00.465437", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482860.463604, 'idle_time': 39.0169014169951, 'inference_duration_total': 0.022337043919833377, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:21:00.466408", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 287, in on_metrics\n    # \"session_id\": session.session_id,\n                  ^^^^^^^^^^^^^^^^^^\nAttributeError: 'AgentSession' object has no attribute 'session_id'"}
{"timestamp": "2025-11-18T16:21:00.716463", "level": "INFO", "logger": "livekit.agents", "message": "shutting down worker"}
{"timestamp": "2025-11-18T16:21:00.718715", "level": "DEBUG", "logger": "livekit.agents", "message": "shutting down job task"}
{"timestamp": "2025-11-18T16:21:00.727870", "level": "DEBUG", "logger": "livekit.agents", "message": "job exiting"}
{"timestamp": "2025-11-18T16:21:02.734177", "level": "DEBUG", "logger": "livekit.agents", "message": "session closed"}
{"timestamp": "2025-11-18T16:21:02.734610", "level": "DEBUG", "logger": "livekit.agents", "message": "http_session(): closing the httpclient ctx"}
{"timestamp": "2025-11-18T16:21:05.819107", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-18T16:21:05.821398", "level": "INFO", "logger": "livekit.agents", "message": "starting worker"}
{"timestamp": "2025-11-18T16:21:05.823433", "level": "INFO", "logger": "livekit.agents", "message": "initializing job runner"}
{"timestamp": "2025-11-18T16:21:05.823581", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-18T16:21:05.823927", "level": "INFO", "logger": "livekit.agents", "message": "job runner initialized"}
{"timestamp": "2025-11-18T16:21:05.851714", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udd0c Redis Connected: True"}
{"timestamp": "2025-11-18T16:21:05.852051", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Incoming call from: mock_user"}
{"timestamp": "2025-11-18T16:21:05.852720", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Caller Phone Detected (normalized): None"}
{"timestamp": "2025-11-18T16:21:06.277426", "level": "DEBUG", "logger": "livekit.agents", "message": "http_session(): creating a new httpclient ctx"}
{"timestamp": "2025-11-18T16:21:06.289896", "level": "DEBUG", "logger": "livekit.agents", "message": "using audio io: `ChatCLI` -> `AgentSession` -> `TranscriptSynchronizer` -> `ChatCLI`"}
{"timestamp": "2025-11-18T16:21:06.290554", "level": "DEBUG", "logger": "livekit.agents", "message": "using transcript io: `AgentSession` -> `TranscriptSynchronizer` -> `ChatCLI`"}
{"timestamp": "2025-11-18T16:21:07.398173", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482867.397599, 'idle_time': 1.1136199589818716, 'inference_duration_total': 0.029633291123900563, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:21:07.398647", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 288, in on_metrics\n    \"tools\": logs\n             ^^^^\nNameError: name 'logs' is not defined"}
{"timestamp": "2025-11-18T16:21:07.471983", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIjzA5MLB2qexQE7HVi7XOQD9ACz', 'timestamp': 1763482867.470571, 'duration': 1.1748133749933913, 'ttft': 0.8983172919834033, 'cancelled': False, 'completion_tokens': 11, 'prompt_tokens': 1331, 'prompt_cached_tokens': 1280, 'total_tokens': 1342, 'tokens_per_second': 9.363189281073582, 'speech_id': 'speech_1bf4c4dad5fc', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:21:07.472176", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 288, in on_metrics\n    \"tools\": logs\n             ^^^^\nNameError: name 'logs' is not defined"}
{"timestamp": "2025-11-18T16:21:08.402088", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482868.4014668, 'idle_time': 2.1174806669878308, 'inference_duration_total': 0.035174165008356795, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:21:08.402717", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 288, in on_metrics\n    \"tools\": logs\n             ^^^^\nNameError: name 'logs' is not defined"}
{"timestamp": "2025-11-18T16:21:09.397788", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482869.397281, 'idle_time': 3.113288291991921, 'inference_duration_total': 0.10870437807170674, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:21:09.398021", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 288, in on_metrics\n    \"tools\": logs\n             ^^^^\nNameError: name 'logs' is not defined"}
{"timestamp": "2025-11-18T16:21:10.399713", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482870.39953, 'idle_time': 4.1155302499828395, 'inference_duration_total': 0.019073461968218908, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:21:10.401114", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 288, in on_metrics\n    \"tools\": logs\n             ^^^^\nNameError: name 'logs' is not defined"}
{"timestamp": "2025-11-18T16:21:10.522943", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:21:10.721799", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:21:10.993940", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:21:10.994187", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:21:11.291813", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:21:11.292152", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:21:11.297478", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '955ecc1d-8050-4c02-b204-4f483a869c40', 'timestamp': 1763482871.297159, 'duration': 0.0, 'audio_duration': 4.899999999999991, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:21:11.298104", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 288, in on_metrics\n    \"tools\": logs\n             ^^^^\nNameError: name 'logs' is not defined"}
{"timestamp": "2025-11-18T16:21:11.497183", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482871.496923, 'idle_time': 5.212916583986953, 'inference_duration_total': 0.022648752899840474, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:21:11.497558", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 288, in on_metrics\n    \"tools\": logs\n             ^^^^\nNameError: name 'logs' is not defined"}
{"timestamp": "2025-11-18T16:21:11.585568", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_8dec3b705d8744fc83888db8bbe8187d', 'timestamp': 1763482871.584702, 'ttfb': 2.867789832991548, 'duration': 4.111596708011348, 'audio_duration': 2.194, 'cancelled': False, 'characters_count': 41, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_1bf4c4dad5fc', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:21:11.585770", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 288, in on_metrics\n    \"tools\": logs\n             ^^^^\nNameError: name 'logs' is not defined"}
{"timestamp": "2025-11-18T16:21:12.497059", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482872.496882, 'idle_time': 6.212868250004249, 'inference_duration_total': 0.023960078979143873, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:21:12.498195", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 288, in on_metrics\n    \"tools\": logs\n             ^^^^\nNameError: name 'logs' is not defined"}
{"timestamp": "2025-11-18T16:21:13.502639", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482873.502107, 'idle_time': 7.218086417007726, 'inference_duration_total': 0.024868458946002647, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:21:13.503199", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 288, in on_metrics\n    \"tools\": logs\n             ^^^^\nNameError: name 'logs' is not defined"}
{"timestamp": "2025-11-18T16:21:14.502506", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482874.501894, 'idle_time': 8.217866749997484, 'inference_duration_total': 0.02389904102892615, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:21:14.503023", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 288, in on_metrics\n    \"tools\": logs\n             ^^^^\nNameError: name 'logs' is not defined"}
{"timestamp": "2025-11-18T16:21:15.601553", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482875.6009002, 'idle_time': 9.316866042005131, 'inference_duration_total': 0.033678081032121554, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:21:15.602064", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 288, in on_metrics\n    \"tools\": logs\n             ^^^^\nNameError: name 'logs' is not defined"}
{"timestamp": "2025-11-18T16:21:16.299913", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '955ecc1d-8050-4c02-b204-4f483a869c40', 'timestamp': 1763482876.2993321, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:21:16.300599", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 288, in on_metrics\n    \"tools\": logs\n             ^^^^\nNameError: name 'logs' is not defined"}
{"timestamp": "2025-11-18T16:21:16.602874", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482876.602253, 'idle_time': 10.318223624984967, 'inference_duration_total': 0.039183210086775944, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:21:16.603374", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 288, in on_metrics\n    \"tools\": logs\n             ^^^^\nNameError: name 'logs' is not defined"}
{"timestamp": "2025-11-18T16:21:17.602768", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482877.602068, 'idle_time': 11.317435334000038, 'inference_duration_total': 0.03859970695339143, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:21:17.603306", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 288, in on_metrics\n    \"tools\": logs\n             ^^^^\nNameError: name 'logs' is not defined"}
{"timestamp": "2025-11-18T16:21:18.604600", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482878.603955, 'idle_time': 12.317888083984144, 'inference_duration_total': 0.035222459031501785, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:21:18.605761", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 288, in on_metrics\n    \"tools\": logs\n             ^^^^\nNameError: name 'logs' is not defined"}
{"timestamp": "2025-11-18T16:21:19.699872", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482879.699639, 'idle_time': 13.412108999997145, 'inference_duration_total': 0.022809788963058963, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:21:19.700261", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 288, in on_metrics\n    \"tools\": logs\n             ^^^^\nNameError: name 'logs' is not defined"}
{"timestamp": "2025-11-18T16:21:20.704524", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482880.7039738, 'idle_time': 14.415190208994318, 'inference_duration_total': 0.023063710948918015, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:21:20.705063", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 288, in on_metrics\n    \"tools\": logs\n             ^^^^\nNameError: name 'logs' is not defined"}
{"timestamp": "2025-11-18T16:21:21.306531", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '955ecc1d-8050-4c02-b204-4f483a869c40', 'timestamp': 1763482881.305608, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:21:21.306836", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 288, in on_metrics\n    \"tools\": logs\n             ^^^^\nNameError: name 'logs' is not defined"}
{"timestamp": "2025-11-18T16:21:21.706019", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482881.7054772, 'idle_time': 15.415520249982364, 'inference_duration_total': 0.02545224895584397, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:21:21.706393", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 288, in on_metrics\n    \"tools\": logs\n             ^^^^\nNameError: name 'logs' is not defined"}
{"timestamp": "2025-11-18T16:21:22.706289", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482882.7060301, 'idle_time': 16.41497454198543, 'inference_duration_total': 0.022119751054560766, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:21:22.706558", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 288, in on_metrics\n    \"tools\": logs\n             ^^^^\nNameError: name 'logs' is not defined"}
{"timestamp": "2025-11-18T16:21:23.808818", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482883.80805, 'idle_time': 17.515861749998294, 'inference_duration_total': 0.024069250066531822, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:21:23.809373", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 288, in on_metrics\n    \"tools\": logs\n             ^^^^\nNameError: name 'logs' is not defined"}
{"timestamp": "2025-11-18T16:21:24.808308", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482884.8057091, 'idle_time': 18.512562583986437, 'inference_duration_total': 0.026444795046700165, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:21:24.808986", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 288, in on_metrics\n    #     \"tools\": logs\n                 ^^^^\nNameError: name 'logs' is not defined"}
{"timestamp": "2025-11-18T16:21:25.809522", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482885.808819, 'idle_time': 19.514768291992368, 'inference_duration_total': 0.02926404107711278, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:21:25.810134", "level": "ERROR", "logger": "livekit", "message": "failed to emit event metrics_collected", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/rtc/event_emitter.py\", line 58, in emit\n    callback(*callback_args)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/main.py\", line 288, in on_metrics\n    #     \"tools\": logs\n                 ^^^^\nNameError: name 'logs' is not defined"}
{"timestamp": "2025-11-18T16:21:26.314544", "level": "INFO", "logger": "livekit.agents", "message": "shutting down worker"}
{"timestamp": "2025-11-18T16:21:26.315303", "level": "DEBUG", "logger": "livekit.agents", "message": "shutting down job task"}
{"timestamp": "2025-11-18T16:21:26.319707", "level": "DEBUG", "logger": "livekit.agents", "message": "job exiting"}
{"timestamp": "2025-11-18T16:21:26.568977", "level": "WARNING", "logger": "livekit.agents", "message": "exiting forcefully"}
{"timestamp": "2025-11-18T16:21:28.895657", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-18T16:21:28.897659", "level": "INFO", "logger": "livekit.agents", "message": "starting worker"}
{"timestamp": "2025-11-18T16:21:28.899741", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-18T16:21:28.899809", "level": "INFO", "logger": "livekit.agents", "message": "initializing job runner"}
{"timestamp": "2025-11-18T16:21:28.900250", "level": "INFO", "logger": "livekit.agents", "message": "job runner initialized"}
{"timestamp": "2025-11-18T16:21:28.932872", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udd0c Redis Connected: True"}
{"timestamp": "2025-11-18T16:21:28.933170", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Incoming call from: mock_user"}
{"timestamp": "2025-11-18T16:21:28.933779", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Caller Phone Detected (normalized): None"}
{"timestamp": "2025-11-18T16:21:29.381774", "level": "DEBUG", "logger": "livekit.agents", "message": "http_session(): creating a new httpclient ctx"}
{"timestamp": "2025-11-18T16:21:29.414922", "level": "DEBUG", "logger": "livekit.agents", "message": "using audio io: `ChatCLI` -> `AgentSession` -> `TranscriptSynchronizer` -> `ChatCLI`"}
{"timestamp": "2025-11-18T16:21:29.415147", "level": "DEBUG", "logger": "livekit.agents", "message": "using transcript io: `AgentSession` -> `TranscriptSynchronizer` -> `ChatCLI`"}
{"timestamp": "2025-11-18T16:21:30.505815", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482890.504562, 'idle_time': 1.092424333008239, 'inference_duration_total': 0.02497587591642514, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:21:31.507234", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482891.5065851, 'idle_time': 2.0938178750220686, 'inference_duration_total': 0.032917419011937454, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:21:31.531114", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIkMDPY03akX2hp9YlwNm6AVXzHk', 'timestamp': 1763482891.5285451, 'duration': 2.105180915998062, 'ttft': 1.6305185410019476, 'cancelled': False, 'completion_tokens': 11, 'prompt_tokens': 1331, 'prompt_cached_tokens': 0, 'total_tokens': 1342, 'tokens_per_second': 5.225204122081318, 'speech_id': 'speech_9acbdd2c4db7', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:21:32.504344", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482892.50372, 'idle_time': 3.090366000018548, 'inference_duration_total': 0.04271187091944739, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:21:32.777881", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_cd9fc6ec3a4a4ca18eb46a9390db73b2', 'timestamp': 1763482892.7774642, 'ttfb': 1.0724120840022806, 'duration': 1.2432489590137266, 'audio_duration': 2.1939999999999995, 'cancelled': False, 'characters_count': 41, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_9acbdd2c4db7', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:21:33.505684", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482893.505418, 'idle_time': 4.09151075000409, 'inference_duration_total': 0.022217167977942154, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:21:34.533967", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'caf43ddf-c805-4fd6-ba74-44bb2f1a92e8', 'timestamp': 1763482894.520185, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:21:34.623932", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482894.623532, 'idle_time': 5.209047917014686, 'inference_duration_total': 0.05876274895854294, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:21:35.604667", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482895.604088, 'idle_time': 6.189129333011806, 'inference_duration_total': 0.023104832973331213, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:21:36.606007", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482896.605389, 'idle_time': 7.189976042020135, 'inference_duration_total': 0.020704497845144942, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:21:36.763497", "level": "INFO", "logger": "livekit.agents", "message": "shutting down worker"}
{"timestamp": "2025-11-18T16:21:36.764803", "level": "DEBUG", "logger": "livekit.agents", "message": "shutting down job task"}
{"timestamp": "2025-11-18T16:21:36.771018", "level": "DEBUG", "logger": "livekit.agents", "message": "job exiting"}
{"timestamp": "2025-11-18T16:21:37.006250", "level": "WARNING", "logger": "livekit.agents", "message": "exiting forcefully"}
{"timestamp": "2025-11-18T16:21:39.111052", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-18T16:21:39.112733", "level": "INFO", "logger": "livekit.agents", "message": "starting worker"}
{"timestamp": "2025-11-18T16:21:39.115035", "level": "INFO", "logger": "livekit.agents", "message": "initializing job runner"}
{"timestamp": "2025-11-18T16:21:39.115270", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-18T16:21:39.115423", "level": "INFO", "logger": "livekit.agents", "message": "job runner initialized"}
{"timestamp": "2025-11-18T16:21:39.154657", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udd0c Redis Connected: True"}
{"timestamp": "2025-11-18T16:21:39.155153", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Incoming call from: mock_user"}
{"timestamp": "2025-11-18T16:21:39.155860", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Caller Phone Detected (normalized): None"}
{"timestamp": "2025-11-18T16:21:39.590348", "level": "DEBUG", "logger": "livekit.agents", "message": "http_session(): creating a new httpclient ctx"}
{"timestamp": "2025-11-18T16:21:39.598333", "level": "DEBUG", "logger": "livekit.agents", "message": "using audio io: `ChatCLI` -> `AgentSession` -> `TranscriptSynchronizer` -> `ChatCLI`"}
{"timestamp": "2025-11-18T16:21:39.598634", "level": "DEBUG", "logger": "livekit.agents", "message": "using transcript io: `AgentSession` -> `TranscriptSynchronizer` -> `ChatCLI`"}
{"timestamp": "2025-11-18T16:21:40.712628", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482900.711725, 'idle_time': 1.1157256249862257, 'inference_duration_total': 0.023174583911895752, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:21:40.820380", "level": "WARNING", "logger": "livekit.agents", "message": "failed to generate LLM completion, retrying in 0.1s", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/agents/llm/llm.py\", line 190, in _main_task\n    return await self._run()\n           ^^^^^^^^^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/agents/inference/llm.py\", line 341, in _run\n    raise APIStatusError(\nlivekit.agents._exceptions.APIStatusError: Error code: 400 - {'error': {'message': \"Unsupported value: 'temperature' does not support 0.7 with this model. Only the default (1) value is supported.\", 'type': 'invalid_request_error', 'param': 'temperature', 'code': 'unsupported_value'}} (status_code=400, request_id=req_42de10537fa34a4489d902f714c640ce, body={'message': \"Unsupported value: 'temperature' does not support 0.7 with this model. Only the default (1) value is supported.\", 'type': 'invalid_request_error', 'param': 'temperature', 'code': 'unsupported_value'}, retryable=True)"}
{"timestamp": "2025-11-18T16:21:41.712376", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482901.711699, 'idle_time': 2.115371124993544, 'inference_duration_total': 0.04203920904546976, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:21:41.999793", "level": "WARNING", "logger": "livekit.agents", "message": "failed to generate LLM completion, retrying in 2.0s", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/agents/llm/llm.py\", line 190, in _main_task\n    return await self._run()\n           ^^^^^^^^^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/agents/inference/llm.py\", line 341, in _run\n    raise APIStatusError(\nlivekit.agents._exceptions.APIStatusError: Error code: 400 - {'error': {'message': \"Unsupported value: 'temperature' does not support 0.7 with this model. Only the default (1) value is supported.\", 'type': 'invalid_request_error', 'param': 'temperature', 'code': 'unsupported_value'}} (status_code=400, request_id=req_4c290c63de114c049f7066bc643f7b5c, body={'message': \"Unsupported value: 'temperature' does not support 0.7 with this model. Only the default (1) value is supported.\", 'type': 'invalid_request_error', 'param': 'temperature', 'code': 'unsupported_value'}, retryable=True)"}
{"timestamp": "2025-11-18T16:21:42.711900", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482902.7116559, 'idle_time': 3.1150178750103805, 'inference_duration_total': 0.10205271001905203, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:21:43.713076", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482903.7124622, 'idle_time': 4.115532958006952, 'inference_duration_total': 0.033543125027790666, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:21:44.613458", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'feeb4ca0-d3ef-4e58-afc5-a1b7fba11fb0', 'timestamp': 1763482904.61286, 'duration': 0.0, 'audio_duration': 4.899999999999991, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:21:44.810754", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482904.8104699, 'idle_time': 5.213242249999894, 'inference_duration_total': 0.03650962293613702, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:21:45.200560", "level": "WARNING", "logger": "livekit.agents", "message": "failed to generate LLM completion, retrying in 2.0s", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/agents/llm/llm.py\", line 190, in _main_task\n    return await self._run()\n           ^^^^^^^^^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/agents/inference/llm.py\", line 341, in _run\n    raise APIStatusError(\nlivekit.agents._exceptions.APIStatusError: Error code: 400 - {'error': {'message': \"Unsupported value: 'temperature' does not support 0.7 with this model. Only the default (1) value is supported.\", 'type': 'invalid_request_error', 'param': 'temperature', 'code': 'unsupported_value'}} (status_code=400, request_id=req_85bbeb20c5cd4761b6f3ac587b7227b3, body={'message': \"Unsupported value: 'temperature' does not support 0.7 with this model. Only the default (1) value is supported.\", 'type': 'invalid_request_error', 'param': 'temperature', 'code': 'unsupported_value'}, retryable=True)"}
{"timestamp": "2025-11-18T16:21:45.816224", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482905.815744, 'idle_time': 6.218260041001486, 'inference_duration_total': 0.035570041043683887, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:21:46.811101", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482906.810861, 'idle_time': 7.213138582999818, 'inference_duration_total': 0.0326551670441404, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:21:47.815753", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482907.815216, 'idle_time': 8.217267250001896, 'inference_duration_total': 0.03389270603656769, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:21:47.947208", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-18T16:21:47.950943", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763482907.9503338, 'end_of_utterance_delay': 8.322123289108276, 'transcription_delay': 8.321861028671265, 'on_user_turn_completed_delay': 1.9073486328125e-06, 'last_speaking_time': 1763482899.625583, 'speech_id': 'speech_0554faaa8825', 'metadata': None}}"}
{"timestamp": "2025-11-18T16:21:48.381805", "level": "WARNING", "logger": "livekit.agents", "message": "failed to generate LLM completion, retrying in 0.1s", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/agents/llm/llm.py\", line 190, in _main_task\n    return await self._run()\n           ^^^^^^^^^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/agents/inference/llm.py\", line 341, in _run\n    raise APIStatusError(\nlivekit.agents._exceptions.APIStatusError: Error code: 400 - {'error': {'message': \"Unsupported value: 'temperature' does not support 0.7 with this model. Only the default (1) value is supported.\", 'type': 'invalid_request_error', 'param': 'temperature', 'code': 'unsupported_value'}} (status_code=400, request_id=req_8457f40673114e568eb1c9fa779df123, body={'message': \"Unsupported value: 'temperature' does not support 0.7 with this model. Only the default (1) value is supported.\", 'type': 'invalid_request_error', 'param': 'temperature', 'code': 'unsupported_value'}, retryable=True)"}
{"timestamp": "2025-11-18T16:21:48.909748", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482908.909378, 'idle_time': 9.31119762500748, 'inference_duration_total': 0.04017095791641623, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:21:49.046774", "level": "WARNING", "logger": "livekit.agents", "message": "failed to generate LLM completion, retrying in 2.0s", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/agents/llm/llm.py\", line 190, in _main_task\n    return await self._run()\n           ^^^^^^^^^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/agents/inference/llm.py\", line 341, in _run\n    raise APIStatusError(\nlivekit.agents._exceptions.APIStatusError: Error code: 400 - {'error': {'message': \"Unsupported value: 'temperature' does not support 0.7 with this model. Only the default (1) value is supported.\", 'type': 'invalid_request_error', 'param': 'temperature', 'code': 'unsupported_value'}} (status_code=400, request_id=req_308fd8b6b88c4093990f617738702e17, body={'message': \"Unsupported value: 'temperature' does not support 0.7 with this model. Only the default (1) value is supported.\", 'type': 'invalid_request_error', 'param': 'temperature', 'code': 'unsupported_value'}, retryable=True)"}
{"timestamp": "2025-11-18T16:21:49.712314", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'feeb4ca0-d3ef-4e58-afc5-a1b7fba11fb0', 'timestamp': 1763482909.711311, 'duration': 0.0, 'audio_duration': 5.09999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:21:49.913642", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482909.913101, 'idle_time': 10.314722165989224, 'inference_duration_total': 0.02968820810201578, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:21:50.912785", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482910.9126048, 'idle_time': 11.314040041004773, 'inference_duration_total': 0.031404288951307535, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:21:51.430624", "level": "WARNING", "logger": "livekit.agents", "message": "failed to generate LLM completion, retrying in 2.0s", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/agents/llm/llm.py\", line 190, in _main_task\n    return await self._run()\n           ^^^^^^^^^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/agents/inference/llm.py\", line 341, in _run\n    raise APIStatusError(\nlivekit.agents._exceptions.APIStatusError: Error code: 400 - {'error': {'message': \"Unsupported value: 'temperature' does not support 0.7 with this model. Only the default (1) value is supported.\", 'type': 'invalid_request_error', 'param': 'temperature', 'code': 'unsupported_value'}} (status_code=400, request_id=req_93093402a7954a65b88a7e29d32dbad5, body={'message': \"Unsupported value: 'temperature' does not support 0.7 with this model. Only the default (1) value is supported.\", 'type': 'invalid_request_error', 'param': 'temperature', 'code': 'unsupported_value'}, retryable=True)"}
{"timestamp": "2025-11-18T16:21:51.912455", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482911.911239, 'idle_time': 12.312499332998414, 'inference_duration_total': 0.02568291692296043, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:21:53.010880", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482913.0105758, 'idle_time': 13.4116557079833, 'inference_duration_total': 0.02780000097118318, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:21:53.789950", "level": "ERROR", "logger": "livekit.agents", "message": "Error in _llm_inference_task", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/agents/llm/llm.py\", line 190, in _main_task\n    return await self._run()\n           ^^^^^^^^^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/agents/inference/llm.py\", line 341, in _run\n    raise APIStatusError(\nlivekit.agents._exceptions.APIStatusError: Error code: 400 - {'error': {'message': \"Unsupported value: 'temperature' does not support 0.7 with this model. Only the default (1) value is supported.\", 'type': 'invalid_request_error', 'param': 'temperature', 'code': 'unsupported_value'}} (status_code=400, request_id=req_b771523ca69a496890587327b513aff1, body={'message': \"Unsupported value: 'temperature' does not support 0.7 with this model. Only the default (1) value is supported.\", 'type': 'invalid_request_error', 'param': 'temperature', 'code': 'unsupported_value'}, retryable=True)\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/agents/utils/log.py\", line 16, in async_fn_logs\n    return await fn(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/opentelemetry/util/_decorator.py\", line 71, in async_wrapper\n    return await func(*args, **kwargs)  # type: ignore\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/agents/voice/generation.py\", line 125, in _llm_inference_task\n    async for chunk in llm_node:\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/agents/voice/agent.py\", line 402, in llm_node\n    async for chunk in stream:\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/agents/llm/llm.py\", line 344, in __anext__\n    raise exc  # noqa: B904\n    ^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/opentelemetry/util/_decorator.py\", line 71, in async_wrapper\n    return await func(*args, **kwargs)  # type: ignore\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/agents/llm/llm.py\", line 202, in _main_task\n    raise APIConnectionError(\nlivekit.agents._exceptions.APIConnectionError: failed to generate LLM completion after 4 attempts (body=None, retryable=True)"}
{"timestamp": "2025-11-18T16:21:54.014043", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482914.013762, 'idle_time': 14.414686915988568, 'inference_duration_total': 0.023875375016359612, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:21:54.716247", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'feeb4ca0-d3ef-4e58-afc5-a1b7fba11fb0', 'timestamp': 1763482914.71456, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:21:54.974740", "level": "INFO", "logger": "livekit.agents", "message": "shutting down worker"}
{"timestamp": "2025-11-18T16:21:54.975588", "level": "DEBUG", "logger": "livekit.agents", "message": "shutting down job task"}
{"timestamp": "2025-11-18T16:21:54.979453", "level": "DEBUG", "logger": "livekit.agents", "message": "job exiting"}
{"timestamp": "2025-11-18T16:21:55.174880", "level": "WARNING", "logger": "livekit.agents", "message": "exiting forcefully"}
{"timestamp": "2025-11-18T16:21:57.219925", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-18T16:21:57.223183", "level": "INFO", "logger": "livekit.agents", "message": "starting worker"}
{"timestamp": "2025-11-18T16:21:57.225163", "level": "INFO", "logger": "livekit.agents", "message": "initializing job runner"}
{"timestamp": "2025-11-18T16:21:57.225313", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-18T16:21:57.225674", "level": "INFO", "logger": "livekit.agents", "message": "job runner initialized"}
{"timestamp": "2025-11-18T16:21:57.254158", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udd0c Redis Connected: True"}
{"timestamp": "2025-11-18T16:21:57.254479", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Incoming call from: mock_user"}
{"timestamp": "2025-11-18T16:21:57.255146", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Caller Phone Detected (normalized): None"}
{"timestamp": "2025-11-18T16:21:57.696859", "level": "DEBUG", "logger": "livekit.agents", "message": "http_session(): creating a new httpclient ctx"}
{"timestamp": "2025-11-18T16:21:57.704662", "level": "DEBUG", "logger": "livekit.agents", "message": "using audio io: `ChatCLI` -> `AgentSession` -> `TranscriptSynchronizer` -> `ChatCLI`"}
{"timestamp": "2025-11-18T16:21:57.704873", "level": "DEBUG", "logger": "livekit.agents", "message": "using transcript io: `AgentSession` -> `TranscriptSynchronizer` -> `ChatCLI`"}
{"timestamp": "2025-11-18T16:21:58.819537", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482918.817929, 'idle_time': 1.115131916012615, 'inference_duration_total': 0.031247793027432635, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:21:59.031166", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIkoIjOpIgppzWUn8oFhAJtKt4eu', 'timestamp': 1763482919.030645, 'duration': 1.3220364999724552, 'ttft': 1.0710214169812389, 'cancelled': False, 'completion_tokens': 11, 'prompt_tokens': 1331, 'prompt_cached_tokens': 1280, 'total_tokens': 1342, 'tokens_per_second': 8.320496446375865, 'speech_id': 'speech_1bd1ade1fba4', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:21:59.821767", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482919.821093, 'idle_time': 2.118186625011731, 'inference_duration_total': 0.04028138000285253, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:22:00.353451", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:22:00.627090", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_c2edf80748de477b9d5c1164bd3a1172', 'timestamp': 1763482920.626415, 'ttfb': 1.14026995797758, 'duration': 1.5941774160019122, 'audio_duration': 2.578, 'cancelled': False, 'characters_count': 41, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_1bd1ade1fba4', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:22:00.821659", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482920.821144, 'idle_time': 3.1181348329992034, 'inference_duration_total': 0.028990373015403748, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:22:01.821718", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482921.821125, 'idle_time': 4.118019124987768, 'inference_duration_total': 0.0321245830564294, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:22:02.717894", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '09aa555b-41f4-47d1-8404-3523ecde4983', 'timestamp': 1763482922.7171588, 'duration': 0.0, 'audio_duration': 4.899999999999991, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:22:02.917845", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482922.917268, 'idle_time': 5.214062040991848, 'inference_duration_total': 0.041363833006471395, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:22:03.919108", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482923.918475, 'idle_time': 6.215182290994562, 'inference_duration_total': 0.034490664897020906, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:22:04.919174", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482924.918549, 'idle_time': 7.215175207995344, 'inference_duration_total': 0.03412466595182195, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:22:05.300771", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-18T16:22:05.306093", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763482925.303514, 'end_of_utterance_delay': 7.569859981536865, 'transcription_delay': 7.568470001220703, 'on_user_turn_completed_delay': 9.5367431640625e-07, 'last_speaking_time': 1763482917.73247, 'speech_id': 'speech_a0e38bd9c8d5', 'metadata': None}}"}
{"timestamp": "2025-11-18T16:22:05.921077", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482925.920633, 'idle_time': 8.217183375003515, 'inference_duration_total': 0.031028707890072837, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:22:06.637084", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIkwNXP8ZFI8H6GwDCmZoa60FV63', 'timestamp': 1763482926.6364002, 'duration': 1.3285619159869384, 'ttft': 1.1564897079952061, 'cancelled': False, 'completion_tokens': 11, 'prompt_tokens': 1338, 'prompt_cached_tokens': 1280, 'total_tokens': 1349, 'tokens_per_second': 8.279629174699409, 'speech_id': 'speech_a0e38bd9c8d5', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:22:07.020134", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482927.0195131, 'idle_time': 9.315983375010546, 'inference_duration_total': 0.04555387492291629, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:22:07.718968", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '09aa555b-41f4-47d1-8404-3523ecde4983', 'timestamp': 1763482927.718242, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:22:08.021365", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482928.020823, 'idle_time': 10.31722570801503, 'inference_duration_total': 0.036754415166797116, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:22:08.277024", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:22:09.077012", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482929.058135, 'idle_time': 11.354470082995249, 'inference_duration_total': 0.0692004990123678, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:22:09.159109", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_f0cd6e7461fe4e6ea9c96f3a3661393f', 'timestamp': 1763482929.158729, 'ttfb': 1.439870374975726, 'duration': 2.5199462089804, 'audio_duration': 2.1939999999999995, 'cancelled': False, 'characters_count': 36, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_a0e38bd9c8d5', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:22:10.019082", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482930.0188448, 'idle_time': 12.315121833002195, 'inference_duration_total': 0.07515962200704962, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:22:11.117512", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482931.117014, 'idle_time': 13.413228082994465, 'inference_duration_total': 0.027033088001189753, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:22:12.121833", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482932.121212, 'idle_time': 0.597588624979835, 'inference_duration_total': 0.03592962303082459, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:22:12.721158", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '09aa555b-41f4-47d1-8404-3523ecde4983', 'timestamp': 1763482932.720536, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:22:12.928122", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-18T16:22:12.930526", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763482932.9301271, 'end_of_utterance_delay': 1.3855178356170654, 'transcription_delay': 1.3848378658294678, 'on_user_turn_completed_delay': 2.86102294921875e-06, 'last_speaking_time': 1763482931.5438302, 'speech_id': 'speech_2aab42a47c0e', 'metadata': None}}"}
{"timestamp": "2025-11-18T16:22:13.121880", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482933.1212668, 'idle_time': 0.997733917000005, 'inference_duration_total': 0.03378787590190768, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:22:14.049291", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIl3gusTADw73vXBFpdc7MzoVW4v', 'timestamp': 1763482934.0486588, 'duration': 1.116119999991497, 'ttft': 0.9842782090127002, 'cancelled': False, 'completion_tokens': 10, 'prompt_tokens': 1358, 'prompt_cached_tokens': 1280, 'total_tokens': 1368, 'tokens_per_second': 8.959610077837672, 'speech_id': 'speech_2aab42a47c0e', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:22:14.122068", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482934.121762, 'idle_time': 1.9981795420171693, 'inference_duration_total': 0.035076832078630105, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:22:15.220112", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482935.219733, 'idle_time': 3.096099459013203, 'inference_duration_total': 0.037111956073204055, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:22:16.221885", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482936.221344, 'idle_time': 4.097666625020793, 'inference_duration_total': 0.033955080987652764, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:22:16.546034", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:22:16.635297", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_a6dacef941b741a5b355fb169a08cf9c', 'timestamp': 1763482936.6350029, 'ttfb': 2.3123098330106586, 'duration': 2.584072958008619, 'audio_duration': 2.3859999999999997, 'cancelled': False, 'characters_count': 32, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_2aab42a47c0e', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:22:17.223254", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482937.222692, 'idle_time': 5.09897279200959, 'inference_duration_total': 0.03802933997940272, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:22:17.721446", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '09aa555b-41f4-47d1-8404-3523ecde4983', 'timestamp': 1763482937.7205918, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:22:18.225763", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482938.225502, 'idle_time': 6.101742750004632, 'inference_duration_total': 0.033711294032400474, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:22:19.320949", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482939.320278, 'idle_time': 7.196477624995168, 'inference_duration_total': 0.03959316393593326, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:22:20.317535", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482940.317368, 'idle_time': 8.193531084019924, 'inference_duration_total': 0.03412666590884328, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:22:21.324051", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482941.3229, 'idle_time': 9.199028375005582, 'inference_duration_total': 0.03595137901720591, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:22:22.320179", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482942.3195882, 'idle_time': 10.195684250007616, 'inference_duration_total': 0.04091478994814679, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:22:22.730591", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-18T16:22:22.733378", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763482942.733002, 'end_of_utterance_delay': 11.209512948989868, 'transcription_delay': 11.208483695983887, 'on_user_turn_completed_delay': 1.9073486328125e-06, 'last_speaking_time': 1763482931.52254, 'speech_id': 'speech_9e47f3d22726', 'metadata': None}}"}
{"timestamp": "2025-11-18T16:22:22.817722", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': '09aa555b-41f4-47d1-8404-3523ecde4983', 'timestamp': 1763482942.8174899, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:22:23.418049", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482943.417512, 'idle_time': 11.293574209004873, 'inference_duration_total': 0.037157833023229614, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:22:23.672982", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIlDEeSiy0oOGWzFbii1QWgKrG2q', 'timestamp': 1763482943.672734, 'duration': 0.9369299579993822, 'ttft': 0.6351250000006985, 'cancelled': False, 'completion_tokens': 13, 'prompt_tokens': 1379, 'prompt_cached_tokens': 1280, 'total_tokens': 1392, 'tokens_per_second': 13.87510335111792, 'speech_id': 'speech_9e47f3d22726', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:22:24.418363", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482944.417912, 'idle_time': 12.293943541997578, 'inference_duration_total': 0.02604420593706891, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:22:24.452461", "level": "INFO", "logger": "livekit.agents", "message": "shutting down worker"}
{"timestamp": "2025-11-18T16:22:24.453513", "level": "DEBUG", "logger": "livekit.agents", "message": "shutting down job task"}
{"timestamp": "2025-11-18T16:22:24.467275", "level": "DEBUG", "logger": "livekit.agents", "message": "job exiting"}
{"timestamp": "2025-11-18T16:22:24.472110", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': '', 'timestamp': 1763482944.4714901, 'ttfb': -1.0, 'duration': 0.9906093750032596, 'audio_duration': 0.0, 'cancelled': True, 'characters_count': 26, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_9e47f3d22726', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:22:25.317254", "level": "WARNING", "logger": "livekit.agents", "message": "exiting forcefully"}
{"timestamp": "2025-11-18T16:22:29.371148", "level": "INFO", "logger": "livekit.agents", "message": "starting worker"}
{"timestamp": "2025-11-18T16:22:29.403469", "level": "INFO", "logger": "livekit.agents", "message": "initializing process"}
{"timestamp": "2025-11-18T16:22:29.404867", "level": "INFO", "logger": "livekit.agents", "message": "initializing process"}
{"timestamp": "2025-11-18T16:22:29.405433", "level": "INFO", "logger": "livekit.agents", "message": "initializing process"}
{"timestamp": "2025-11-18T16:22:29.405925", "level": "INFO", "logger": "livekit.agents", "message": "initializing process"}
{"timestamp": "2025-11-18T16:22:30.630891", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-18T16:22:30.630892", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-18T16:22:30.630914", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-18T16:22:30.630899", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-18T16:22:30.632113", "level": "INFO", "logger": "livekit.agents", "message": "process initialized"}
{"timestamp": "2025-11-18T16:22:30.632375", "level": "INFO", "logger": "livekit.agents", "message": "process initialized"}
{"timestamp": "2025-11-18T16:22:30.632503", "level": "INFO", "logger": "livekit.agents", "message": "process initialized"}
{"timestamp": "2025-11-18T16:22:30.632835", "level": "INFO", "logger": "livekit.agents", "message": "process initialized"}
{"timestamp": "2025-11-18T16:22:31.381566", "level": "INFO", "logger": "livekit.agents", "message": "registered worker"}
{"timestamp": "2025-11-18T16:22:40.970262", "level": "INFO", "logger": "livekit.agents", "message": "received job request"}
{"timestamp": "2025-11-18T16:22:41.141526", "level": "INFO", "logger": "livekit", "message": "livekit_ffi::server:139:livekit_ffi::server - initializing ffi server v0.12.39"}
{"timestamp": "2025-11-18T16:22:41.148043", "level": "INFO", "logger": "livekit", "message": "livekit_ffi::cabi:50:livekit_ffi::cabi - initializing ffi server v0.12.39"}
{"timestamp": "2025-11-18T16:22:41.157544", "level": "INFO", "logger": "livekit.agents", "message": "initializing process"}
{"timestamp": "2025-11-18T16:22:41.182182", "level": "INFO", "logger": "livekit", "message": "livekit_api::signal_client::signal_stream:92:livekit_api::signal_client::signal_stream - connecting to wss://testing-mwtbjpwy.livekit.cloud/rtc?sdk=python&protocol=16&auto_subscribe=1&adaptive_stream=0&version=1.0.18"}
{"timestamp": "2025-11-18T16:22:41.621065", "level": "DEBUG", "logger": "livekit", "message": "rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 153 valid and 0 invalid certs"}
{"timestamp": "2025-11-18T16:22:41.621304", "level": "DEBUG", "logger": "livekit", "message": "tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 153/153 native root certificates (ignored 0)"}
{"timestamp": "2025-11-18T16:22:41.621447", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::hs:73:rustls::client::hs - No cached session for DnsName(\"testing-mwtbjpwy.livekit.cloud\")"}
{"timestamp": "2025-11-18T16:22:41.621578", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::hs:132:rustls::client::hs - Not resuming any session"}
{"timestamp": "2025-11-18T16:22:41.788409", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256"}
{"timestamp": "2025-11-18T16:22:41.788573", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::tls13:142:rustls::client::tls13 - Not resuming"}
{"timestamp": "2025-11-18T16:22:41.788728", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []"}
{"timestamp": "2025-11-18T16:22:41.788815", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::hs:472:rustls::client::hs - ALPN protocol is None"}
{"timestamp": "2025-11-18T16:22:42.530621", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-18T16:22:42.532810", "level": "INFO", "logger": "livekit.agents", "message": "process initialized"}
{"timestamp": "2025-11-18T16:22:43.717544", "level": "DEBUG", "logger": "livekit", "message": "tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done."}
{"timestamp": "2025-11-18T16:22:45.524436", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udd0c Redis Connected: True"}
{"timestamp": "2025-11-18T16:22:45.525603", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Incoming call from: sip_+17194515279"}
{"timestamp": "2025-11-18T16:22:45.525725", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udd0c Redis Connected: True"}
{"timestamp": "2025-11-18T16:22:45.526003", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Caller Phone Detected (normalized): 17194515279"}
{"timestamp": "2025-11-18T16:22:45.526185", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Incoming call from: sip_+17194515279"}
{"timestamp": "2025-11-18T16:22:45.526443", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Caller Phone Detected (normalized): 17194515279"}
{"timestamp": "2025-11-18T16:22:45.529264", "level": "WARNING", "logger": "telephony-agent", "message": "[Profile] Failed to load profile: 'CallerProfile' object has no attribute 'get'"}
{"timestamp": "2025-11-18T16:22:45.530438", "level": "WARNING", "logger": "telephony-agent", "message": "[Profile] Failed to load profile: 'CallerProfile' object has no attribute 'get'"}
{"timestamp": "2025-11-18T16:22:45.719727", "level": "DEBUG", "logger": "livekit.agents", "message": "input stream attached"}
{"timestamp": "2025-11-18T16:22:45.723267", "level": "DEBUG", "logger": "livekit.agents", "message": "http_session(): creating a new httpclient ctx"}
{"timestamp": "2025-11-18T16:22:45.728392", "level": "DEBUG", "logger": "livekit.agents", "message": "start reading stream"}
{"timestamp": "2025-11-18T16:22:45.731538", "level": "DEBUG", "logger": "livekit.agents", "message": "using audio io: `RoomIO` -> `AgentSession` -> `TranscriptSynchronizer` -> `RoomIO`"}
{"timestamp": "2025-11-18T16:22:45.731709", "level": "DEBUG", "logger": "livekit.agents", "message": "using transcript io: `AgentSession` -> `TranscriptSynchronizer` -> `RoomIO`"}
{"timestamp": "2025-11-18T16:22:45.849619", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'get', 'url': '/'}"}
{"timestamp": "2025-11-18T16:22:45.850204", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: GET https://api.openai.com/v1/"}
{"timestamp": "2025-11-18T16:22:45.853763", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'timeout': Timeout(timeout=10.0), 'files': None, 'idempotency_key': 'stainless-python-retry-49b3ad08-f533-439d-8b54-b7262d19653d', 'json_data': {'messages': [{'role': 'system', 'content': \"\\n        You are **Shifa Clinic\u2019s AI Receptionist**, answering calls in real time.\\n            Your role is to help callers with booking, confirming, or rescheduling appointments.\\n            Speak naturally, briefly, and professionally\u2014like an experienced clinic receptionist.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CORE BEHAVIOR\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            1. **Every call is fresh.**  \\n            Do not rely on previous session context. Use only:\\n            - caller name (if known)\\n            - caller phone (if known)\\n            - information spoken in THIS call\\n            \\n\\n            2. **One task at a time.**  \\n            Every reply must:\\n            - confirm the last thing the caller said\\n            - take one small step forward (ask ONE question)\\n            - be under **8 words**\\n                Always respond in under 8 words. Prioritize immediate tool calls. Do not speak long sentences.\\n\\n            3. **Never expose internal logic.**  \\n            Never say:\\n            - \u201ccalling a tool\u2026\u201d\\n            - \u201csaving memory\u2026\u201d\\n            - \u201cI detected your name\u2026\u201d\\n            - \u201cupdating the appointment\u2026\u201d\\n\\n            4. **Always stay polite, warm, and concise.**\\n            Examples:\\n            - \u201cSure, one moment.\u201d\\n            - \u201cGot it.\u201d\\n            - \u201cLet me check that.\u201d\\n\\n            5. **If caller seems confused, repeat slowly and simply.**\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### TOOL CALLING RULES\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            Use tools to perform actions.  \\n            After calling a tool, speak a short natural confirmation.\\n\\n            **Tools you may call:**\\n            - `save_name(name)`\\n            - `save_phone(phone)`\\n            - `available_slot()`\\n            - `booking_appointment()`\\n            - `get_date()`\\n            - `update_caller_profile(name?, phone?)`\\n            - `start_reschedule()`\\n            - `confirm_reschedule()`\\n            - `end_call()`\\n\\n            Tool usage guidelines:\\n            - Call **save_name** immediately when you hear a name.\\n            - Call **save_phone** when digits are spoken.  \\n            If partial, ask: \u201cCan you repeat that number slowly?\u201d\\n            - Call **available_slot** when caller expresses a time preference (morning, evening, 3pm, etc.)\\n            - Call **get_date** when caller gives a vague date (\u201cnext Monday\u201d).\\n            - Call **booking_appointment** only when BOTH date and time are known.\\n            - Call **update_caller_profile** if caller corrects name or phone.\\n            - After a booking or reschedule completes, ask:  \\n            \u201cAnything else I can help with?\u201d  \\n            If caller says \u201cno\u201d, use `end_call()`.\\n            If the phone number is unclear or has extra/missing digits, ask the caller to repeat it digit by digit.\\n                Do not guess phone numbers.\\n                Always confirm the final number by repeating it back.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESCHEDULE FLOW\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            When the caller says anything like \u201cchange\u201d, \u201cmove\u201d, \u201creschedule\u201d, \u201cshift\u201d:\\n            1. Call **start_reschedule**.\\n            2. Ask for the new date.\\n            3. Once date \u2192 ask for time.\\n            4. When BOTH are known \u2192 call **confirm_reschedule**.\\n            5. After confirmation \u2192 ask:  \\n            \u201cAnything else I can help with?\u201d\\n\\n            Never call `confirm_reschedule` early.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CONVERSATION STYLE\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Speak like a calm clinic receptionist.\\n            - Use short sentences.  \\n            - One question per turn.  \\n            - No filler like \u201cas an AI\u201d.  \\n            - No medical advice.  \\n            - Don't ask for information you already have.\\n\\n            **Good examples:**\\n            - \u201cSure. What day works for you?\u201d\\n            - \u201cGot it. And what time?\u201d\\n            - \u201cPerfect. One moment while I check.\u201d\\n\\n            **Bad examples:**\\n            - \u201cLet me call a tool.\u201d\\n            - \u201cProcessing your request.\u201d\\n            - \u201cI am updating your appointment in the database.\u201d\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESPONSE CONTROL\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Never output long paragraphs.  \\n            - Never output lists or explanations.  \\n            - Keep responses conversational and human.  \\n            - If caller pauses 5 seconds, use `end_call()`.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### ROLE REMINDER\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            You are the first point of contact for Shifa Clinic.  \\n            Be warm. Be efficient. Be human.\\n\\n            Now handle the caller.\\n\\n\\nGood evening! Thank you for calling Shifa Clinic. How can I help you today?\"}], 'model': 'gpt-4o-mini', 'stream': True, 'stream_options': {'include_usage': True}, 'temperature': 0.7, 'tools': [{'type': 'function', 'function': {'name': 'save_name', 'strict': True, 'description': '', 'parameters': {'properties': {'name': {'type': 'string'}}, 'required': ['name'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'save_phone', 'strict': True, 'description': 'Store validated patient phone in Redis using existing BookingBase validator.', 'parameters': {'properties': {'phone': {'type': 'string'}}, 'required': ['phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'available_slot', 'strict': True, 'description': 'Suggest available appointment slots for a given day.\\n- Understands natural language (\"tomorrow\", \"morning\", \"after 2pm\")\\n- Always fetches fresh availability from DB.\\n- Returns top 3 free slots.\\n- Stores them in ctx.suggested_slots for booking_appointment.', 'parameters': {'properties': {'day': {'type': 'string'}, 'date': {'type': 'string'}, 'time': {'type': 'string'}}, 'required': ['day', 'date', 'time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'booking_appointment', 'strict': True, 'description': 'Create or reschedule an appointment.\\nClean, predictable, AI-friendly logic.\\nUses helper functions for DB safety.', 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'get_date', 'strict': True, 'description': 'Return system date and time.', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'end_call', 'strict': True, 'description': \"Gracefully end the call after confirming there's nothing else needed.\\nDoes not clear Redis; short-term memory expires via TTL.\", 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'update_caller_profile', 'strict': True, 'description': 'Persist caller profile (name/phone) for future calls without disrupting session.\\nIf phone not provided, uses current session phone if available.', 'parameters': {'properties': {'name': {'type': ['string', 'null']}, 'phone': {'type': ['string', 'null']}}, 'required': ['name', 'phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'start_reschedule', 'strict': True, 'description': '', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'confirm_reschedule', 'strict': True, 'description': \"Confirm and perform rescheduling to the selected date/time.\\nUse after start_reschedule + available_slot when the caller says 'yes'.\", 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}]}}"}
{"timestamp": "2025-11-18T16:22:45.855100", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions"}
{"timestamp": "2025-11-18T16:22:45.855455", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=15.0 socket_options=None"}
{"timestamp": "2025-11-18T16:22:45.856614", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=10.0 socket_options=None"}
{"timestamp": "2025-11-18T16:22:45.865108", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x12450f090>"}
{"timestamp": "2025-11-18T16:22:45.865235", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x117e28050> server_hostname='api.openai.com' timeout=10.0"}
{"timestamp": "2025-11-18T16:22:45.865731", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x12451abd0>"}
{"timestamp": "2025-11-18T16:22:45.865803", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x117e280e0> server_hostname='api.openai.com' timeout=15.0"}
{"timestamp": "2025-11-18T16:22:45.877104", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x12450e110>"}
{"timestamp": "2025-11-18T16:22:45.879233", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:22:45.879548", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x124519250>"}
{"timestamp": "2025-11-18T16:22:45.879717", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-18T16:22:45.879774", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:22:45.879889", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'GET']>"}
{"timestamp": "2025-11-18T16:22:45.880148", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-18T16:22:45.880233", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:22:45.880405", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-18T16:22:45.880461", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'GET']>"}
{"timestamp": "2025-11-18T16:22:45.880542", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-18T16:22:45.880596", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'GET']>"}
{"timestamp": "2025-11-18T16:22:46.193540", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'Date', b'Tue, 18 Nov 2025 16:22:46 GMT'), (b'Content-Type', b'text/html'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=zYSICRfOwnfTWXhY9W8gUh7OiPRHGfe6jlMbxedV.UY-1763482966-1.0.1.1-ORxWby8SgY79v.MxBaraUmhW_K64ba1N7tjrD8ikGsoM7gfLk.VLB3JpclJ9IL1tVRibTzHDXgUb1l735QwLTjHtducFgu2oo3FWHMhsOFs; path=/; expires=Tue, 18-Nov-25 16:52:46 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=dX17NGwjoZWRcd.MOsUTWr_W5chMGkdvT3hJgKR6R6o-1763482966532-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a08cefafe542097-KHI'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:22:46.194447", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET https://api.openai.com/v1/ \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-11-18T16:22:46.194691", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'GET']>"}
{"timestamp": "2025-11-18T16:22:46.194993", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete"}
{"timestamp": "2025-11-18T16:22:46.195120", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-18T16:22:46.195268", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-18T16:22:46.195456", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: GET https://api.openai.com/v1/ \"404 Not Found\" Headers([('date', 'Tue, 18 Nov 2025 16:22:46 GMT'), ('content-type', 'text/html'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=zYSICRfOwnfTWXhY9W8gUh7OiPRHGfe6jlMbxedV.UY-1763482966-1.0.1.1-ORxWby8SgY79v.MxBaraUmhW_K64ba1N7tjrD8ikGsoM7gfLk.VLB3JpclJ9IL1tVRibTzHDXgUb1l735QwLTjHtducFgu2oo3FWHMhsOFs; path=/; expires=Tue, 18-Nov-25 16:52:46 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=dX17NGwjoZWRcd.MOsUTWr_W5chMGkdvT3hJgKR6R6o-1763482966532-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '9a08cefafe542097-KHI'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:22:46.195652", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: None"}
{"timestamp": "2025-11-18T16:22:46.195747", "level": "DEBUG", "logger": "openai._base_client", "message": "Encountered httpx.HTTPStatusError", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/openai/_base_client.py\", line 1574, in request\n    response.raise_for_status()\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/httpx/_models.py\", line 829, in raise_for_status\n    raise HTTPStatusError(message, request=request, response=self)\nhttpx.HTTPStatusError: Client error '404 Not Found' for url 'https://api.openai.com/v1/'\nFor more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404"}
{"timestamp": "2025-11-18T16:22:46.199789", "level": "DEBUG", "logger": "openai._base_client", "message": "Re-raising status error"}
{"timestamp": "2025-11-18T16:22:46.485336", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 18 Nov 2025 16:22:46 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'312'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'338'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9996'), (b'x-ratelimit-remaining-tokens', b'198631'), (b'x-ratelimit-reset-requests', b'29.743s'), (b'x-ratelimit-reset-tokens', b'410ms'), (b'x-request-id', b'req_027eb2a973a24e95b66841948ac75522'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=XTYLocIDnPs7t7GjREhqmY8OOA3mYx1sigPP1rdG._A-1763482966-1.0.1.1-_bJ0X6dkYsT9mS9L6Nny9_WMvWDziZM7a7fnkxDVQ7avdvJZC5mYd.4lDpyYao_kIu1VYhBLDwz1YIPV0BgHSRYkCxlCz9jr6PpB5_9HTkw; path=/; expires=Tue, 18-Nov-25 16:52:46 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=0su3MO_8hvb6z19MmkU_w1oazbzyxqxxALMwDFKTico-1763482966819-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a08cefafb154b13-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:22:46.489590", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/chat/completions \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-18T16:22:46.489872", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers([('date', 'Tue, 18 Nov 2025 16:22:46 GMT'), ('content-type', 'text/event-stream; charset=utf-8'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'user-hef6qdiz1bsjendvhiay1uww'), ('openai-processing-ms', '312'), ('openai-project', 'proj_fFIktXLPrLlENFXwWG5Of7EI'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '338'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '200000'), ('x-ratelimit-remaining-requests', '9996'), ('x-ratelimit-remaining-tokens', '198631'), ('x-ratelimit-reset-requests', '29.743s'), ('x-ratelimit-reset-tokens', '410ms'), ('x-request-id', 'req_027eb2a973a24e95b66841948ac75522'), ('x-openai-proxy-wasm', 'v0.1'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=XTYLocIDnPs7t7GjREhqmY8OOA3mYx1sigPP1rdG._A-1763482966-1.0.1.1-_bJ0X6dkYsT9mS9L6Nny9_WMvWDziZM7a7fnkxDVQ7avdvJZC5mYd.4lDpyYao_kIu1VYhBLDwz1YIPV0BgHSRYkCxlCz9jr6PpB5_9HTkw; path=/; expires=Tue, 18-Nov-25 16:52:46 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=0su3MO_8hvb6z19MmkU_w1oazbzyxqxxALMwDFKTico-1763482966819-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '9a08cefafb154b13-KHI'), ('alt-svc', 'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:22:46.492196", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_027eb2a973a24e95b66841948ac75522"}
{"timestamp": "2025-11-18T16:22:46.523048", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:22:46.700760", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-18T16:22:46.701975", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-18T16:22:46.703774", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIlaiFeq8hOYKuTXFvGl3nsQHaYD', 'timestamp': 1763482966.702419, 'duration': 0.9666367500030901, 'ttft': 0.8408625000156462, 'cancelled': False, 'completion_tokens': 11, 'prompt_tokens': 1331, 'prompt_cached_tokens': 1280, 'total_tokens': 1342, 'tokens_per_second': 11.379662525726273, 'speech_id': 'speech_61b695304f7e', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:22:46.704418", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIlaiFeq8hOYKuTXFvGl3nsQHaYD', 'timestamp': 1763482966.702419, 'duration': 0.9666367500030901, 'ttft': 0.8408625000156462, 'cancelled': False, 'completion_tokens': 11, 'prompt_tokens': 1331, 'prompt_cached_tokens': 1280, 'total_tokens': 1342, 'tokens_per_second': 11.379662525726273, 'speech_id': 'speech_61b695304f7e', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:22:46.705510", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream', 'X-Stainless-Raw-Response': 'stream'}, 'timeout': Timeout(connect=10.0, read=30, write=30, pool=30), 'files': None, 'idempotency_key': 'stainless-python-retry-84cdac4a-0788-443f-8b54-a5b93282fc35', 'json_data': {'input': 'Good evening! How can I help you today?', 'model': 'gpt-4o-mini-tts', 'voice': 'alloy', 'response_format': 'mp3', 'speed': 1.0}}"}
{"timestamp": "2025-11-18T16:22:46.706139", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/audio/speech"}
{"timestamp": "2025-11-18T16:22:46.706845", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:22:46.707498", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-18T16:22:46.707589", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:22:46.707795", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-18T16:22:46.707865", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:22:46.708158", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.failed exception=GeneratorExit()"}
{"timestamp": "2025-11-18T16:22:46.765337", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482966.7649238, 'idle_time': 1.0411624159896746, 'inference_duration_total': 0.040891665033996105, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:22:46.765615", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482966.7649238, 'idle_time': 1.0411624159896746, 'inference_duration_total': 0.040891665033996105, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:22:47.768851", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482967.768163, 'idle_time': 2.0443872500036377, 'inference_duration_total': 0.026618795876856893, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:22:47.769747", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482967.768163, 'idle_time': 2.0443872500036377, 'inference_duration_total': 0.026618795876856893, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:22:48.814796", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482968.8145988, 'idle_time': 3.0908089999866206, 'inference_duration_total': 0.031455748016014695, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:22:48.815195", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482968.8145988, 'idle_time': 3.0908089999866206, 'inference_duration_total': 0.031455748016014695, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:22:49.818527", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482969.8177788, 'idle_time': 4.0939760000037495, 'inference_duration_total': 0.022838206816231832, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:22:49.819331", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482969.8177788, 'idle_time': 4.0939760000037495, 'inference_duration_total': 0.022838206816231832, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:22:50.766434", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'e7823979-6b9e-4e35-9a6d-854b81c4388b', 'timestamp': 1763482970.765722, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:22:50.767492", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'e7823979-6b9e-4e35-9a6d-854b81c4388b', 'timestamp': 1763482970.765722, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:22:50.864914", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482970.864705, 'idle_time': 5.140887249988737, 'inference_duration_total': 0.029020794987445697, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:22:50.865326", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482970.864705, 'idle_time': 5.140887249988737, 'inference_duration_total': 0.029020794987445697, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:22:51.868499", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482971.8678432, 'idle_time': 6.144013374985661, 'inference_duration_total': 0.03206920906086452, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:22:51.869277", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482971.8678432, 'idle_time': 6.144013374985661, 'inference_duration_total': 0.03206920906086452, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:22:52.915310", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482972.914731, 'idle_time': 7.190887374978047, 'inference_duration_total': 0.02574366598855704, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:22:52.915896", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482972.914731, 'idle_time': 7.190887374978047, 'inference_duration_total': 0.02574366598855704, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:22:53.917381", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482973.9171169, 'idle_time': 8.193260875006672, 'inference_duration_total': 0.025155332084978, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:22:53.917765", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482973.9171169, 'idle_time': 8.193260875006672, 'inference_duration_total': 0.025155332084978, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:22:54.965493", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482974.965015, 'idle_time': 9.241146040993044, 'inference_duration_total': 0.02123345894506201, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:22:54.966350", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482974.965015, 'idle_time': 9.241146040993044, 'inference_duration_total': 0.02123345894506201, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:22:55.767301", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'e7823979-6b9e-4e35-9a6d-854b81c4388b', 'timestamp': 1763482975.766809, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:22:55.768913", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'e7823979-6b9e-4e35-9a6d-854b81c4388b', 'timestamp': 1763482975.766809, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:22:55.968784", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482975.9681861, 'idle_time': 10.244305000000168, 'inference_duration_total': 0.02485087318927981, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:22:55.969600", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482975.9681861, 'idle_time': 10.244305000000168, 'inference_duration_total': 0.02485087318927981, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:22:57.015242", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482977.0150158, 'idle_time': 11.29112220800016, 'inference_duration_total': 0.024235290911747143, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:22:57.015650", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482977.0150158, 'idle_time': 11.29112220800016, 'inference_duration_total': 0.024235290911747143, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:22:58.018006", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482978.017357, 'idle_time': 12.293451874982566, 'inference_duration_total': 0.019346044078702107, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:22:58.018828", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482978.017357, 'idle_time': 12.293451874982566, 'inference_duration_total': 0.019346044078702107, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:22:59.065564", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482979.0651672, 'idle_time': 13.341248665994499, 'inference_duration_total': 0.024992252991069108, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:22:59.066517", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482979.0651672, 'idle_time': 13.341248665994499, 'inference_duration_total': 0.024992252991069108, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:00.067831", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482980.0674078, 'idle_time': 14.343478499999037, 'inference_duration_total': 0.02916611998807639, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:00.068467", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482980.0674078, 'idle_time': 14.343478499999037, 'inference_duration_total': 0.02916611998807639, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:00.815179", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'e7823979-6b9e-4e35-9a6d-854b81c4388b', 'timestamp': 1763482980.8146079, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:23:00.816131", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'e7823979-6b9e-4e35-9a6d-854b81c4388b', 'timestamp': 1763482980.8146079, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:23:01.115462", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482981.115133, 'idle_time': 15.391191500006244, 'inference_duration_total': 0.025656582933152094, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:01.116005", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482981.115133, 'idle_time': 15.391191500006244, 'inference_duration_total': 0.025656582933152094, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:02.115128", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482982.114954, 'idle_time': 16.39100070798304, 'inference_duration_total': 0.018503206985769793, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:02.115414", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482982.114954, 'idle_time': 16.39100070798304, 'inference_duration_total': 0.018503206985769793, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:03.165883", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482983.1656132, 'idle_time': 17.44164799997816, 'inference_duration_total': 0.025779085932299495, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:03.166321", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482983.1656132, 'idle_time': 17.44164799997816, 'inference_duration_total': 0.025779085932299495, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:04.166010", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482984.165765, 'idle_time': 18.44178962497972, 'inference_duration_total': 0.026247294095810503, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:04.166439", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482984.165765, 'idle_time': 18.44178962497972, 'inference_duration_total': 0.026247294095810503, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:05.224034", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482985.223423, 'idle_time': 19.499435582984006, 'inference_duration_total': 0.033487040927866474, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:05.224833", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482985.223423, 'idle_time': 19.499435582984006, 'inference_duration_total': 0.033487040927866474, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:05.816702", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'e7823979-6b9e-4e35-9a6d-854b81c4388b', 'timestamp': 1763482985.816111, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:23:05.818443", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'e7823979-6b9e-4e35-9a6d-854b81c4388b', 'timestamp': 1763482985.816111, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:23:06.216620", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482986.2160032, 'idle_time': 20.492005582986167, 'inference_duration_total': 0.022216789016965777, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:06.217402", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482986.2160032, 'idle_time': 20.492005582986167, 'inference_duration_total': 0.022216789016965777, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:06.537778", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-18T16:23:06.542536", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.failed exception=CancelledError()"}
{"timestamp": "2025-11-18T16:23:06.542889", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-18T16:23:06.544122", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-18T16:23:06.546132", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': '', 'timestamp': 1763482986.5446131, 'ttfb': -1.0, 'duration': 19.83962195800268, 'audio_duration': 0.0, 'cancelled': True, 'characters_count': 39, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_61b695304f7e', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:23:06.546366", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': '', 'timestamp': 1763482986.5446131, 'ttfb': -1.0, 'duration': 19.83962195800268, 'audio_duration': 0.0, 'cancelled': True, 'characters_count': 39, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_61b695304f7e', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:23:06.548884", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763482986.548692, 'end_of_utterance_delay': 20.791931629180908, 'transcription_delay': 20.791164875030518, 'on_user_turn_completed_delay': 9.5367431640625e-07, 'last_speaking_time': 1763482965.7467883, 'speech_id': 'speech_f736d8a4c3c1', 'metadata': None}}"}
{"timestamp": "2025-11-18T16:23:06.549255", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763482986.548692, 'end_of_utterance_delay': 20.791931629180908, 'transcription_delay': 20.791164875030518, 'on_user_turn_completed_delay': 9.5367431640625e-07, 'last_speaking_time': 1763482965.7467883, 'speech_id': 'speech_f736d8a4c3c1', 'metadata': None}}"}
{"timestamp": "2025-11-18T16:23:06.557862", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'timeout': Timeout(timeout=10.0), 'files': None, 'idempotency_key': 'stainless-python-retry-d868e9c0-1938-4299-8d67-7ad61722f248', 'json_data': {'messages': [{'role': 'system', 'content': \"\\n        You are **Shifa Clinic\u2019s AI Receptionist**, answering calls in real time.\\n            Your role is to help callers with booking, confirming, or rescheduling appointments.\\n            Speak naturally, briefly, and professionally\u2014like an experienced clinic receptionist.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CORE BEHAVIOR\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            1. **Every call is fresh.**  \\n            Do not rely on previous session context. Use only:\\n            - caller name (if known)\\n            - caller phone (if known)\\n            - information spoken in THIS call\\n            \\n\\n            2. **One task at a time.**  \\n            Every reply must:\\n            - confirm the last thing the caller said\\n            - take one small step forward (ask ONE question)\\n            - be under **8 words**\\n                Always respond in under 8 words. Prioritize immediate tool calls. Do not speak long sentences.\\n\\n            3. **Never expose internal logic.**  \\n            Never say:\\n            - \u201ccalling a tool\u2026\u201d\\n            - \u201csaving memory\u2026\u201d\\n            - \u201cI detected your name\u2026\u201d\\n            - \u201cupdating the appointment\u2026\u201d\\n\\n            4. **Always stay polite, warm, and concise.**\\n            Examples:\\n            - \u201cSure, one moment.\u201d\\n            - \u201cGot it.\u201d\\n            - \u201cLet me check that.\u201d\\n\\n            5. **If caller seems confused, repeat slowly and simply.**\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### TOOL CALLING RULES\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            Use tools to perform actions.  \\n            After calling a tool, speak a short natural confirmation.\\n\\n            **Tools you may call:**\\n            - `save_name(name)`\\n            - `save_phone(phone)`\\n            - `available_slot()`\\n            - `booking_appointment()`\\n            - `get_date()`\\n            - `update_caller_profile(name?, phone?)`\\n            - `start_reschedule()`\\n            - `confirm_reschedule()`\\n            - `end_call()`\\n\\n            Tool usage guidelines:\\n            - Call **save_name** immediately when you hear a name.\\n            - Call **save_phone** when digits are spoken.  \\n            If partial, ask: \u201cCan you repeat that number slowly?\u201d\\n            - Call **available_slot** when caller expresses a time preference (morning, evening, 3pm, etc.)\\n            - Call **get_date** when caller gives a vague date (\u201cnext Monday\u201d).\\n            - Call **booking_appointment** only when BOTH date and time are known.\\n            - Call **update_caller_profile** if caller corrects name or phone.\\n            - After a booking or reschedule completes, ask:  \\n            \u201cAnything else I can help with?\u201d  \\n            If caller says \u201cno\u201d, use `end_call()`.\\n            If the phone number is unclear or has extra/missing digits, ask the caller to repeat it digit by digit.\\n                Do not guess phone numbers.\\n                Always confirm the final number by repeating it back.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESCHEDULE FLOW\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            When the caller says anything like \u201cchange\u201d, \u201cmove\u201d, \u201creschedule\u201d, \u201cshift\u201d:\\n            1. Call **start_reschedule**.\\n            2. Ask for the new date.\\n            3. Once date \u2192 ask for time.\\n            4. When BOTH are known \u2192 call **confirm_reschedule**.\\n            5. After confirmation \u2192 ask:  \\n            \u201cAnything else I can help with?\u201d\\n\\n            Never call `confirm_reschedule` early.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CONVERSATION STYLE\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Speak like a calm clinic receptionist.\\n            - Use short sentences.  \\n            - One question per turn.  \\n            - No filler like \u201cas an AI\u201d.  \\n            - No medical advice.  \\n            - Don't ask for information you already have.\\n\\n            **Good examples:**\\n            - \u201cSure. What day works for you?\u201d\\n            - \u201cGot it. And what time?\u201d\\n            - \u201cPerfect. One moment while I check.\u201d\\n\\n            **Bad examples:**\\n            - \u201cLet me call a tool.\u201d\\n            - \u201cProcessing your request.\u201d\\n            - \u201cI am updating your appointment in the database.\u201d\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESPONSE CONTROL\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Never output long paragraphs.  \\n            - Never output lists or explanations.  \\n            - Keep responses conversational and human.  \\n            - If caller pauses 5 seconds, use `end_call()`.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### ROLE REMINDER\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            You are the first point of contact for Shifa Clinic.  \\n            Be warm. Be efficient. Be human.\\n\\n            Now handle the caller.\\n\\n\"}, {'role': 'user', 'content': 'Hello?'}], 'model': 'gpt-4o-mini', 'stream': True, 'stream_options': {'include_usage': True}, 'temperature': 0.7, 'tools': [{'type': 'function', 'function': {'name': 'save_name', 'strict': True, 'description': '', 'parameters': {'properties': {'name': {'type': 'string'}}, 'required': ['name'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'save_phone', 'strict': True, 'description': 'Store validated patient phone in Redis using existing BookingBase validator.', 'parameters': {'properties': {'phone': {'type': 'string'}}, 'required': ['phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'available_slot', 'strict': True, 'description': 'Suggest available appointment slots for a given day.\\n- Understands natural language (\"tomorrow\", \"morning\", \"after 2pm\")\\n- Always fetches fresh availability from DB.\\n- Returns top 3 free slots.\\n- Stores them in ctx.suggested_slots for booking_appointment.', 'parameters': {'properties': {'day': {'type': 'string'}, 'date': {'type': 'string'}, 'time': {'type': 'string'}}, 'required': ['day', 'date', 'time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'booking_appointment', 'strict': True, 'description': 'Create or reschedule an appointment.\\nClean, predictable, AI-friendly logic.\\nUses helper functions for DB safety.', 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'get_date', 'strict': True, 'description': 'Return system date and time.', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'end_call', 'strict': True, 'description': \"Gracefully end the call after confirming there's nothing else needed.\\nDoes not clear Redis; short-term memory expires via TTL.\", 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'update_caller_profile', 'strict': True, 'description': 'Persist caller profile (name/phone) for future calls without disrupting session.\\nIf phone not provided, uses current session phone if available.', 'parameters': {'properties': {'name': {'type': ['string', 'null']}, 'phone': {'type': ['string', 'null']}}, 'required': ['name', 'phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'start_reschedule', 'strict': True, 'description': '', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'confirm_reschedule', 'strict': True, 'description': \"Confirm and perform rescheduling to the selected date/time.\\nUse after start_reschedule + available_slot when the caller says 'yes'.\", 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}]}}"}
{"timestamp": "2025-11-18T16:23:06.559558", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions"}
{"timestamp": "2025-11-18T16:23:06.560022", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=10.0 socket_options=None"}
{"timestamp": "2025-11-18T16:23:06.569398", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x12457f390>"}
{"timestamp": "2025-11-18T16:23:06.569541", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x117e28050> server_hostname='api.openai.com' timeout=10.0"}
{"timestamp": "2025-11-18T16:23:06.579723", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x116d30650>"}
{"timestamp": "2025-11-18T16:23:06.580010", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:23:06.580321", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-18T16:23:06.580414", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:23:06.580607", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-18T16:23:06.580660", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:23:07.126229", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 18 Nov 2025 16:23:07 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'287'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'314'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9996'), (b'x-ratelimit-remaining-tokens', b'198648'), (b'x-ratelimit-reset-requests', b'26.351s'), (b'x-ratelimit-reset-tokens', b'405ms'), (b'x-request-id', b'req_bc2baa4abbed48f1b9b3b5415a078a5d'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a08cf7c489524d9-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:23:07.126949", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/chat/completions \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-18T16:23:07.127137", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Tue, 18 Nov 2025 16:23:07 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '287', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '314', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9996', 'x-ratelimit-remaining-tokens': '198648', 'x-ratelimit-reset-requests': '26.351s', 'x-ratelimit-reset-tokens': '405ms', 'x-request-id': 'req_bc2baa4abbed48f1b9b3b5415a078a5d', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a08cf7c489524d9-KHI', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-18T16:23:07.127469", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_bc2baa4abbed48f1b9b3b5415a078a5d"}
{"timestamp": "2025-11-18T16:23:07.127880", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:23:07.265771", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482987.265279, 'idle_time': 21.54126987498603, 'inference_duration_total': 0.02054241401492618, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:07.266472", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482987.265279, 'idle_time': 21.54126987498603, 'inference_duration_total': 0.02054241401492618, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:07.323601", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-18T16:23:07.324211", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-18T16:23:07.325838", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIlvPGfFFvBsY1XZN4B23RXXApmk', 'timestamp': 1763482987.324779, 'duration': 0.7742601669742726, 'ttft': 0.6088585419929586, 'cancelled': False, 'completion_tokens': 10, 'prompt_tokens': 1319, 'prompt_cached_tokens': 1280, 'total_tokens': 1329, 'tokens_per_second': 12.915555295940058, 'speech_id': 'speech_f736d8a4c3c1', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:23:07.326229", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdIlvPGfFFvBsY1XZN4B23RXXApmk', 'timestamp': 1763482987.324779, 'duration': 0.7742601669742726, 'ttft': 0.6088585419929586, 'cancelled': False, 'completion_tokens': 10, 'prompt_tokens': 1319, 'prompt_cached_tokens': 1280, 'total_tokens': 1329, 'tokens_per_second': 12.915555295940058, 'speech_id': 'speech_f736d8a4c3c1', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:23:07.329108", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream', 'X-Stainless-Raw-Response': 'stream'}, 'timeout': Timeout(connect=10.0, read=30, write=30, pool=30), 'files': None, 'idempotency_key': 'stainless-python-retry-7db1275d-1083-41d5-b1e3-85a32e1c76b9', 'json_data': {'input': 'Hello! How can I assist you today?', 'model': 'gpt-4o-mini-tts', 'voice': 'alloy', 'response_format': 'mp3', 'speed': 1.0}}"}
{"timestamp": "2025-11-18T16:23:07.330257", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/audio/speech"}
{"timestamp": "2025-11-18T16:23:07.330695", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=10.0 socket_options=None"}
{"timestamp": "2025-11-18T16:23:07.331196", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.failed exception=GeneratorExit()"}
{"timestamp": "2025-11-18T16:23:07.345855", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1245e9d10>"}
{"timestamp": "2025-11-18T16:23:07.345970", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x117e280e0> server_hostname='api.openai.com' timeout=10.0"}
{"timestamp": "2025-11-18T16:23:07.361955", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x124587c50>"}
{"timestamp": "2025-11-18T16:23:07.362265", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:23:07.362705", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-18T16:23:07.362789", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:23:07.362958", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-18T16:23:07.363013", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:23:08.266997", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482988.266307, 'idle_time': 22.542287374992156, 'inference_duration_total': 0.025490206957329065, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:08.267844", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482988.266307, 'idle_time': 22.542287374992156, 'inference_duration_total': 0.025490206957329065, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:08.661889", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 18 Nov 2025 16:23:09 GMT'), (b'Content-Type', b'audio/mpeg'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'613'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'730'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9996'), (b'x-ratelimit-remaining-tokens', b'199992'), (b'x-ratelimit-reset-requests', b'34.087s'), (b'x-ratelimit-reset-tokens', b'2ms'), (b'x-request-id', b'req_6f6d9eae13324f5ea8e450f7b8c023e7'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a08cf812f832704-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:23:08.663551", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/audio/speech \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-18T16:23:08.663925", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/audio/speech \"200 OK\" Headers({'date': 'Tue, 18 Nov 2025 16:23:09 GMT', 'content-type': 'audio/mpeg', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '613', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '730', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9996', 'x-ratelimit-remaining-tokens': '199992', 'x-ratelimit-reset-requests': '34.087s', 'x-ratelimit-reset-tokens': '2ms', 'x-request-id': 'req_6f6d9eae13324f5ea8e450f7b8c023e7', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a08cf812f832704-KHI', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-18T16:23:08.664495", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_6f6d9eae13324f5ea8e450f7b8c023e7"}
{"timestamp": "2025-11-18T16:23:08.665142", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:23:09.315839", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482989.315423, 'idle_time': 23.591391291003674, 'inference_duration_total': 0.027256500063231215, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:09.316529", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482989.315423, 'idle_time': 23.591391291003674, 'inference_duration_total': 0.027256500063231215, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:09.891781", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:23:10.090575", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:23:10.314969", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482990.314803, 'idle_time': 24.5907610830036, 'inference_duration_total': 0.016511169087607414, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:10.315259", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482990.314803, 'idle_time': 24.5907610830036, 'inference_duration_total': 0.016511169087607414, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:10.864682", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'e7823979-6b9e-4e35-9a6d-854b81c4388b', 'timestamp': 1763482990.864459, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:23:10.864978", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'e7823979-6b9e-4e35-9a6d-854b81c4388b', 'timestamp': 1763482990.864459, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:23:11.139223", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:23:11.139447", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:23:11.365279", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482991.365066, 'idle_time': 25.64101287498488, 'inference_duration_total': 0.01693154504755512, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:11.365576", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482991.365066, 'idle_time': 25.64101287498488, 'inference_duration_total': 0.01693154504755512, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:11.999124", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:23:11.999645", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:23:12.365471", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482992.365212, 'idle_time': 26.641149332979694, 'inference_duration_total': 0.016009918006602675, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:12.366844", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482992.365212, 'idle_time': 26.641149332979694, 'inference_duration_total': 0.016009918006602675, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:12.603506", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete"}
{"timestamp": "2025-11-18T16:23:12.603745", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-18T16:23:12.603943", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-18T16:23:12.607464", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_6f6d9eae13324f5ea8e450f7b8c023e7', 'timestamp': 1763482992.60724, 'ttfb': 2.38276725000469, 'duration': 5.280370166990906, 'audio_duration': 2.314, 'cancelled': False, 'characters_count': 34, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_f736d8a4c3c1', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:23:12.608017", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_6f6d9eae13324f5ea8e450f7b8c023e7', 'timestamp': 1763482992.60724, 'ttfb': 2.38276725000469, 'duration': 5.280370166990906, 'audio_duration': 2.314, 'cancelled': False, 'characters_count': 34, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_f736d8a4c3c1', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:23:13.365365", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482993.36518, 'idle_time': 27.6411067500012, 'inference_duration_total': 0.014534086018102244, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:13.365841", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482993.36518, 'idle_time': 27.6411067500012, 'inference_duration_total': 0.014534086018102244, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:14.415877", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482994.415521, 'idle_time': 28.69143733297824, 'inference_duration_total': 0.02126287401188165, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:14.416402", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482994.415521, 'idle_time': 28.69143733297824, 'inference_duration_total': 0.02126287401188165, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:15.415502", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482995.415332, 'idle_time': 29.691237040999113, 'inference_duration_total': 0.02205695997690782, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:15.415797", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482995.415332, 'idle_time': 29.691237040999113, 'inference_duration_total': 0.02205695997690782, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:15.865484", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'e7823979-6b9e-4e35-9a6d-854b81c4388b', 'timestamp': 1763482995.8650408, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:23:15.865986", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'e7823979-6b9e-4e35-9a6d-854b81c4388b', 'timestamp': 1763482995.8650408, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:23:16.466626", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482996.4659998, 'idle_time': 30.741894332983065, 'inference_duration_total': 0.021931336901616305, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:16.468897", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482996.4659998, 'idle_time': 30.741894332983065, 'inference_duration_total': 0.021931336901616305, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:17.466279", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482997.4660401, 'idle_time': 31.741889750002883, 'inference_duration_total': 0.02065858503920026, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:17.466829", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482997.4660401, 'idle_time': 31.741889750002883, 'inference_duration_total': 0.02065858503920026, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:18.515706", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482998.5153458, 'idle_time': 32.79115049997927, 'inference_duration_total': 0.01854674905189313, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:18.516357", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482998.5153458, 'idle_time': 32.79115049997927, 'inference_duration_total': 0.01854674905189313, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:19.516622", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482999.5155342, 'idle_time': 33.79129525000462, 'inference_duration_total': 0.020039707073010504, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:19.517752", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763482999.5155342, 'idle_time': 33.79129525000462, 'inference_duration_total': 0.020039707073010504, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:20.566191", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483000.56583, 'idle_time': 0.34329495902056806, 'inference_duration_total': 0.019826790899969637, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:20.567193", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483000.56583, 'idle_time': 0.34329495902056806, 'inference_duration_total': 0.019826790899969637, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:20.914937", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'e7823979-6b9e-4e35-9a6d-854b81c4388b', 'timestamp': 1763483000.9147022, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:23:20.915314", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'e7823979-6b9e-4e35-9a6d-854b81c4388b', 'timestamp': 1763483000.9147022, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:23:21.565719", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483001.5655391, 'idle_time': 1.3429692500212695, 'inference_duration_total': 0.016871417028596625, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:21.566006", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483001.5655391, 'idle_time': 1.3429692500212695, 'inference_duration_total': 0.016871417028596625, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:22.616184", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483002.6158159, 'idle_time': 2.3932110000168905, 'inference_duration_total': 0.016498254117323086, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:22.616846", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483002.6158159, 'idle_time': 2.3932110000168905, 'inference_duration_total': 0.016498254117323086, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:23.250183", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-18T16:23:23.251755", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763483003.251643, 'end_of_utterance_delay': 1.0915160179138184, 'transcription_delay': 1.0909559726715088, 'on_user_turn_completed_delay': 9.5367431640625e-07, 'last_speaking_time': 1763483002.159376, 'speech_id': 'speech_a36317e4cf35', 'metadata': None}}"}
{"timestamp": "2025-11-18T16:23:23.253213", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763483003.251643, 'end_of_utterance_delay': 1.0915160179138184, 'transcription_delay': 1.0909559726715088, 'on_user_turn_completed_delay': 9.5367431640625e-07, 'last_speaking_time': 1763483002.159376, 'speech_id': 'speech_a36317e4cf35', 'metadata': None}}"}
{"timestamp": "2025-11-18T16:23:23.261659", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'timeout': Timeout(timeout=10.0), 'files': None, 'idempotency_key': 'stainless-python-retry-8ebeca89-253d-4c5a-9b12-f9e0b74445c0', 'json_data': {'messages': [{'role': 'system', 'content': \"\\n        You are **Shifa Clinic\u2019s AI Receptionist**, answering calls in real time.\\n            Your role is to help callers with booking, confirming, or rescheduling appointments.\\n            Speak naturally, briefly, and professionally\u2014like an experienced clinic receptionist.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CORE BEHAVIOR\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            1. **Every call is fresh.**  \\n            Do not rely on previous session context. Use only:\\n            - caller name (if known)\\n            - caller phone (if known)\\n            - information spoken in THIS call\\n            \\n\\n            2. **One task at a time.**  \\n            Every reply must:\\n            - confirm the last thing the caller said\\n            - take one small step forward (ask ONE question)\\n            - be under **8 words**\\n                Always respond in under 8 words. Prioritize immediate tool calls. Do not speak long sentences.\\n\\n            3. **Never expose internal logic.**  \\n            Never say:\\n            - \u201ccalling a tool\u2026\u201d\\n            - \u201csaving memory\u2026\u201d\\n            - \u201cI detected your name\u2026\u201d\\n            - \u201cupdating the appointment\u2026\u201d\\n\\n            4. **Always stay polite, warm, and concise.**\\n            Examples:\\n            - \u201cSure, one moment.\u201d\\n            - \u201cGot it.\u201d\\n            - \u201cLet me check that.\u201d\\n\\n            5. **If caller seems confused, repeat slowly and simply.**\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### TOOL CALLING RULES\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            Use tools to perform actions.  \\n            After calling a tool, speak a short natural confirmation.\\n\\n            **Tools you may call:**\\n            - `save_name(name)`\\n            - `save_phone(phone)`\\n            - `available_slot()`\\n            - `booking_appointment()`\\n            - `get_date()`\\n            - `update_caller_profile(name?, phone?)`\\n            - `start_reschedule()`\\n            - `confirm_reschedule()`\\n            - `end_call()`\\n\\n            Tool usage guidelines:\\n            - Call **save_name** immediately when you hear a name.\\n            - Call **save_phone** when digits are spoken.  \\n            If partial, ask: \u201cCan you repeat that number slowly?\u201d\\n            - Call **available_slot** when caller expresses a time preference (morning, evening, 3pm, etc.)\\n            - Call **get_date** when caller gives a vague date (\u201cnext Monday\u201d).\\n            - Call **booking_appointment** only when BOTH date and time are known.\\n            - Call **update_caller_profile** if caller corrects name or phone.\\n            - After a booking or reschedule completes, ask:  \\n            \u201cAnything else I can help with?\u201d  \\n            If caller says \u201cno\u201d, use `end_call()`.\\n            If the phone number is unclear or has extra/missing digits, ask the caller to repeat it digit by digit.\\n                Do not guess phone numbers.\\n                Always confirm the final number by repeating it back.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESCHEDULE FLOW\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            When the caller says anything like \u201cchange\u201d, \u201cmove\u201d, \u201creschedule\u201d, \u201cshift\u201d:\\n            1. Call **start_reschedule**.\\n            2. Ask for the new date.\\n            3. Once date \u2192 ask for time.\\n            4. When BOTH are known \u2192 call **confirm_reschedule**.\\n            5. After confirmation \u2192 ask:  \\n            \u201cAnything else I can help with?\u201d\\n\\n            Never call `confirm_reschedule` early.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CONVERSATION STYLE\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Speak like a calm clinic receptionist.\\n            - Use short sentences.  \\n            - One question per turn.  \\n            - No filler like \u201cas an AI\u201d.  \\n            - No medical advice.  \\n            - Don't ask for information you already have.\\n\\n            **Good examples:**\\n            - \u201cSure. What day works for you?\u201d\\n            - \u201cGot it. And what time?\u201d\\n            - \u201cPerfect. One moment while I check.\u201d\\n\\n            **Bad examples:**\\n            - \u201cLet me call a tool.\u201d\\n            - \u201cProcessing your request.\u201d\\n            - \u201cI am updating your appointment in the database.\u201d\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESPONSE CONTROL\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Never output long paragraphs.  \\n            - Never output lists or explanations.  \\n            - Keep responses conversational and human.  \\n            - If caller pauses 5 seconds, use `end_call()`.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### ROLE REMINDER\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            You are the first point of contact for Shifa Clinic.  \\n            Be warm. Be efficient. Be human.\\n\\n            Now handle the caller.\\n\\n\"}, {'role': 'user', 'content': 'Hello?'}, {'role': 'assistant', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Want to book an appointment for tomorrow morning.'}], 'model': 'gpt-4o-mini', 'stream': True, 'stream_options': {'include_usage': True}, 'temperature': 0.7, 'tools': [{'type': 'function', 'function': {'name': 'save_name', 'strict': True, 'description': '', 'parameters': {'properties': {'name': {'type': 'string'}}, 'required': ['name'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'save_phone', 'strict': True, 'description': 'Store validated patient phone in Redis using existing BookingBase validator.', 'parameters': {'properties': {'phone': {'type': 'string'}}, 'required': ['phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'available_slot', 'strict': True, 'description': 'Suggest available appointment slots for a given day.\\n- Understands natural language (\"tomorrow\", \"morning\", \"after 2pm\")\\n- Always fetches fresh availability from DB.\\n- Returns top 3 free slots.\\n- Stores them in ctx.suggested_slots for booking_appointment.', 'parameters': {'properties': {'day': {'type': 'string'}, 'date': {'type': 'string'}, 'time': {'type': 'string'}}, 'required': ['day', 'date', 'time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'booking_appointment', 'strict': True, 'description': 'Create or reschedule an appointment.\\nClean, predictable, AI-friendly logic.\\nUses helper functions for DB safety.', 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'get_date', 'strict': True, 'description': 'Return system date and time.', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'end_call', 'strict': True, 'description': \"Gracefully end the call after confirming there's nothing else needed.\\nDoes not clear Redis; short-term memory expires via TTL.\", 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'update_caller_profile', 'strict': True, 'description': 'Persist caller profile (name/phone) for future calls without disrupting session.\\nIf phone not provided, uses current session phone if available.', 'parameters': {'properties': {'name': {'type': ['string', 'null']}, 'phone': {'type': ['string', 'null']}}, 'required': ['name', 'phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'start_reschedule', 'strict': True, 'description': '', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'confirm_reschedule', 'strict': True, 'description': \"Confirm and perform rescheduling to the selected date/time.\\nUse after start_reschedule + available_slot when the caller says 'yes'.\", 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}]}}"}
{"timestamp": "2025-11-18T16:23:23.263416", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions"}
{"timestamp": "2025-11-18T16:23:23.264131", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=10.0 socket_options=None"}
{"timestamp": "2025-11-18T16:23:23.615804", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483003.615652, 'idle_time': 0.8973022919963114, 'inference_duration_total': 0.019712376088136807, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:23.616480", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483003.615652, 'idle_time': 0.8973022919963114, 'inference_duration_total': 0.019712376088136807, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:23.642677", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x117e8b690>"}
{"timestamp": "2025-11-18T16:23:23.642802", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x117e28050> server_hostname='api.openai.com' timeout=10.0"}
{"timestamp": "2025-11-18T16:23:23.774031", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x117e89e50>"}
{"timestamp": "2025-11-18T16:23:23.774443", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:23:23.774758", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-18T16:23:23.774829", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:23:23.775057", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-18T16:23:23.775115", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:23:24.665490", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483004.66532, 'idle_time': 1.9469381670060102, 'inference_duration_total': 0.01548900397028774, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:24.665789", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483004.66532, 'idle_time': 1.9469381670060102, 'inference_duration_total': 0.01548900397028774, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:25.631231", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 18 Nov 2025 16:23:25 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'668'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'682'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9996'), (b'x-ratelimit-remaining-tokens', b'198625'), (b'x-ratelimit-reset-requests', b'26.37s'), (b'x-ratelimit-reset-tokens', b'412ms'), (b'x-request-id', b'req_102498cc23464c2d9845b972d8de8e0b'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a08cfe81a38095a-HKG'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:23:25.631767", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/chat/completions \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-18T16:23:25.631937", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Tue, 18 Nov 2025 16:23:25 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '668', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '682', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9996', 'x-ratelimit-remaining-tokens': '198625', 'x-ratelimit-reset-requests': '26.37s', 'x-ratelimit-reset-tokens': '412ms', 'x-request-id': 'req_102498cc23464c2d9845b972d8de8e0b', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a08cfe81a38095a-HKG', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-18T16:23:25.632172", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_102498cc23464c2d9845b972d8de8e0b"}
{"timestamp": "2025-11-18T16:23:25.632444", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:23:25.634243", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-18T16:23:25.634571", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-18T16:23:25.636773", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.failed exception=GeneratorExit()"}
{"timestamp": "2025-11-18T16:23:25.637248", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdImCrFB9jhItRUd237Aj1Qf363hz', 'timestamp': 1763483005.6369762, 'duration': 2.383575291984016, 'ttft': 2.381089666974731, 'cancelled': False, 'completion_tokens': 10, 'prompt_tokens': 1345, 'prompt_cached_tokens': 0, 'total_tokens': 1355, 'tokens_per_second': 4.195378276335589, 'speech_id': 'speech_a36317e4cf35', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:23:25.637438", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdImCrFB9jhItRUd237Aj1Qf363hz', 'timestamp': 1763483005.6369762, 'duration': 2.383575291984016, 'ttft': 2.381089666974731, 'cancelled': False, 'completion_tokens': 10, 'prompt_tokens': 1345, 'prompt_cached_tokens': 0, 'total_tokens': 1355, 'tokens_per_second': 4.195378276335589, 'speech_id': 'speech_a36317e4cf35', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:23:25.638187", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream', 'X-Stainless-Raw-Response': 'stream'}, 'timeout': Timeout(connect=10.0, read=30, write=30, pool=30), 'files': None, 'idempotency_key': 'stainless-python-retry-049fb711-e16c-4803-82c0-b401c2065f24', 'json_data': {'input': 'Got it! One moment while I check.', 'model': 'gpt-4o-mini-tts', 'voice': 'alloy', 'response_format': 'mp3', 'speed': 1.0}}"}
{"timestamp": "2025-11-18T16:23:25.638628", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/audio/speech"}
{"timestamp": "2025-11-18T16:23:25.639066", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:23:25.639351", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-18T16:23:25.639421", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:23:25.639594", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-18T16:23:25.639657", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:23:25.665664", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483005.6655061, 'idle_time': 2.9470947080117185, 'inference_duration_total': 0.015169164951657876, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:25.665870", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483005.6655061, 'idle_time': 2.9470947080117185, 'inference_duration_total': 0.015169164951657876, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:25.915105", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'e7823979-6b9e-4e35-9a6d-854b81c4388b', 'timestamp': 1763483005.914934, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:23:25.915418", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'e7823979-6b9e-4e35-9a6d-854b81c4388b', 'timestamp': 1763483005.914934, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:23:26.715417", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483006.7152572, 'idle_time': 3.9968164580059238, 'inference_duration_total': 0.01768866489874199, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:26.716821", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483006.7152572, 'idle_time': 3.9968164580059238, 'inference_duration_total': 0.01768866489874199, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:27.718444", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483007.7178319, 'idle_time': 4.999365083000157, 'inference_duration_total': 0.025760913937119767, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:27.719255", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483007.7178319, 'idle_time': 4.999365083000157, 'inference_duration_total': 0.025760913937119767, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:28.767681", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483008.767148, 'idle_time': 6.0486542920116335, 'inference_duration_total': 0.02728104096604511, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:28.768564", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483008.767148, 'idle_time': 6.0486542920116335, 'inference_duration_total': 0.02728104096604511, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:29.768890", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483009.768268, 'idle_time': 7.049750083009712, 'inference_duration_total': 0.03170437889639288, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:29.769671", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483009.768268, 'idle_time': 7.049750083009712, 'inference_duration_total': 0.03170437889639288, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:30.019363", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 18 Nov 2025 16:23:30 GMT'), (b'Content-Type', b'audio/mpeg'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'685'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'1042'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9996'), (b'x-ratelimit-remaining-tokens', b'199992'), (b'x-ratelimit-reset-requests', b'32.835s'), (b'x-ratelimit-reset-tokens', b'2ms'), (b'x-request-id', b'req_52f8c45f4c174615925d671042b65942'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a08cff36b672704-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:23:30.019749", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/audio/speech \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-18T16:23:30.019862", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/audio/speech \"200 OK\" Headers({'date': 'Tue, 18 Nov 2025 16:23:30 GMT', 'content-type': 'audio/mpeg', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '685', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '1042', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9996', 'x-ratelimit-remaining-tokens': '199992', 'x-ratelimit-reset-requests': '32.835s', 'x-ratelimit-reset-tokens': '2ms', 'x-request-id': 'req_52f8c45f4c174615925d671042b65942', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a08cff36b672704-KHI', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-18T16:23:30.020066", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_52f8c45f4c174615925d671042b65942"}
{"timestamp": "2025-11-18T16:23:30.020273", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:23:30.205569", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:23:30.670110", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:23:30.817170", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483010.816614, 'idle_time': 8.098071042011725, 'inference_duration_total': 0.02874566803802736, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:30.818015", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483010.816614, 'idle_time': 8.098071042011725, 'inference_duration_total': 0.02874566803802736, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:30.917124", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'e7823979-6b9e-4e35-9a6d-854b81c4388b', 'timestamp': 1763483010.916477, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:23:30.918031", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'e7823979-6b9e-4e35-9a6d-854b81c4388b', 'timestamp': 1763483010.916477, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:23:31.204920", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:23:31.387119", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:23:31.818021", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483011.8173451, 'idle_time': 9.098778874991694, 'inference_duration_total': 0.028111459978390485, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:31.818862", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483011.8173451, 'idle_time': 9.098778874991694, 'inference_duration_total': 0.028111459978390485, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:31.944173", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete"}
{"timestamp": "2025-11-18T16:23:31.944673", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-18T16:23:31.945050", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-18T16:23:31.953464", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_52f8c45f4c174615925d671042b65942', 'timestamp': 1763483011.952918, 'ttfb': 4.385940458014375, 'duration': 6.314960332994815, 'audio_duration': 2.026, 'cancelled': False, 'characters_count': 33, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_a36317e4cf35', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:23:31.954304", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_52f8c45f4c174615925d671042b65942', 'timestamp': 1763483011.952918, 'ttfb': 4.385940458014375, 'duration': 6.314960332994815, 'audio_duration': 2.026, 'cancelled': False, 'characters_count': 33, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_a36317e4cf35', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:23:32.868205", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483012.86758, 'idle_time': 10.148991750000278, 'inference_duration_total': 0.02691366695216857, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:32.869111", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483012.86758, 'idle_time': 10.148991750000278, 'inference_duration_total': 0.02691366695216857, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:33.868308", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483013.867658, 'idle_time': 11.149047792016063, 'inference_duration_total': 0.03203041403321549, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:33.869181", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483013.867658, 'idle_time': 11.149047792016063, 'inference_duration_total': 0.03203041403321549, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:34.918703", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483014.9181309, 'idle_time': 12.199499583017314, 'inference_duration_total': 0.03056491893948987, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:34.919511", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483014.9181309, 'idle_time': 12.199499583017314, 'inference_duration_total': 0.03056491893948987, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:35.916552", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483015.916237, 'idle_time': 13.197585957997944, 'inference_duration_total': 0.030526084068696946, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:35.917296", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483015.916237, 'idle_time': 13.197585957997944, 'inference_duration_total': 0.030526084068696946, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:35.965707", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'e7823979-6b9e-4e35-9a6d-854b81c4388b', 'timestamp': 1763483015.965389, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:23:35.966160", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'e7823979-6b9e-4e35-9a6d-854b81c4388b', 'timestamp': 1763483015.965389, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:23:36.968408", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483016.9678888, 'idle_time': 14.249218208016828, 'inference_duration_total': 0.028830667055444792, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:36.969161", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483016.9678888, 'idle_time': 14.249218208016828, 'inference_duration_total': 0.028830667055444792, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:37.968207", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483017.967204, 'idle_time': 15.248514625011012, 'inference_duration_total': 0.025117708049947396, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:37.969266", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483017.967204, 'idle_time': 15.248514625011012, 'inference_duration_total': 0.025117708049947396, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:38.966685", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483018.966368, 'idle_time': 16.247661125002196, 'inference_duration_total': 0.029987168061779812, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:38.967157", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483018.966368, 'idle_time': 16.247661125002196, 'inference_duration_total': 0.029987168061779812, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:40.018433", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483020.0178099, 'idle_time': 17.29908479200094, 'inference_duration_total': 0.020176627964247018, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:40.019271", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483020.0178099, 'idle_time': 17.29908479200094, 'inference_duration_total': 0.020176627964247018, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:41.015653", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'e7823979-6b9e-4e35-9a6d-854b81c4388b', 'timestamp': 1763483021.0152261, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:23:41.016204", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'e7823979-6b9e-4e35-9a6d-854b81c4388b', 'timestamp': 1763483021.0152261, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:23:41.016557", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483021.016426, 'idle_time': 18.297683292010333, 'inference_duration_total': 0.024798956990707666, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:41.016735", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483021.016426, 'idle_time': 18.297683292010333, 'inference_duration_total': 0.024798956990707666, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:42.066211", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483022.06593, 'idle_time': 19.34717058300157, 'inference_duration_total': 0.017279628023970872, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:42.066569", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483022.06593, 'idle_time': 19.34717058300157, 'inference_duration_total': 0.017279628023970872, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:43.066205", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483023.0660229, 'idle_time': 20.347247333003907, 'inference_duration_total': 0.015770664962474257, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:43.066612", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483023.0660229, 'idle_time': 20.347247333003907, 'inference_duration_total': 0.015770664962474257, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:44.117821", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483024.117265, 'idle_time': 21.398473708017264, 'inference_duration_total': 0.023935794015415013, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:44.118637", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483024.117265, 'idle_time': 21.398473708017264, 'inference_duration_total': 0.023935794015415013, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:45.119124", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483025.118214, 'idle_time': 22.399407082994003, 'inference_duration_total': 0.023531917919171974, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:45.120148", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483025.118214, 'idle_time': 22.399407082994003, 'inference_duration_total': 0.023531917919171974, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:46.017391", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'e7823979-6b9e-4e35-9a6d-854b81c4388b', 'timestamp': 1763483026.0168939, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:23:46.018252", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'e7823979-6b9e-4e35-9a6d-854b81c4388b', 'timestamp': 1763483026.0168939, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:23:46.166500", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483026.166251, 'idle_time': 23.44742858299287, 'inference_duration_total': 0.030039834935450926, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:46.166946", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483026.166251, 'idle_time': 23.44742858299287, 'inference_duration_total': 0.030039834935450926, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:47.166358", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483027.166093, 'idle_time': 24.4472567079938, 'inference_duration_total': 0.01901128891040571, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:47.166684", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483027.166093, 'idle_time': 24.4472567079938, 'inference_duration_total': 0.01901128891040571, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:48.216588", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483028.216293, 'idle_time': 25.497441500017885, 'inference_duration_total': 0.0269242919748649, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:48.217150", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483028.216293, 'idle_time': 25.497441500017885, 'inference_duration_total': 0.0269242919748649, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:49.216745", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483029.2165241, 'idle_time': 26.497659042011946, 'inference_duration_total': 0.023318837047554553, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:49.217214", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483029.2165241, 'idle_time': 26.497659042011946, 'inference_duration_total': 0.023318837047554553, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:50.270064", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483030.268654, 'idle_time': 27.549775124993175, 'inference_duration_total': 0.06817374902311713, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:50.271447", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483030.268654, 'idle_time': 27.549775124993175, 'inference_duration_total': 0.06817374902311713, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:51.065904", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'e7823979-6b9e-4e35-9a6d-854b81c4388b', 'timestamp': 1763483031.06545, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:23:51.066431", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'e7823979-6b9e-4e35-9a6d-854b81c4388b', 'timestamp': 1763483031.06545, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:23:51.266495", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483031.266307, 'idle_time': 28.54741416699835, 'inference_duration_total': 0.02039358505862765, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:51.266815", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483031.266307, 'idle_time': 28.54741416699835, 'inference_duration_total': 0.02039358505862765, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:52.317064", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483032.316836, 'idle_time': 29.597929292009212, 'inference_duration_total': 0.016619791014818475, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:52.319376", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483032.316836, 'idle_time': 29.597929292009212, 'inference_duration_total': 0.016619791014818475, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:53.316800", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483033.316575, 'idle_time': 30.597656375000952, 'inference_duration_total': 0.020435955986613408, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:53.317180", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483033.316575, 'idle_time': 30.597656375000952, 'inference_duration_total': 0.020435955986613408, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:54.366051", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483034.365823, 'idle_time': 31.64689066700521, 'inference_duration_total': 0.01843045695568435, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:54.366369", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483034.365823, 'idle_time': 31.64689066700521, 'inference_duration_total': 0.01843045695568435, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:55.366351", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483035.366186, 'idle_time': 32.64724129199749, 'inference_duration_total': 0.015048667119117454, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:55.366611", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483035.366186, 'idle_time': 32.64724129199749, 'inference_duration_total': 0.015048667119117454, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:56.115115", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'e7823979-6b9e-4e35-9a6d-854b81c4388b', 'timestamp': 1763483036.114727, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:23:56.115466", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'e7823979-6b9e-4e35-9a6d-854b81c4388b', 'timestamp': 1763483036.114727, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:23:56.416828", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483036.416196, 'idle_time': 33.69723858300131, 'inference_duration_total': 0.043332290049875155, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:56.417837", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483036.416196, 'idle_time': 33.69723858300131, 'inference_duration_total': 0.043332290049875155, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:57.416009", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483037.415852, 'idle_time': 34.69688299999689, 'inference_duration_total': 0.016293040913296863, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:57.417989", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483037.415852, 'idle_time': 34.69688299999689, 'inference_duration_total': 0.016293040913296863, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:58.466419", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483038.4661078, 'idle_time': 35.747125666996, 'inference_duration_total': 0.015506915020523593, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:58.466990", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483038.4661078, 'idle_time': 35.747125666996, 'inference_duration_total': 0.015506915020523593, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:59.465954", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483039.4657369, 'idle_time': 36.74674316699384, 'inference_duration_total': 0.015924580860882998, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:23:59.466309", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483039.4657369, 'idle_time': 36.74674316699384, 'inference_duration_total': 0.015924580860882998, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:00.519822", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483040.518805, 'idle_time': 37.7997991250013, 'inference_duration_total': 0.02634329197462648, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:00.521400", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483040.518805, 'idle_time': 37.7997991250013, 'inference_duration_total': 0.02634329197462648, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:01.116879", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'e7823979-6b9e-4e35-9a6d-854b81c4388b', 'timestamp': 1763483041.116311, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:24:01.117634", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'e7823979-6b9e-4e35-9a6d-854b81c4388b', 'timestamp': 1763483041.116311, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:24:01.516142", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483041.515944, 'idle_time': 38.79692712498945, 'inference_duration_total': 0.02224304710398428, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:01.516452", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483041.515944, 'idle_time': 38.79692712498945, 'inference_duration_total': 0.02224304710398428, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:02.568049", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483042.567453, 'idle_time': 39.848424041992985, 'inference_duration_total': 0.021950753027340397, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:02.568881", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483042.567453, 'idle_time': 39.848424041992985, 'inference_duration_total': 0.021950753027340397, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:03.566532", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483043.5662668, 'idle_time': 40.847226792015135, 'inference_duration_total': 0.02004762290744111, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:03.567063", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483043.5662668, 'idle_time': 40.847226792015135, 'inference_duration_total': 0.02004762290744111, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:04.567095", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483044.5668302, 'idle_time': 41.847778416995425, 'inference_duration_total': 0.023069667076924816, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:04.567456", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483044.5668302, 'idle_time': 41.847778416995425, 'inference_duration_total': 0.023069667076924816, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:05.618725", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483045.618171, 'idle_time': 42.89910845799022, 'inference_duration_total': 0.049503667920362204, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:05.619463", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483045.618171, 'idle_time': 42.89910845799022, 'inference_duration_total': 0.049503667920362204, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:06.166475", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'e7823979-6b9e-4e35-9a6d-854b81c4388b', 'timestamp': 1763483046.1659892, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:24:06.167060", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'e7823979-6b9e-4e35-9a6d-854b81c4388b', 'timestamp': 1763483046.1659892, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:24:06.617047", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483046.616749, 'idle_time': 43.8976756670163, 'inference_duration_total': 0.02158195700030774, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:06.617566", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483046.616749, 'idle_time': 43.8976756670163, 'inference_duration_total': 0.02158195700030774, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:07.666914", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483047.666475, 'idle_time': 44.94739004201256, 'inference_duration_total': 0.024218788981670514, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:07.667746", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483047.666475, 'idle_time': 44.94739004201256, 'inference_duration_total': 0.024218788981670514, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:08.667088", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483048.6668422, 'idle_time': 45.947746541991364, 'inference_duration_total': 0.02303308597765863, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:08.667678", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483048.6668422, 'idle_time': 45.947746541991364, 'inference_duration_total': 0.02303308597765863, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:09.718250", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483049.717639, 'idle_time': 46.99853270800668, 'inference_duration_total': 0.0211635849555023, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:09.719528", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483049.717639, 'idle_time': 46.99853270800668, 'inference_duration_total': 0.0211635849555023, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:10.717165", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483050.716918, 'idle_time': 47.997800417011604, 'inference_duration_total': 0.026664167060516775, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:10.717529", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483050.716918, 'idle_time': 47.997800417011604, 'inference_duration_total': 0.026664167060516775, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:11.215558", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'e7823979-6b9e-4e35-9a6d-854b81c4388b', 'timestamp': 1763483051.215349, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:24:11.216035", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'e7823979-6b9e-4e35-9a6d-854b81c4388b', 'timestamp': 1763483051.215349, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:24:11.766770", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483051.7665012, 'idle_time': 49.047372750006616, 'inference_duration_total': 0.02149162392015569, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:11.767306", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483051.7665012, 'idle_time': 49.047372750006616, 'inference_duration_total': 0.02149162392015569, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:12.769377", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483052.769048, 'idle_time': 50.04990949999774, 'inference_duration_total': 0.02347700297832489, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:12.769950", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483052.769048, 'idle_time': 50.04990949999774, 'inference_duration_total': 0.02347700297832489, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:13.818534", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483053.8179252, 'idle_time': 51.09877520799637, 'inference_duration_total': 0.017615373915759847, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:13.819382", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483053.8179252, 'idle_time': 51.09877520799637, 'inference_duration_total': 0.017615373915759847, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:14.817110", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483054.816837, 'idle_time': 52.097676625009626, 'inference_duration_total': 0.021958793979138136, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:14.817471", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483054.816837, 'idle_time': 52.097676625009626, 'inference_duration_total': 0.021958793979138136, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:15.867983", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483055.867404, 'idle_time': 53.14823374999105, 'inference_duration_total': 0.021074915042845532, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:15.869420", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483055.867404, 'idle_time': 53.14823374999105, 'inference_duration_total': 0.021074915042845532, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:16.217125", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'e7823979-6b9e-4e35-9a6d-854b81c4388b', 'timestamp': 1763483056.2165911, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:24:16.218162", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'e7823979-6b9e-4e35-9a6d-854b81c4388b', 'timestamp': 1763483056.2165911, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:24:16.867140", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483056.8669078, 'idle_time': 54.14772695800639, 'inference_duration_total': 0.029678582068299875, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:16.867529", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483056.8669078, 'idle_time': 54.14772695800639, 'inference_duration_total': 0.029678582068299875, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:17.916578", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483057.9162529, 'idle_time': 55.19706091700937, 'inference_duration_total': 0.01809824997326359, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:17.916867", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483057.9162529, 'idle_time': 55.19706091700937, 'inference_duration_total': 0.01809824997326359, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:18.916912", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483058.916712, 'idle_time': 56.19751029199688, 'inference_duration_total': 0.02455866994569078, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:18.917426", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483058.916712, 'idle_time': 56.19751029199688, 'inference_duration_total': 0.02455866994569078, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:19.969518", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483059.9689448, 'idle_time': 57.24973270800547, 'inference_duration_total': 0.024843874940415844, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:19.970306", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483059.9689448, 'idle_time': 57.24973270800547, 'inference_duration_total': 0.024843874940415844, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:20.967401", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483060.966719, 'idle_time': 58.24749658300425, 'inference_duration_total': 0.02386908099288121, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:20.969690", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483060.966719, 'idle_time': 58.24749658300425, 'inference_duration_total': 0.02386908099288121, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:21.265816", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'e7823979-6b9e-4e35-9a6d-854b81c4388b', 'timestamp': 1763483061.265622, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:24:21.266214", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'e7823979-6b9e-4e35-9a6d-854b81c4388b', 'timestamp': 1763483061.265622, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:24:22.016459", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483062.0162408, 'idle_time': 59.297007292014314, 'inference_duration_total': 0.018935584026621655, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:22.018076", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483062.0162408, 'idle_time': 59.297007292014314, 'inference_duration_total': 0.018935584026621655, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:23.016600", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483063.016235, 'idle_time': 60.296991333016194, 'inference_duration_total': 0.03321508309454657, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:23.016971", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483063.016235, 'idle_time': 60.296991333016194, 'inference_duration_total': 0.03321508309454657, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:24.069251", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483064.068502, 'idle_time': 61.34924895799486, 'inference_duration_total': 0.022818000055849552, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:24.070380", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483064.068502, 'idle_time': 61.34924895799486, 'inference_duration_total': 0.022818000055849552, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:25.066328", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483065.066168, 'idle_time': 62.34690445801243, 'inference_duration_total': 0.025532582076266408, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:25.066585", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483065.066168, 'idle_time': 62.34690445801243, 'inference_duration_total': 0.025532582076266408, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:26.116728", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483066.1163871, 'idle_time': 63.397112958016805, 'inference_duration_total': 0.02147092012455687, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:26.117310", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483066.1163871, 'idle_time': 63.397112958016805, 'inference_duration_total': 0.02147092012455687, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:26.266155", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'e7823979-6b9e-4e35-9a6d-854b81c4388b', 'timestamp': 1763483066.265918, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:24:26.266519", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'e7823979-6b9e-4e35-9a6d-854b81c4388b', 'timestamp': 1763483066.265918, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:24:27.116303", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483067.1161358, 'idle_time': 64.39685225000721, 'inference_duration_total': 0.018274000991368666, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:27.116592", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483067.1161358, 'idle_time': 64.39685225000721, 'inference_duration_total': 0.018274000991368666, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:28.166902", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483068.166663, 'idle_time': 65.44736916699912, 'inference_duration_total': 0.016724873101338744, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:28.167570", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483068.166663, 'idle_time': 65.44736916699912, 'inference_duration_total': 0.016724873101338744, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:29.169016", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483069.1683168, 'idle_time': 66.44901300000492, 'inference_duration_total': 0.022078752954257652, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:29.169851", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483069.1683168, 'idle_time': 66.44901300000492, 'inference_duration_total': 0.022078752954257652, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:30.166720", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483070.16652, 'idle_time': 0.1494702500058338, 'inference_duration_total': 0.01927679596701637, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:30.167063", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483070.16652, 'idle_time': 0.1494702500058338, 'inference_duration_total': 0.01927679596701637, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:31.216790", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483071.216528, 'idle_time': 0.49769145902246237, 'inference_duration_total': 0.026873875031014904, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:31.217218", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483071.216528, 'idle_time': 0.49769145902246237, 'inference_duration_total': 0.026873875031014904, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:31.266529", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'e7823979-6b9e-4e35-9a6d-854b81c4388b', 'timestamp': 1763483071.266239, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:24:31.267014", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'e7823979-6b9e-4e35-9a6d-854b81c4388b', 'timestamp': 1763483071.266239, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:24:31.312339", "level": "DEBUG", "logger": "livekit.agents", "message": "received user transcript"}
{"timestamp": "2025-11-18T16:24:31.314387", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763483071.3142378, 'end_of_utterance_delay': 1.1976819038391113, 'transcription_delay': 1.1971650123596191, 'on_user_turn_completed_delay': 8.106231689453125e-06, 'last_speaking_time': 1763483070.115328, 'speech_id': 'speech_ad6c93372acc', 'metadata': None}}"}
{"timestamp": "2025-11-18T16:24:31.315361", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'EOUMetrics', 'data': {'type': 'eou_metrics', 'timestamp': 1763483071.3142378, 'end_of_utterance_delay': 1.1976819038391113, 'transcription_delay': 1.1971650123596191, 'on_user_turn_completed_delay': 8.106231689453125e-06, 'last_speaking_time': 1763483070.115328, 'speech_id': 'speech_ad6c93372acc', 'metadata': None}}"}
{"timestamp": "2025-11-18T16:24:31.325573", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/chat/completions', 'timeout': Timeout(timeout=10.0), 'files': None, 'idempotency_key': 'stainless-python-retry-1f639e1b-cabc-41dc-b938-4ab71eb46c4f', 'json_data': {'messages': [{'role': 'system', 'content': \"\\n        You are **Shifa Clinic\u2019s AI Receptionist**, answering calls in real time.\\n            Your role is to help callers with booking, confirming, or rescheduling appointments.\\n            Speak naturally, briefly, and professionally\u2014like an experienced clinic receptionist.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CORE BEHAVIOR\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            1. **Every call is fresh.**  \\n            Do not rely on previous session context. Use only:\\n            - caller name (if known)\\n            - caller phone (if known)\\n            - information spoken in THIS call\\n            \\n\\n            2. **One task at a time.**  \\n            Every reply must:\\n            - confirm the last thing the caller said\\n            - take one small step forward (ask ONE question)\\n            - be under **8 words**\\n                Always respond in under 8 words. Prioritize immediate tool calls. Do not speak long sentences.\\n\\n            3. **Never expose internal logic.**  \\n            Never say:\\n            - \u201ccalling a tool\u2026\u201d\\n            - \u201csaving memory\u2026\u201d\\n            - \u201cI detected your name\u2026\u201d\\n            - \u201cupdating the appointment\u2026\u201d\\n\\n            4. **Always stay polite, warm, and concise.**\\n            Examples:\\n            - \u201cSure, one moment.\u201d\\n            - \u201cGot it.\u201d\\n            - \u201cLet me check that.\u201d\\n\\n            5. **If caller seems confused, repeat slowly and simply.**\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### TOOL CALLING RULES\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            Use tools to perform actions.  \\n            After calling a tool, speak a short natural confirmation.\\n\\n            **Tools you may call:**\\n            - `save_name(name)`\\n            - `save_phone(phone)`\\n            - `available_slot()`\\n            - `booking_appointment()`\\n            - `get_date()`\\n            - `update_caller_profile(name?, phone?)`\\n            - `start_reschedule()`\\n            - `confirm_reschedule()`\\n            - `end_call()`\\n\\n            Tool usage guidelines:\\n            - Call **save_name** immediately when you hear a name.\\n            - Call **save_phone** when digits are spoken.  \\n            If partial, ask: \u201cCan you repeat that number slowly?\u201d\\n            - Call **available_slot** when caller expresses a time preference (morning, evening, 3pm, etc.)\\n            - Call **get_date** when caller gives a vague date (\u201cnext Monday\u201d).\\n            - Call **booking_appointment** only when BOTH date and time are known.\\n            - Call **update_caller_profile** if caller corrects name or phone.\\n            - After a booking or reschedule completes, ask:  \\n            \u201cAnything else I can help with?\u201d  \\n            If caller says \u201cno\u201d, use `end_call()`.\\n            If the phone number is unclear or has extra/missing digits, ask the caller to repeat it digit by digit.\\n                Do not guess phone numbers.\\n                Always confirm the final number by repeating it back.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESCHEDULE FLOW\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            When the caller says anything like \u201cchange\u201d, \u201cmove\u201d, \u201creschedule\u201d, \u201cshift\u201d:\\n            1. Call **start_reschedule**.\\n            2. Ask for the new date.\\n            3. Once date \u2192 ask for time.\\n            4. When BOTH are known \u2192 call **confirm_reschedule**.\\n            5. After confirmation \u2192 ask:  \\n            \u201cAnything else I can help with?\u201d\\n\\n            Never call `confirm_reschedule` early.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### CONVERSATION STYLE\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Speak like a calm clinic receptionist.\\n            - Use short sentences.  \\n            - One question per turn.  \\n            - No filler like \u201cas an AI\u201d.  \\n            - No medical advice.  \\n            - Don't ask for information you already have.\\n\\n            **Good examples:**\\n            - \u201cSure. What day works for you?\u201d\\n            - \u201cGot it. And what time?\u201d\\n            - \u201cPerfect. One moment while I check.\u201d\\n\\n            **Bad examples:**\\n            - \u201cLet me call a tool.\u201d\\n            - \u201cProcessing your request.\u201d\\n            - \u201cI am updating your appointment in the database.\u201d\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### RESPONSE CONTROL\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            - Never output long paragraphs.  \\n            - Never output lists or explanations.  \\n            - Keep responses conversational and human.  \\n            - If caller pauses 5 seconds, use `end_call()`.\\n\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            ### ROLE REMINDER\\n            \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\\n            You are the first point of contact for Shifa Clinic.  \\n            Be warm. Be efficient. Be human.\\n\\n            Now handle the caller.\\n\\n\"}, {'role': 'user', 'content': 'Hello?'}, {'role': 'assistant', 'content': 'Hello! How can I assist you today?'}, {'role': 'user', 'content': 'Want to book an appointment for tomorrow morning.'}, {'role': 'assistant', 'content': 'Got it! One moment while I check.'}, {'role': 'user', 'content': 'Hello.'}], 'model': 'gpt-4o-mini', 'stream': True, 'stream_options': {'include_usage': True}, 'temperature': 0.7, 'tools': [{'type': 'function', 'function': {'name': 'save_name', 'strict': True, 'description': '', 'parameters': {'properties': {'name': {'type': 'string'}}, 'required': ['name'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'save_phone', 'strict': True, 'description': 'Store validated patient phone in Redis using existing BookingBase validator.', 'parameters': {'properties': {'phone': {'type': 'string'}}, 'required': ['phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'available_slot', 'strict': True, 'description': 'Suggest available appointment slots for a given day.\\n- Understands natural language (\"tomorrow\", \"morning\", \"after 2pm\")\\n- Always fetches fresh availability from DB.\\n- Returns top 3 free slots.\\n- Stores them in ctx.suggested_slots for booking_appointment.', 'parameters': {'properties': {'day': {'type': 'string'}, 'date': {'type': 'string'}, 'time': {'type': 'string'}}, 'required': ['day', 'date', 'time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'booking_appointment', 'strict': True, 'description': 'Create or reschedule an appointment.\\nClean, predictable, AI-friendly logic.\\nUses helper functions for DB safety.', 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'get_date', 'strict': True, 'description': 'Return system date and time.', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'end_call', 'strict': True, 'description': \"Gracefully end the call after confirming there's nothing else needed.\\nDoes not clear Redis; short-term memory expires via TTL.\", 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'update_caller_profile', 'strict': True, 'description': 'Persist caller profile (name/phone) for future calls without disrupting session.\\nIf phone not provided, uses current session phone if available.', 'parameters': {'properties': {'name': {'type': ['string', 'null']}, 'phone': {'type': ['string', 'null']}}, 'required': ['name', 'phone'], 'type': 'object', 'additionalProperties': False}}}, {'type': 'function', 'function': {'name': 'start_reschedule', 'strict': True, 'description': '', 'parameters': {'properties': {}, 'type': 'object', 'additionalProperties': False, 'required': []}}}, {'type': 'function', 'function': {'name': 'confirm_reschedule', 'strict': True, 'description': \"Confirm and perform rescheduling to the selected date/time.\\nUse after start_reschedule + available_slot when the caller says 'yes'.\", 'parameters': {'properties': {'time': {'type': 'string'}}, 'required': ['time'], 'type': 'object', 'additionalProperties': False}}}]}}"}
{"timestamp": "2025-11-18T16:24:31.327277", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/chat/completions"}
{"timestamp": "2025-11-18T16:24:31.328113", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=10.0 socket_options=None"}
{"timestamp": "2025-11-18T16:24:31.351521", "level": "DEBUG", "logger": "httpcore.connection", "message": "connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x124561510>"}
{"timestamp": "2025-11-18T16:24:31.351692", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.started ssl_context=<ssl.SSLContext object at 0x117e28050> server_hostname='api.openai.com' timeout=10.0"}
{"timestamp": "2025-11-18T16:24:31.368815", "level": "DEBUG", "logger": "httpcore.connection", "message": "start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x124758610>"}
{"timestamp": "2025-11-18T16:24:31.369342", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:24:31.369770", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-18T16:24:31.369873", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:24:31.370108", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-18T16:24:31.370170", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:24:32.216532", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483072.216349, 'idle_time': 1.497502334008459, 'inference_duration_total': 0.022626664955168962, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:32.216813", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483072.216349, 'idle_time': 1.497502334008459, 'inference_duration_total': 0.022626664955168962, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:32.257015", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 18 Nov 2025 16:24:32 GMT'), (b'Content-Type', b'text/event-stream; charset=utf-8'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'644'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'660'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'198613'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'416ms'), (b'x-request-id', b'req_5bd5f7588636494499c63c3b8facd358'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a08d18e3ed4c7aa-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:24:32.257532", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/chat/completions \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-18T16:24:32.257698", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/chat/completions \"200 OK\" Headers({'date': 'Tue, 18 Nov 2025 16:24:32 GMT', 'content-type': 'text/event-stream; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '644', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '660', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '198613', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '416ms', 'x-request-id': 'req_5bd5f7588636494499c63c3b8facd358', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a08d18e3ed4c7aa-KHI', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-18T16:24:32.257946", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_5bd5f7588636494499c63c3b8facd358"}
{"timestamp": "2025-11-18T16:24:32.258270", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:24:32.601718", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-18T16:24:32.602193", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-18T16:24:32.602934", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdInHsqx7ObIQszEDSA3G8T7KLWlG', 'timestamp': 1763483072.602609, 'duration': 1.2866577910026535, 'ttft': 0.9996102500008419, 'cancelled': False, 'completion_tokens': 11, 'prompt_tokens': 1364, 'prompt_cached_tokens': 1280, 'total_tokens': 1375, 'tokens_per_second': 8.54928177245018, 'speech_id': 'speech_ad6c93372acc', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:24:32.603171", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'LLMMetrics', 'data': {'type': 'llm_metrics', 'label': 'livekit.plugins.openai.llm.LLM', 'request_id': 'chatcmpl-CdInHsqx7ObIQszEDSA3G8T7KLWlG', 'timestamp': 1763483072.602609, 'duration': 1.2866577910026535, 'ttft': 0.9996102500008419, 'cancelled': False, 'completion_tokens': 11, 'prompt_tokens': 1364, 'prompt_cached_tokens': 1280, 'total_tokens': 1375, 'tokens_per_second': 8.54928177245018, 'speech_id': 'speech_ad6c93372acc', 'metadata': {'model_name': 'gpt-4o-mini', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:24:32.604333", "level": "DEBUG", "logger": "openai._base_client", "message": "Request options: {'method': 'post', 'url': '/audio/speech', 'headers': {'Accept': 'application/octet-stream', 'X-Stainless-Raw-Response': 'stream'}, 'timeout': Timeout(connect=10.0, read=30, write=30, pool=30), 'files': None, 'idempotency_key': 'stainless-python-retry-e15652eb-a48e-4e5e-aae0-e12ea269a194', 'json_data': {'input': 'Hi there! I\u2019m checking availability for you.', 'model': 'gpt-4o-mini-tts', 'voice': 'alloy', 'response_format': 'mp3', 'speed': 1.0}}"}
{"timestamp": "2025-11-18T16:24:32.605015", "level": "DEBUG", "logger": "openai._base_client", "message": "Sending HTTP Request: POST https://api.openai.com/v1/audio/speech"}
{"timestamp": "2025-11-18T16:24:32.605634", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:24:32.606038", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_headers.complete"}
{"timestamp": "2025-11-18T16:24:32.606133", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:24:32.606335", "level": "DEBUG", "logger": "httpcore.http11", "message": "send_request_body.complete"}
{"timestamp": "2025-11-18T16:24:32.606407", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:24:32.606739", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.failed exception=GeneratorExit()"}
{"timestamp": "2025-11-18T16:24:33.268760", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483073.268219, 'idle_time': 2.5493626250245143, 'inference_duration_total': 0.02211716497549787, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:33.269644", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483073.268219, 'idle_time': 2.5493626250245143, 'inference_duration_total': 0.02211716497549787, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:34.267202", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483074.266897, 'idle_time': 3.5480299590271898, 'inference_duration_total': 0.018387456017080694, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:34.268203", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483074.266897, 'idle_time': 3.5480299590271898, 'inference_duration_total': 0.018387456017080694, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:35.312151", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 18 Nov 2025 16:24:35 GMT'), (b'Content-Type', b'audio/mpeg'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hef6qdiz1bsjendvhiay1uww'), (b'openai-processing-ms', b'752'), (b'openai-project', b'proj_fFIktXLPrLlENFXwWG5Of7EI'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'950'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'200000'), (b'x-ratelimit-remaining-requests', b'9998'), (b'x-ratelimit-remaining-tokens', b'199989'), (b'x-ratelimit-reset-requests', b'15.822s'), (b'x-ratelimit-reset-tokens', b'3ms'), (b'x-request-id', b'req_40f4ab83a2224f01b5cd09bf5ff91f80'), (b'x-openai-proxy-wasm', b'v0.1'), (b'cf-cache-status', b'DYNAMIC'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'9a08d1960e132704-KHI'), (b'alt-svc', b'h3=\":443\"; ma=86400')])"}
{"timestamp": "2025-11-18T16:24:35.312997", "level": "INFO", "logger": "httpx", "message": "HTTP Request: POST https://api.openai.com/v1/audio/speech \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-18T16:24:35.313175", "level": "DEBUG", "logger": "openai._base_client", "message": "HTTP Response: POST https://api.openai.com/v1/audio/speech \"200 OK\" Headers({'date': 'Tue, 18 Nov 2025 16:24:35 GMT', 'content-type': 'audio/mpeg', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hef6qdiz1bsjendvhiay1uww', 'openai-processing-ms': '752', 'openai-project': 'proj_fFIktXLPrLlENFXwWG5Of7EI', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '950', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '200000', 'x-ratelimit-remaining-requests': '9998', 'x-ratelimit-remaining-tokens': '199989', 'x-ratelimit-reset-requests': '15.822s', 'x-ratelimit-reset-tokens': '3ms', 'x-request-id': 'req_40f4ab83a2224f01b5cd09bf5ff91f80', 'x-openai-proxy-wasm': 'v0.1', 'cf-cache-status': 'DYNAMIC', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '9a08d1960e132704-KHI', 'alt-svc': 'h3=\":443\"; ma=86400'})"}
{"timestamp": "2025-11-18T16:24:35.313405", "level": "DEBUG", "logger": "openai._base_client", "message": "request_id: req_40f4ab83a2224f01b5cd09bf5ff91f80"}
{"timestamp": "2025-11-18T16:24:35.313701", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.started request=<Request [b'POST']>"}
{"timestamp": "2025-11-18T16:24:35.318288", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483075.3175302, 'idle_time': 4.598653292021481, 'inference_duration_total': 0.018502375023672357, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:35.319797", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483075.3175302, 'idle_time': 4.598653292021481, 'inference_duration_total': 0.018502375023672357, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:35.702971", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:24:35.901712", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:24:36.087235", "level": "DEBUG", "logger": "livekit.agents", "message": "flush audio emitter due to slow audio generation"}
{"timestamp": "2025-11-18T16:24:36.278560", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'e7823979-6b9e-4e35-9a6d-854b81c4388b', 'timestamp': 1763483076.276198, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:24:36.280648", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'e7823979-6b9e-4e35-9a6d-854b81c4388b', 'timestamp': 1763483076.276198, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:24:36.318072", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483076.317764, 'idle_time': 5.59887762501603, 'inference_duration_total': 0.08465375105151907, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:36.318638", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483076.317764, 'idle_time': 5.59887762501603, 'inference_duration_total': 0.08465375105151907, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:37.258349", "level": "DEBUG", "logger": "httpcore.http11", "message": "receive_response_body.complete"}
{"timestamp": "2025-11-18T16:24:37.258809", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.started"}
{"timestamp": "2025-11-18T16:24:37.259070", "level": "DEBUG", "logger": "httpcore.http11", "message": "response_closed.complete"}
{"timestamp": "2025-11-18T16:24:37.268372", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_40f4ab83a2224f01b5cd09bf5ff91f80', 'timestamp': 1763483077.2680068, 'ttfb': 2.717223124986049, 'duration': 4.664185833011288, 'audio_duration': 2.266, 'cancelled': False, 'characters_count': 44, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_ad6c93372acc', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:24:37.268770", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'TTSMetrics', 'data': {'type': 'tts_metrics', 'label': 'livekit.plugins.openai.tts.TTS', 'request_id': 'req_40f4ab83a2224f01b5cd09bf5ff91f80', 'timestamp': 1763483077.2680068, 'ttfb': 2.717223124986049, 'duration': 4.664185833011288, 'audio_duration': 2.266, 'cancelled': False, 'characters_count': 44, 'streamed': False, 'segment_id': None, 'speech_id': 'speech_ad6c93372acc', 'metadata': {'model_name': 'gpt-4o-mini-tts', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-11-18T16:24:37.366412", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483077.3662012, 'idle_time': 6.647304542013444, 'inference_duration_total': 0.026294587121810764, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:37.366772", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483077.3662012, 'idle_time': 6.647304542013444, 'inference_duration_total': 0.026294587121810764, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:38.372287", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483078.36627, 'idle_time': 7.647364208998624, 'inference_duration_total': 0.0499537929717917, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:38.373391", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483078.36627, 'idle_time': 7.647364208998624, 'inference_duration_total': 0.0499537929717917, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:39.480260", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483079.4587939, 'idle_time': 8.73987762501929, 'inference_duration_total': 0.03861808285000734, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:39.494574", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483079.4587939, 'idle_time': 8.73987762501929, 'inference_duration_total': 0.03861808285000734, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:40.416848", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483080.416594, 'idle_time': 9.697668084001634, 'inference_duration_total': 0.062448418990243226, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:40.417225", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483080.416594, 'idle_time': 9.697668084001634, 'inference_duration_total': 0.062448418990243226, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:41.316673", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'e7823979-6b9e-4e35-9a6d-854b81c4388b', 'timestamp': 1763483081.315885, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:24:41.317533", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'e7823979-6b9e-4e35-9a6d-854b81c4388b', 'timestamp': 1763483081.315885, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:24:41.500564", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483081.499616, 'idle_time': 10.780679167015478, 'inference_duration_total': 0.04772466406575404, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:41.501507", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483081.499616, 'idle_time': 10.780679167015478, 'inference_duration_total': 0.04772466406575404, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:42.466471", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483082.4660742, 'idle_time': 11.747127875016304, 'inference_duration_total': 0.025475000962615013, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:42.467105", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483082.4660742, 'idle_time': 11.747127875016304, 'inference_duration_total': 0.025475000962615013, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:43.519342", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483083.5189068, 'idle_time': 12.799951209017308, 'inference_duration_total': 0.031100455031264573, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:43.520074", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483083.5189068, 'idle_time': 12.799951209017308, 'inference_duration_total': 0.031100455031264573, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:44.516115", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483084.5159419, 'idle_time': 13.79697620900697, 'inference_duration_total': 0.026919085124973208, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:44.516401", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483084.5159419, 'idle_time': 13.79697620900697, 'inference_duration_total': 0.026919085124973208, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:45.568698", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483085.568147, 'idle_time': 14.849171542009572, 'inference_duration_total': 0.031078087078640237, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:45.569708", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483085.568147, 'idle_time': 14.849171542009572, 'inference_duration_total': 0.031078087078640237, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:46.316792", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'e7823979-6b9e-4e35-9a6d-854b81c4388b', 'timestamp': 1763483086.316438, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:24:46.317279", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'e7823979-6b9e-4e35-9a6d-854b81c4388b', 'timestamp': 1763483086.316438, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:24:46.566298", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483086.566137, 'idle_time': 15.847151375026442, 'inference_duration_total': 0.030255203950218856, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:46.566537", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483086.566137, 'idle_time': 15.847151375026442, 'inference_duration_total': 0.030255203950218856, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:47.617084", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483087.6168141, 'idle_time': 16.897819042002084, 'inference_duration_total': 0.02554499704274349, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:47.617604", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483087.6168141, 'idle_time': 16.897819042002084, 'inference_duration_total': 0.02554499704274349, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:48.618457", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483088.617986, 'idle_time': 17.89898091700161, 'inference_duration_total': 0.02892500106827356, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:48.619254", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483088.617986, 'idle_time': 17.89898091700161, 'inference_duration_total': 0.02892500106827356, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:49.667025", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483089.6667268, 'idle_time': 18.947712334018433, 'inference_duration_total': 0.030724457843462005, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:49.667419", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483089.6667268, 'idle_time': 18.947712334018433, 'inference_duration_total': 0.030724457843462005, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:50.666421", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483090.666215, 'idle_time': 19.947190250008134, 'inference_duration_total': 0.03572233210434206, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:50.666826", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483090.666215, 'idle_time': 19.947190250008134, 'inference_duration_total': 0.03572233210434206, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:51.317278", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'e7823979-6b9e-4e35-9a6d-854b81c4388b', 'timestamp': 1763483091.316942, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:24:51.317922", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'e7823979-6b9e-4e35-9a6d-854b81c4388b', 'timestamp': 1763483091.316942, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:24:51.719503", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483091.719073, 'idle_time': 21.00003862500307, 'inference_duration_total': 0.033850623993203044, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:51.722720", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483091.719073, 'idle_time': 21.00003862500307, 'inference_duration_total': 0.033850623993203044, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:52.716286", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483092.716108, 'idle_time': 21.997063375019934, 'inference_duration_total': 0.03350245795445517, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:52.716863", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483092.716108, 'idle_time': 21.997063375019934, 'inference_duration_total': 0.03350245795445517, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:53.767262", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483093.7669609, 'idle_time': 23.04790662502637, 'inference_duration_total': 0.030176122934790328, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:53.768064", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483093.7669609, 'idle_time': 23.04790662502637, 'inference_duration_total': 0.030176122934790328, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:54.768501", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483094.767628, 'idle_time': 24.048564625001745, 'inference_duration_total': 0.03221770899835974, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:54.770865", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483094.767628, 'idle_time': 24.048564625001745, 'inference_duration_total': 0.03221770899835974, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:55.769201", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483095.768607, 'idle_time': 25.049534500023583, 'inference_duration_total': 0.034041629027342424, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:55.770035", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483095.768607, 'idle_time': 25.049534500023583, 'inference_duration_total': 0.034041629027342424, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:56.367470", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'e7823979-6b9e-4e35-9a6d-854b81c4388b', 'timestamp': 1763483096.367084, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:24:56.368144", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'e7823979-6b9e-4e35-9a6d-854b81c4388b', 'timestamp': 1763483096.367084, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:24:56.818817", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483096.818231, 'idle_time': 26.09914779200335, 'inference_duration_total': 0.03508233305183239, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:56.819667", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483096.818231, 'idle_time': 26.09914779200335, 'inference_duration_total': 0.03508233305183239, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:57.818530", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483097.817975, 'idle_time': 27.098882084013894, 'inference_duration_total': 0.028702872048597783, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:57.819281", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483097.817975, 'idle_time': 27.098882084013894, 'inference_duration_total': 0.028702872048597783, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:58.868573", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483098.8680131, 'idle_time': 28.148910167015856, 'inference_duration_total': 0.03557762302807532, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:58.869264", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483098.8680131, 'idle_time': 28.148910167015856, 'inference_duration_total': 0.03557762302807532, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:59.868881", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483099.868386, 'idle_time': 29.149273584014736, 'inference_duration_total': 0.026585167041048408, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:24:59.869485", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483099.868386, 'idle_time': 29.149273584014736, 'inference_duration_total': 0.026585167041048408, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:25:00.918435", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483100.917802, 'idle_time': 30.19867991702631, 'inference_duration_total': 0.033501956961117685, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:25:00.919543", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483100.917802, 'idle_time': 30.19867991702631, 'inference_duration_total': 0.033501956961117685, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:25:01.417093", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'e7823979-6b9e-4e35-9a6d-854b81c4388b', 'timestamp': 1763483101.416558, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:25:01.417836", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'e7823979-6b9e-4e35-9a6d-854b81c4388b', 'timestamp': 1763483101.416558, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:25:01.918761", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483101.918141, 'idle_time': 31.199010000011185, 'inference_duration_total': 0.02865762505098246, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:25:01.919542", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483101.918141, 'idle_time': 31.199010000011185, 'inference_duration_total': 0.02865762505098246, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:25:02.968115", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483102.9675891, 'idle_time': 32.24844670901075, 'inference_duration_total': 0.029445829946780577, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:25:02.969031", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483102.9675891, 'idle_time': 32.24844670901075, 'inference_duration_total': 0.029445829946780577, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:25:03.969598", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483103.9686248, 'idle_time': 33.24947420900571, 'inference_duration_total': 0.028384038916556165, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:25:03.970578", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483103.9686248, 'idle_time': 33.24947420900571, 'inference_duration_total': 0.028384038916556165, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:25:05.018863", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483105.0182998, 'idle_time': 34.29913866700372, 'inference_duration_total': 0.038203002157388255, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:25:05.019914", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483105.0182998, 'idle_time': 34.29913866700372, 'inference_duration_total': 0.038203002157388255, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:25:06.019654", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483106.019021, 'idle_time': 35.299850042007165, 'inference_duration_total': 0.039293579931836575, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:25:06.020449", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483106.019021, 'idle_time': 35.299850042007165, 'inference_duration_total': 0.039293579931836575, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:25:06.417807", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'e7823979-6b9e-4e35-9a6d-854b81c4388b', 'timestamp': 1763483106.417226, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:25:06.418603", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'e7823979-6b9e-4e35-9a6d-854b81c4388b', 'timestamp': 1763483106.417226, 'duration': 0.0, 'audio_duration': 4.99999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:25:07.069027", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483107.068504, 'idle_time': 36.349322792026214, 'inference_duration_total': 0.039964376017451286, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:25:07.069759", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483107.068504, 'idle_time': 36.349322792026214, 'inference_duration_total': 0.039964376017451286, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:25:08.069268", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483108.0685718, 'idle_time': 37.34938179200981, 'inference_duration_total': 0.027305043098749593, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:25:08.070034", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483108.0685718, 'idle_time': 37.34938179200981, 'inference_duration_total': 0.027305043098749593, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:25:09.118863", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483109.118328, 'idle_time': 38.399127917014994, 'inference_duration_total': 0.03704733104677871, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:25:09.119617", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483109.118328, 'idle_time': 38.399127917014994, 'inference_duration_total': 0.03704733104677871, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:25:10.119036", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483110.1186728, 'idle_time': 39.39946275000693, 'inference_duration_total': 0.028969752020202577, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:25:10.119993", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483110.1186728, 'idle_time': 39.39946275000693, 'inference_duration_total': 0.028969752020202577, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:25:11.168413", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483111.167828, 'idle_time': 40.44860833400162, 'inference_duration_total': 0.03701345605077222, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:25:11.170440", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483111.167828, 'idle_time': 40.44860833400162, 'inference_duration_total': 0.03701345605077222, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:25:11.465633", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'e7823979-6b9e-4e35-9a6d-854b81c4388b', 'timestamp': 1763483111.4654028, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:25:11.466020", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'STTMetrics', 'data': {'type': 'stt_metrics', 'label': 'livekit.plugins.deepgram.stt.STT', 'request_id': 'e7823979-6b9e-4e35-9a6d-854b81c4388b', 'timestamp': 1763483111.4654028, 'duration': 0.0, 'audio_duration': 5.04999999999999, 'streamed': True, 'metadata': {'model_name': 'nova-3', 'model_provider': 'Deepgram'}}}"}
{"timestamp": "2025-11-18T16:25:12.167054", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483112.166841, 'idle_time': 41.44761183400988, 'inference_duration_total': 0.031037832028232515, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:25:12.167476", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483112.166841, 'idle_time': 41.44761183400988, 'inference_duration_total': 0.031037832028232515, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:25:13.219278", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483113.218317, 'idle_time': 42.49907758401241, 'inference_duration_total': 0.03572237293701619, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:25:13.220207", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483113.218317, 'idle_time': 42.49907758401241, 'inference_duration_total': 0.03572237293701619, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:25:14.219326", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483114.218751, 'idle_time': 43.49950191701646, 'inference_duration_total': 0.03486291508306749, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:25:14.219901", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483114.218751, 'idle_time': 43.49950191701646, 'inference_duration_total': 0.03486291508306749, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:25:15.268777", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483115.268364, 'idle_time': 44.5491057090112, 'inference_duration_total': 0.035376414976781234, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:25:15.269398", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483115.268364, 'idle_time': 44.5491057090112, 'inference_duration_total': 0.035376414976781234, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:25:16.269252", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483116.268728, 'idle_time': 45.549459709000075, 'inference_duration_total': 0.03107304303557612, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:25:16.270978", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'VADMetrics', 'data': {'type': 'vad_metrics', 'label': 'livekit.plugins.silero.vad.VAD', 'timestamp': 1763483116.268728, 'idle_time': 45.549459709000075, 'inference_duration_total': 0.03107304303557612, 'inference_count': 32, 'metadata': {'model_name': 'silero', 'model_provider': 'ONNX'}}}"}
{"timestamp": "2025-11-18T16:25:16.274353", "level": "INFO", "logger": "livekit.agents", "message": "closing agent session due to participant disconnect (disable via `RoomInputOptions.close_on_disconnect=False`)"}
{"timestamp": "2025-11-18T16:25:16.275402", "level": "INFO", "logger": "livekit.agents", "message": "closing agent session due to participant disconnect (disable via `RoomInputOptions.close_on_disconnect=False`)"}
{"timestamp": "2025-11-18T16:25:16.276784", "level": "DEBUG", "logger": "livekit.agents", "message": "stream closed"}
{"timestamp": "2025-11-18T16:25:16.278112", "level": "DEBUG", "logger": "livekit.agents", "message": "input stream detached"}
{"timestamp": "2025-11-18T16:25:18.290365", "level": "DEBUG", "logger": "livekit.agents", "message": "session closed"}
{"timestamp": "2025-11-18T16:25:41.001561", "level": "DEBUG", "logger": "livekit.agents", "message": "shutting down job task"}
{"timestamp": "2025-11-18T16:25:41.003996", "level": "INFO", "logger": "livekit.agents", "message": "process exiting"}
{"timestamp": "2025-11-18T16:25:41.179713", "level": "ERROR", "logger": "livekit", "message": "livekit_api::signal_client::signal_stream:402:livekit_api::signal_client::signal_stream - unhandled websocket message Err(Io(Os { code: 54, kind: ConnectionReset, message: \"Connection reset by peer\" }))"}
{"timestamp": "2025-11-18T16:25:41.180254", "level": "ERROR", "logger": "livekit", "message": "livekit_api::signal_client::signal_stream:402:livekit_api::signal_client::signal_stream - unhandled websocket message Err(Io(Os { code: 54, kind: ConnectionReset, message: \"Connection reset by peer\" }))"}
{"timestamp": "2025-11-18T16:25:41.188839", "level": "INFO", "logger": "livekit", "message": "livekit::room:1400:livekit::room - disconnected from room with reason: ClientInitiated"}
{"timestamp": "2025-11-18T16:25:41.190468", "level": "DEBUG", "logger": "livekit.agents", "message": "http_session(): closing the httpclient ctx"}
{"timestamp": "2025-11-18T16:31:51.648398", "level": "INFO", "logger": "livekit.agents", "message": "worker is at full capacity, marking as unavailable"}
{"timestamp": "2025-11-18T16:31:54.156707", "level": "INFO", "logger": "livekit.agents", "message": "worker is below capacity, marking as available"}
{"timestamp": "2025-11-18T16:35:30.140812", "level": "INFO", "logger": "livekit.agents", "message": "draining worker"}
{"timestamp": "2025-11-18T16:35:30.144754", "level": "INFO", "logger": "livekit.agents", "message": "shutting down worker"}
