{"timestamp": "2025-12-02T13:23:21.804699", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-12-02T13:23:21.806520", "level": "INFO", "logger": "livekit.agents", "message": "starting worker"}
{"timestamp": "2025-12-02T13:23:21.806627", "level": "INFO", "logger": "livekit.agents", "message": "starting inference executor"}
{"timestamp": "2025-12-02T13:23:21.816148", "level": "INFO", "logger": "livekit.agents", "message": "initializing process"}
{"timestamp": "2025-12-02T13:23:23.265022", "level": "DEBUG", "logger": "livekit.agents", "message": "initializing inference runner"}
{"timestamp": "2025-12-02T13:23:23.265741", "level": "DEBUG", "logger": "livekit.agents", "message": "initializing inference runner"}
{"timestamp": "2025-12-02T13:23:26.235514", "level": "DEBUG", "logger": "livekit.agents", "message": "inference runner initialized"}
{"timestamp": "2025-12-02T13:23:26.237632", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-12-02T13:23:26.238654", "level": "INFO", "logger": "livekit.agents", "message": "process initialized"}
{"timestamp": "2025-12-02T13:23:26.239092", "level": "DEBUG", "logger": "livekit.agents", "message": "inference runner initialized"}
{"timestamp": "2025-12-02T13:23:26.240814", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-12-02T13:23:26.245922", "level": "INFO", "logger": "livekit.agents", "message": "initializing job runner"}
{"timestamp": "2025-12-02T13:23:26.246252", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-12-02T13:23:26.246400", "level": "INFO", "logger": "livekit.agents", "message": "job runner initialized"}
{"timestamp": "2025-12-02T13:23:26.296774", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udd0c Redis Connected: True"}
{"timestamp": "2025-12-02T13:23:26.297130", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Incoming call from: mock_user"}
{"timestamp": "2025-12-02T13:23:26.297764", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Caller Phone Detected (normalized): None"}
{"timestamp": "2025-12-02T13:23:26.838393", "level": "DEBUG", "logger": "livekit.agents", "message": "http_session(): creating a new httpclient ctx"}
{"timestamp": "2025-12-02T13:23:26.842663", "level": "DEBUG", "logger": "livekit.agents", "message": "using audio io: `ChatCLI` -> `AgentSession` -> `TranscriptSynchronizer` -> `ChatCLI`"}
{"timestamp": "2025-12-02T13:23:26.842976", "level": "DEBUG", "logger": "livekit.agents", "message": "using transcript io: `AgentSession` -> `TranscriptSynchronizer` -> `ChatCLI`"}
{"timestamp": "2025-12-02T13:23:30.609474", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKdkd7V9pJB3HEH4sZV2', 'timestamp': 1764681809.138885, 'duration': 1.4695041179656982, 'ttft': 0.12842392921447754, 'cancelled': True, 'input_tokens': 477, 'output_tokens': 183, 'total_tokens': 660, 'tokens_per_second': 124.53180481953005, 'input_token_details': {'audio_tokens': 0, 'text_tokens': 477, 'image_tokens': 0, 'cached_tokens': 0, 'cached_tokens_details': {'audio_tokens': 0, 'text_tokens': 0, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 51, 'audio_tokens': 132, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:23:30.609817", "level": "DEBUG", "logger": "livekit.plugins.openai", "message": "OpenAI Realtime API response done but not complete with status: cancelled"}
{"timestamp": "2025-12-02T13:23:32.673213", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKdoZQeWeCopF6abwKv4', 'timestamp': 1764681812.072475, 'duration': 0.6003518104553223, 'ttft': 0.3222949504852295, 'cancelled': True, 'input_tokens': 1308, 'output_tokens': 50, 'total_tokens': 1358, 'tokens_per_second': 83.28449940390571, 'input_token_details': {'audio_tokens': 37, 'text_tokens': 1271, 'image_tokens': 0, 'cached_tokens': 0, 'cached_tokens_details': {'audio_tokens': 0, 'text_tokens': 0, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 15, 'audio_tokens': 35, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:23:32.673542", "level": "DEBUG", "logger": "livekit.plugins.openai", "message": "OpenAI Realtime API response done but not complete with status: cancelled"}
{"timestamp": "2025-12-02T13:23:34.384927", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKdp1XRsLIpglrZR4Fhd', 'timestamp': 1764681813.74102, 'duration': 0.6424450874328613, 'ttft': 0.3098118305206299, 'cancelled': False, 'input_tokens': 1312, 'output_tokens': 51, 'total_tokens': 1363, 'tokens_per_second': 79.38421663988481, 'input_token_details': {'audio_tokens': 29, 'text_tokens': 1283, 'image_tokens': 0, 'cached_tokens': 1280, 'cached_tokens_details': {'audio_tokens': 0, 'text_tokens': 1280, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 16, 'audio_tokens': 35, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:23:39.959098", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKduxz04rG28dggjYcbz', 'timestamp': 1764681818.857381, 'duration': 1.1008248329162598, 'ttft': 0.49984288215637207, 'cancelled': False, 'input_tokens': 1389, 'output_tokens': 86, 'total_tokens': 1475, 'tokens_per_second': 78.12323762007834, 'input_token_details': {'audio_tokens': 84, 'text_tokens': 1305, 'image_tokens': 0, 'cached_tokens': 832, 'cached_tokens_details': {'audio_tokens': 0, 'text_tokens': 832, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 24, 'audio_tokens': 62, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:23:46.458292", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKe1DqiwImrZOgmeVM8S', 'timestamp': 1764681825.93638, 'duration': 0.521435022354126, 'ttft': -1.0, 'cancelled': False, 'input_tokens': 1470, 'output_tokens': 38, 'total_tokens': 1508, 'tokens_per_second': 72.87581073561411, 'input_token_details': {'audio_tokens': 137, 'text_tokens': 1333, 'image_tokens': 0, 'cached_tokens': 832, 'cached_tokens_details': {'audio_tokens': 0, 'text_tokens': 832, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 38, 'audio_tokens': 0, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:23:46.463357", "level": "DEBUG", "logger": "livekit.agents", "message": "executing tool"}
{"timestamp": "2025-12-02T13:23:46.465710", "level": "INFO", "logger": "voice_agent.tools", "message": "[available_slot] \u25b6 Input: day='tomorrow', date='', time='morning'"}
{"timestamp": "2025-12-02T13:23:46.467540", "level": "INFO", "logger": "src.services.context_manager", "message": "[Redis] Saved MERGED context for mock_user: BookingContext(name=None, phone=None, date='2025-12-03', time=None, suggested_slots=None, stage='ask_phone', status='Pending', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, cancel_appt_id=None, created_at='2025-12-02T13:23:26.297850')"}
{"timestamp": "2025-12-02T13:23:46.495125", "level": "INFO", "logger": "voice_agent.tools", "message": "[available_slot] Booked slots for 2025-12-03: []"}
{"timestamp": "2025-12-02T13:23:46.495794", "level": "INFO", "logger": "src.services.context_manager", "message": "[Redis] Saved MERGED context for mock_user: BookingContext(name=None, phone=None, date='2025-12-03', time=None, suggested_slots=['9:00 AM', '9:30 AM', '10:00 AM', '10:30 AM', '11:00 AM', '11:30 AM'], stage='ask_phone', status='Pending', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, cancel_appt_id=None, created_at='2025-12-02T13:23:26.297850')"}
{"timestamp": "2025-12-02T13:23:46.495910", "level": "INFO", "logger": "voice_agent.tools", "message": "[available_slot] Final suggestions: ['9:00 AM', '9:30 AM', '10:00 AM', '10:30 AM', '11:00 AM', '11:30 AM']"}
{"timestamp": "2025-12-02T13:23:46.496480", "level": "DEBUG", "logger": "livekit.agents", "message": "tools execution completed"}
{"timestamp": "2025-12-02T13:23:48.531010", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKe3cn0tD2yiloprix4o', 'timestamp': 1764681827.399988, 'duration': 1.130373239517212, 'ttft': 0.36399102210998535, 'cancelled': False, 'input_tokens': 1484, 'output_tokens': 105, 'total_tokens': 1589, 'tokens_per_second': 92.88967248096392, 'input_token_details': {'audio_tokens': 75, 'text_tokens': 1409, 'image_tokens': 0, 'cached_tokens': 832, 'cached_tokens_details': {'audio_tokens': 0, 'text_tokens': 832, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 31, 'audio_tokens': 74, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:23:58.141753", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKeDCY6O2y1mCHzG12BK', 'timestamp': 1764681837.160536, 'duration': 0.9801139831542969, 'ttft': 0.5131299495697021, 'cancelled': False, 'input_tokens': 1618, 'output_tokens': 51, 'total_tokens': 1669, 'tokens_per_second': 52.03476419739152, 'input_token_details': {'audio_tokens': 168, 'text_tokens': 1450, 'image_tokens': 0, 'cached_tokens': 1536, 'cached_tokens_details': {'audio_tokens': 128, 'text_tokens': 1408, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 15, 'audio_tokens': 36, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:24:04.446091", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKeJr00Yxn7g7MTD6mUG', 'timestamp': 1764681843.52923, 'duration': 0.9165928363800049, 'ttft': -1.0, 'cancelled': False, 'input_tokens': 1612, 'output_tokens': 25, 'total_tokens': 1637, 'tokens_per_second': 27.27492405323076, 'input_token_details': {'audio_tokens': 147, 'text_tokens': 1465, 'image_tokens': 0, 'cached_tokens': 832, 'cached_tokens_details': {'audio_tokens': 0, 'text_tokens': 832, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 25, 'audio_tokens': 0, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:24:04.447914", "level": "DEBUG", "logger": "livekit.agents", "message": "executing tool"}
{"timestamp": "2025-12-02T13:24:04.449588", "level": "INFO", "logger": "src.services.context_manager", "message": "[Redis] Saved MERGED context for mock_user: BookingContext(name='Abdul Basit', phone=None, date='2025-12-03', time=None, suggested_slots=['9:00 AM', '9:30 AM', '10:00 AM', '10:30 AM', '11:00 AM', '11:30 AM'], stage='ask_phone', status='Pending', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, cancel_appt_id=None, created_at='2025-12-02T13:23:26.297850')"}
{"timestamp": "2025-12-02T13:24:04.449925", "level": "DEBUG", "logger": "livekit.agents", "message": "tools execution completed"}
{"timestamp": "2025-12-02T13:24:06.044605", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKeL1j3vQs4yjVr20CsN', 'timestamp': 1764681845.307359, 'duration': 0.7368271350860596, 'ttft': 0.38256216049194336, 'cancelled': False, 'input_tokens': 1601, 'output_tokens': 43, 'total_tokens': 1644, 'tokens_per_second': 58.358328503981745, 'input_token_details': {'audio_tokens': 111, 'text_tokens': 1490, 'image_tokens': 0, 'cached_tokens': 1472, 'cached_tokens_details': {'audio_tokens': 64, 'text_tokens': 1408, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 15, 'audio_tokens': 28, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:24:16.736799", "level": "DEBUG", "logger": "livekit.agents", "message": "executing tool"}
{"timestamp": "2025-12-02T13:24:16.738888", "level": "INFO", "logger": "voice_agent.tools", "message": "[save_phone] \ud83d\udcde Called for participant:"}
{"timestamp": "2025-12-02T13:24:16.739086", "level": "INFO", "logger": "voice_agent.tools", "message": "[save_phone] Raw phone input: '0300-9266997'"}
{"timestamp": "2025-12-02T13:24:16.741457", "level": "INFO", "logger": "src.services.context_manager", "message": "[Redis] Saved MERGED context for mock_user: BookingContext(name='Abdul Basit', phone='03009266997', date='2025-12-03', time=None, suggested_slots=['9:00 AM', '9:30 AM', '10:00 AM', '10:30 AM', '11:00 AM', '11:30 AM'], stage='ask_phone', status='Pending', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, cancel_appt_id=None, created_at='2025-12-02T13:23:26.297850')"}
{"timestamp": "2025-12-02T13:24:16.741670", "level": "INFO", "logger": "voice_agent.tools", "message": "[save_phone] \u2705 Saved context for BookingContext(name='Abdul Basit', phone='03009266997', date='2025-12-03', time=None, suggested_slots=['9:00 AM', '9:30 AM', '10:00 AM', '10:30 AM', '11:00 AM', '11:30 AM'], stage='ask_phone', status='Pending', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, cancel_appt_id=None, created_at='2025-12-02T13:23:26.297850')"}
{"timestamp": "2025-12-02T13:24:16.744379", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKeWr7J0fTjDx88uE2j3', 'timestamp': 1764681856.2251022, 'duration': 0.5183467864990234, 'ttft': -1.0, 'cancelled': False, 'input_tokens': 1695, 'output_tokens': 26, 'total_tokens': 1721, 'tokens_per_second': 50.15946983216994, 'input_token_details': {'audio_tokens': 180, 'text_tokens': 1515, 'image_tokens': 0, 'cached_tokens': 1600, 'cached_tokens_details': {'audio_tokens': 128, 'text_tokens': 1472, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 26, 'audio_tokens': 0, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:24:16.745095", "level": "DEBUG", "logger": "livekit.agents", "message": "tools execution completed"}
{"timestamp": "2025-12-02T13:24:18.246985", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKeXTOJORFqd7R3PBGso', 'timestamp': 1764681857.589658, 'duration': 0.6569371223449707, 'ttft': -1.0, 'cancelled': False, 'input_tokens': 1701, 'output_tokens': 38, 'total_tokens': 1739, 'tokens_per_second': 57.84419651055348, 'input_token_details': {'audio_tokens': 152, 'text_tokens': 1549, 'image_tokens': 0, 'cached_tokens': 1600, 'cached_tokens_details': {'audio_tokens': 128, 'text_tokens': 1472, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 38, 'audio_tokens': 0, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:24:18.248658", "level": "DEBUG", "logger": "livekit.agents", "message": "executing tool"}
{"timestamp": "2025-12-02T13:24:18.254958", "level": "INFO", "logger": "src.services.context_manager", "message": "[Redis] Saved MERGED context for mock_user: BookingContext(name='Abdul Basit', phone='03009266997', date='2025-12-03', time='10:00 AM', suggested_slots=['9:00 AM', '9:30 AM', '10:00 AM', '10:30 AM', '11:00 AM', '11:30 AM'], stage='ask_phone', status='Pending', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, cancel_appt_id=None, created_at='2025-12-02T13:23:26.297850')"}
{"timestamp": "2025-12-02T13:24:18.270271", "level": "INFO", "logger": "voice_agent.tools", "message": "[booking] Appointment created: <Appointment 13>"}
{"timestamp": "2025-12-02T13:24:18.271104", "level": "DEBUG", "logger": "livekit.agents", "message": "tools execution completed"}
{"timestamp": "2025-12-02T13:24:18.271282", "level": "INFO", "logger": "src.services.context_manager", "message": "[Redis] Saved MERGED context for mock_user: BookingContext(name='Abdul Basit', phone='03009266997', date='2025-12-03', time='10:00 AM', suggested_slots=['9:00 AM', '9:30 AM', '10:00 AM', '10:30 AM', '11:00 AM', '11:30 AM'], stage='DONE', status='BOOKED', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, cancel_appt_id=None, created_at='2025-12-02T13:23:26.297850')"}
{"timestamp": "2025-12-02T13:24:19.755027", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKeZBCQhyYuPmfEAgIct', 'timestamp': 1764681859.09314, 'duration': 0.6614489555358887, 'ttft': 0.3211531639099121, 'cancelled': False, 'input_tokens': 1761, 'output_tokens': 50, 'total_tokens': 1811, 'tokens_per_second': 75.59162287812717, 'input_token_details': {'audio_tokens': 152, 'text_tokens': 1609, 'image_tokens': 0, 'cached_tokens': 1664, 'cached_tokens_details': {'audio_tokens': 128, 'text_tokens': 1536, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 15, 'audio_tokens': 35, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:24:24.363699", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKedRGDV0fSGrWiRDT2t', 'timestamp': 1764681863.415454, 'duration': 0.9475100040435791, 'ttft': 0.4602479934692383, 'cancelled': False, 'input_tokens': 1836, 'output_tokens': 56, 'total_tokens': 1892, 'tokens_per_second': 59.10227835169577, 'input_token_details': {'audio_tokens': 202, 'text_tokens': 1634, 'image_tokens': 0, 'cached_tokens': 1792, 'cached_tokens_details': {'audio_tokens': 192, 'text_tokens': 1600, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 18, 'audio_tokens': 38, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:24:27.259548", "level": "INFO", "logger": "livekit.agents", "message": "shutting down worker"}
{"timestamp": "2025-12-02T13:24:27.260450", "level": "DEBUG", "logger": "livekit.agents", "message": "shutting down job task"}
{"timestamp": "2025-12-02T13:24:27.265084", "level": "DEBUG", "logger": "livekit.agents", "message": "job exiting"}
{"timestamp": "2025-12-02T13:24:27.266744", "level": "DEBUG", "logger": "livekit.agents", "message": "session closed"}
{"timestamp": "2025-12-02T13:24:27.266968", "level": "DEBUG", "logger": "livekit.agents", "message": "http_session(): closing the httpclient ctx"}
{"timestamp": "2025-12-02T13:24:27.269750", "level": "INFO", "logger": "livekit.agents", "message": "process exiting"}
{"timestamp": "2025-12-02T13:24:30.726352", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-12-02T13:24:30.727820", "level": "INFO", "logger": "livekit.agents", "message": "starting worker"}
{"timestamp": "2025-12-02T13:24:30.727917", "level": "INFO", "logger": "livekit.agents", "message": "starting inference executor"}
{"timestamp": "2025-12-02T13:24:30.736520", "level": "INFO", "logger": "livekit.agents", "message": "initializing process"}
{"timestamp": "2025-12-02T13:24:31.846194", "level": "DEBUG", "logger": "livekit.agents", "message": "initializing inference runner"}
{"timestamp": "2025-12-02T13:24:31.847002", "level": "DEBUG", "logger": "livekit.agents", "message": "initializing inference runner"}
{"timestamp": "2025-12-02T13:24:34.668563", "level": "DEBUG", "logger": "livekit.agents", "message": "inference runner initialized"}
{"timestamp": "2025-12-02T13:24:34.669397", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-12-02T13:24:34.669968", "level": "DEBUG", "logger": "livekit.agents", "message": "inference runner initialized"}
{"timestamp": "2025-12-02T13:24:34.671466", "level": "INFO", "logger": "livekit.agents", "message": "process initialized"}
{"timestamp": "2025-12-02T13:24:34.671557", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-12-02T13:24:34.677480", "level": "INFO", "logger": "livekit.agents", "message": "initializing job runner"}
{"timestamp": "2025-12-02T13:24:34.677803", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-12-02T13:24:34.677987", "level": "INFO", "logger": "livekit.agents", "message": "job runner initialized"}
{"timestamp": "2025-12-02T13:24:34.742134", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udd0c Redis Connected: True"}
{"timestamp": "2025-12-02T13:24:34.742550", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Incoming call from: mock_user"}
{"timestamp": "2025-12-02T13:24:34.743236", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Caller Phone Detected (normalized): None"}
{"timestamp": "2025-12-02T13:24:35.160623", "level": "DEBUG", "logger": "livekit.agents", "message": "http_session(): creating a new httpclient ctx"}
{"timestamp": "2025-12-02T13:24:35.163017", "level": "DEBUG", "logger": "livekit.agents", "message": "using audio io: `ChatCLI` -> `AgentSession` -> `TranscriptSynchronizer` -> `ChatCLI`"}
{"timestamp": "2025-12-02T13:24:35.163212", "level": "DEBUG", "logger": "livekit.agents", "message": "using transcript io: `AgentSession` -> `TranscriptSynchronizer` -> `ChatCLI`"}
{"timestamp": "2025-12-02T13:24:38.765674", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKer7gxTEHmytR9qMNEk', 'timestamp': 1764681877.564786, 'duration': 1.1995160579681396, 'ttft': 0.25167298316955566, 'cancelled': False, 'input_tokens': 477, 'output_tokens': 125, 'total_tokens': 602, 'tokens_per_second': 104.208692471977, 'input_token_details': {'audio_tokens': 0, 'text_tokens': 477, 'image_tokens': 0, 'cached_tokens': 0, 'cached_tokens_details': {'audio_tokens': 0, 'text_tokens': 0, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 33, 'audio_tokens': 92, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:24:40.734553", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKeuv5GqeKm2osDX4CLl', 'timestamp': 1764681880.161948, 'duration': 0.571965217590332, 'ttft': 0.2958040237426758, 'cancelled': True, 'input_tokens': 1311, 'output_tokens': 46, 'total_tokens': 1357, 'tokens_per_second': 80.42447090366136, 'input_token_details': {'audio_tokens': 40, 'text_tokens': 1271, 'image_tokens': 0, 'cached_tokens': 0, 'cached_tokens_details': {'audio_tokens': 0, 'text_tokens': 0, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 16, 'audio_tokens': 30, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:24:40.735176", "level": "DEBUG", "logger": "livekit.plugins.openai", "message": "OpenAI Realtime API response done but not complete with status: cancelled"}
{"timestamp": "2025-12-02T13:24:46.778402", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKezvqQlLNFGGKvuV0u7', 'timestamp': 1764681885.794401, 'duration': 0.9829483032226562, 'ttft': 0.46008992195129395, 'cancelled': False, 'input_tokens': 1339, 'output_tokens': 79, 'total_tokens': 1418, 'tokens_per_second': 80.37045258737786, 'input_token_details': {'audio_tokens': 56, 'text_tokens': 1283, 'image_tokens': 0, 'cached_tokens': 832, 'cached_tokens_details': {'audio_tokens': 0, 'text_tokens': 832, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 21, 'audio_tokens': 58, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:24:55.007839", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKf7idIH64XaDN30pRdH', 'timestamp': 1764681893.6148422, 'duration': 1.3921759128570557, 'ttft': 0.6510169506072998, 'cancelled': False, 'input_tokens': 1456, 'output_tokens': 88, 'total_tokens': 1544, 'tokens_per_second': 63.210402641864675, 'input_token_details': {'audio_tokens': 146, 'text_tokens': 1310, 'image_tokens': 0, 'cached_tokens': 832, 'cached_tokens_details': {'audio_tokens': 0, 'text_tokens': 832, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 22, 'audio_tokens': 66, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:25:06.361205", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKfJXTkjKnu2QS6vchRg', 'timestamp': 1764681905.1484249, 'duration': 1.2118871212005615, 'ttft': 0.6207120418548584, 'cancelled': False, 'input_tokens': 1517, 'output_tokens': 65, 'total_tokens': 1582, 'tokens_per_second': 53.63535832908881, 'input_token_details': {'audio_tokens': 183, 'text_tokens': 1334, 'image_tokens': 0, 'cached_tokens': 832, 'cached_tokens_details': {'audio_tokens': 0, 'text_tokens': 832, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 21, 'audio_tokens': 44, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:25:11.253935", "level": "DEBUG", "logger": "livekit.agents", "message": "executing tool"}
{"timestamp": "2025-12-02T13:25:11.260511", "level": "INFO", "logger": "src.services.context_manager", "message": "[Redis] Saved MERGED context for mock_user: BookingContext(name='Abdul Basit', phone=None, date=None, time=None, suggested_slots=None, stage='ask_phone', status='Pending', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, cancel_appt_id=None, created_at='2025-12-02T13:24:34.743326')"}
{"timestamp": "2025-12-02T13:25:11.262349", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKfOxU5kwDRA4Xv8vM0P', 'timestamp': 1764681910.6494908, 'duration': 0.6122193336486816, 'ttft': -1.0, 'cancelled': False, 'input_tokens': 1538, 'output_tokens': 25, 'total_tokens': 1563, 'tokens_per_second': 40.83503840201509, 'input_token_details': {'audio_tokens': 183, 'text_tokens': 1355, 'image_tokens': 0, 'cached_tokens': 832, 'cached_tokens_details': {'audio_tokens': 0, 'text_tokens': 832, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 25, 'audio_tokens': 0, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:25:11.262927", "level": "DEBUG", "logger": "livekit.agents", "message": "tools execution completed"}
{"timestamp": "2025-12-02T13:25:12.755515", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKfPxLKY4nImke5Jgiej', 'timestamp': 1764681911.869365, 'duration': 0.8851730823516846, 'ttft': 0.3816051483154297, 'cancelled': False, 'input_tokens': 1517, 'output_tokens': 69, 'total_tokens': 1586, 'tokens_per_second': 77.95085659031132, 'input_token_details': {'audio_tokens': 139, 'text_tokens': 1378, 'image_tokens': 0, 'cached_tokens': 1472, 'cached_tokens_details': {'audio_tokens': 128, 'text_tokens': 1344, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 19, 'audio_tokens': 50, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:25:19.833524", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKfXwrqz1ECBsIh30wpO', 'timestamp': 1764681919.207107, 'duration': 0.6254549026489258, 'ttft': -1.0, 'cancelled': False, 'input_tokens': 1639, 'output_tokens': 18, 'total_tokens': 1657, 'tokens_per_second': 28.779053331849223, 'input_token_details': {'audio_tokens': 232, 'text_tokens': 1407, 'image_tokens': 0, 'cached_tokens': 1536, 'cached_tokens_details': {'audio_tokens': 192, 'text_tokens': 1344, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 18, 'audio_tokens': 0, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:25:19.837957", "level": "DEBUG", "logger": "livekit.agents", "message": "executing tool"}
{"timestamp": "2025-12-02T13:25:19.839603", "level": "INFO", "logger": "voice_agent.tools", "message": "[save_phone] \ud83d\udcde Called for participant:"}
{"timestamp": "2025-12-02T13:25:19.839834", "level": "INFO", "logger": "voice_agent.tools", "message": "[save_phone] Raw phone input: '03009266997'"}
{"timestamp": "2025-12-02T13:25:19.841205", "level": "INFO", "logger": "src.services.context_manager", "message": "[Redis] Saved MERGED context for mock_user: BookingContext(name='Abdul Basit', phone='03009266997', date=None, time=None, suggested_slots=None, stage='ask_phone', status='Pending', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, cancel_appt_id=None, created_at='2025-12-02T13:24:34.743326')"}
{"timestamp": "2025-12-02T13:25:19.841447", "level": "INFO", "logger": "voice_agent.tools", "message": "[save_phone] \u2705 Saved context for BookingContext(name='Abdul Basit', phone='03009266997', date=None, time=None, suggested_slots=None, stage='ask_phone', status='Pending', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, cancel_appt_id=None, created_at='2025-12-02T13:24:34.743326')"}
{"timestamp": "2025-12-02T13:25:19.842344", "level": "DEBUG", "logger": "livekit.agents", "message": "tools execution completed"}
{"timestamp": "2025-12-02T13:25:21.380437", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKfYXQsgY2dhfymhm3dh', 'timestamp': 1764681920.45677, 'duration': 0.9231300354003906, 'ttft': 0.37998199462890625, 'cancelled': False, 'input_tokens': 1619, 'output_tokens': 65, 'total_tokens': 1684, 'tokens_per_second': 70.41261524093672, 'input_token_details': {'audio_tokens': 182, 'text_tokens': 1437, 'image_tokens': 0, 'cached_tokens': 832, 'cached_tokens_details': {'audio_tokens': 0, 'text_tokens': 832, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 18, 'audio_tokens': 47, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:25:34.123742", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKflBK463S0Idu4YMPDg', 'timestamp': 1764681933.070115, 'duration': 1.052323818206787, 'ttft': 0.5029928684234619, 'cancelled': False, 'input_tokens': 1706, 'output_tokens': 57, 'total_tokens': 1763, 'tokens_per_second': 54.165836612090445, 'input_token_details': {'audio_tokens': 241, 'text_tokens': 1465, 'image_tokens': 0, 'cached_tokens': 1600, 'cached_tokens_details': {'audio_tokens': 192, 'text_tokens': 1408, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 17, 'audio_tokens': 40, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:25:39.311105", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKfqjUBVfHWmnQtjQL9w', 'timestamp': 1764681938.627528, 'duration': 0.6833291053771973, 'ttft': -1.0, 'cancelled': False, 'input_tokens': 1740, 'output_tokens': 36, 'total_tokens': 1776, 'tokens_per_second': 52.68325279387598, 'input_token_details': {'audio_tokens': 256, 'text_tokens': 1484, 'image_tokens': 0, 'cached_tokens': 1600, 'cached_tokens_details': {'audio_tokens': 192, 'text_tokens': 1408, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 36, 'audio_tokens': 0, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:25:39.312302", "level": "DEBUG", "logger": "livekit.agents", "message": "executing tool"}
{"timestamp": "2025-12-02T13:25:39.312755", "level": "INFO", "logger": "voice_agent.tools", "message": "[available_slot] \u25b6 Input: day='tomorrow', date='', time=''"}
{"timestamp": "2025-12-02T13:25:39.313243", "level": "INFO", "logger": "src.services.context_manager", "message": "[Redis] Saved MERGED context for mock_user: BookingContext(name='Abdul Basit', phone='03009266997', date='2025-12-03', time=None, suggested_slots=None, stage='ask_phone', status='Pending', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, cancel_appt_id=None, created_at='2025-12-02T13:24:34.743326')"}
{"timestamp": "2025-12-02T13:25:39.326782", "level": "INFO", "logger": "voice_agent.tools", "message": "[available_slot] Booked slots for 2025-12-03: ['10:00 AM']"}
{"timestamp": "2025-12-02T13:25:39.327670", "level": "INFO", "logger": "src.services.context_manager", "message": "[Redis] Saved MERGED context for mock_user: BookingContext(name='Abdul Basit', phone='03009266997', date='2025-12-03', time=None, suggested_slots=['9:00 AM', '9:30 AM', '10:30 AM', '11:00 AM', '11:30 AM', '12:00 PM', '1:00 PM', '1:30 PM', '2:00 PM', '2:30 PM', '3:00 PM', '3:30 PM', '4:00 PM'], stage='ask_phone', status='Pending', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, cancel_appt_id=None, created_at='2025-12-02T13:24:34.743326')"}
{"timestamp": "2025-12-02T13:25:39.327772", "level": "INFO", "logger": "voice_agent.tools", "message": "[available_slot] Final suggestions: ['9:00 AM', '9:30 AM', '10:30 AM', '11:00 AM', '11:30 AM', '12:00 PM', '1:00 PM', '1:30 PM', '2:00 PM', '2:30 PM', '3:00 PM', '3:30 PM', '4:00 PM']"}
{"timestamp": "2025-12-02T13:25:39.328109", "level": "DEBUG", "logger": "livekit.agents", "message": "tools execution completed"}
{"timestamp": "2025-12-02T13:25:41.404829", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKfre1i1tCo3ydJuMZxY', 'timestamp': 1764681939.8950431, 'duration': 1.509523868560791, 'ttft': 0.4690260887145996, 'cancelled': False, 'input_tokens': 1821, 'output_tokens': 141, 'total_tokens': 1962, 'tokens_per_second': 93.40693640997681, 'input_token_details': {'audio_tokens': 216, 'text_tokens': 1605, 'image_tokens': 0, 'cached_tokens': 1664, 'cached_tokens_details': {'audio_tokens': 192, 'text_tokens': 1472, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 37, 'audio_tokens': 104, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:25:53.738450", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKg4bjRzFSCtsy8xpOpU', 'timestamp': 1764681952.2357981, 'duration': 1.5021939277648926, 'ttft': 0.5939738750457764, 'cancelled': False, 'input_tokens': 1992, 'output_tokens': 120, 'total_tokens': 2112, 'tokens_per_second': 79.88316140949088, 'input_token_details': {'audio_tokens': 340, 'text_tokens': 1652, 'image_tokens': 0, 'cached_tokens': 1920, 'cached_tokens_details': {'audio_tokens': 320, 'text_tokens': 1600, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 28, 'audio_tokens': 92, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:26:01.347476", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKgChX9BGEMTgBuUoE7l', 'timestamp': 1764681960.691137, 'duration': 0.6549937725067139, 'ttft': -1.0, 'cancelled': False, 'input_tokens': 2025, 'output_tokens': 39, 'total_tokens': 2064, 'tokens_per_second': 59.542550840970385, 'input_token_details': {'audio_tokens': 347, 'text_tokens': 1678, 'image_tokens': 0, 'cached_tokens': 1664, 'cached_tokens_details': {'audio_tokens': 192, 'text_tokens': 1472, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 39, 'audio_tokens': 0, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:26:01.352492", "level": "DEBUG", "logger": "livekit.agents", "message": "executing tool"}
{"timestamp": "2025-12-02T13:26:01.359619", "level": "INFO", "logger": "src.services.context_manager", "message": "[Redis] Saved MERGED context for mock_user: BookingContext(name='Abdul Basit', phone='03009266997', date='2025-12-03', time='4:00 PM', suggested_slots=['9:00 AM', '9:30 AM', '10:30 AM', '11:00 AM', '11:30 AM', '12:00 PM', '1:00 PM', '1:30 PM', '2:00 PM', '2:30 PM', '3:00 PM', '3:30 PM', '4:00 PM'], stage='ask_phone', status='Pending', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, cancel_appt_id=None, created_at='2025-12-02T13:24:34.743326')"}
{"timestamp": "2025-12-02T13:26:01.367936", "level": "DEBUG", "logger": "livekit.agents", "message": "tools execution completed"}
{"timestamp": "2025-12-02T13:26:02.968493", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKgDkQxABK4evlPe8TBM', 'timestamp': 1764681961.950947, 'duration': 1.01711106300354, 'ttft': 0.4062039852142334, 'cancelled': False, 'input_tokens': 1989, 'output_tokens': 77, 'total_tokens': 2066, 'tokens_per_second': 75.70461358724991, 'input_token_details': {'audio_tokens': 255, 'text_tokens': 1734, 'image_tokens': 0, 'cached_tokens': 1664, 'cached_tokens_details': {'audio_tokens': 192, 'text_tokens': 1472, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 23, 'audio_tokens': 54, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:26:11.608074", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKgMX5oqtGwDAHumvZMY', 'timestamp': 1764681970.990955, 'duration': 0.6166338920593262, 'ttft': -1.0, 'cancelled': False, 'input_tokens': 2098, 'output_tokens': 12, 'total_tokens': 2110, 'tokens_per_second': 19.46049374601272, 'input_token_details': {'audio_tokens': 331, 'text_tokens': 1767, 'image_tokens': 0, 'cached_tokens': 2048, 'cached_tokens_details': {'audio_tokens': 320, 'text_tokens': 1728, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 12, 'audio_tokens': 0, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:26:11.609974", "level": "DEBUG", "logger": "livekit.agents", "message": "executing tool"}
{"timestamp": "2025-12-02T13:26:11.657666", "level": "INFO", "logger": "src.services.context_manager", "message": "[Redis] Saved MERGED context for mock_user: BookingContext(name='Abdul Basit', phone='03009266997', date='2025-12-03', time='4:00 PM', suggested_slots=['9:00 AM', '9:30 AM', '10:30 AM', '11:00 AM', '11:30 AM', '12:00 PM', '1:00 PM', '1:30 PM', '2:00 PM', '2:30 PM', '3:00 PM', '3:30 PM', '4:00 PM'], stage='ask_phone', status='Pending', mode='reschedule', old_date='December 03', old_time='10:00 AM', new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, cancel_appt_id=None, created_at='2025-12-02T13:24:34.743326')"}
{"timestamp": "2025-12-02T13:26:11.658712", "level": "DEBUG", "logger": "livekit.agents", "message": "tools execution completed"}
{"timestamp": "2025-12-02T13:26:12.992496", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKgOpt9sEdpuAYSh8GBv', 'timestamp': 1764681972.237065, 'duration': 0.7547030448913574, 'ttft': -1.0, 'cancelled': False, 'input_tokens': 2083, 'output_tokens': 32, 'total_tokens': 2115, 'tokens_per_second': 42.400782952461164, 'input_token_details': {'audio_tokens': 277, 'text_tokens': 1806, 'image_tokens': 0, 'cached_tokens': 1664, 'cached_tokens_details': {'audio_tokens': 192, 'text_tokens': 1472, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 32, 'audio_tokens': 0, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:26:12.995037", "level": "DEBUG", "logger": "livekit.agents", "message": "executing tool"}
{"timestamp": "2025-12-02T13:26:13.015295", "level": "INFO", "logger": "src.services.context_manager", "message": "[Redis] Saved MERGED context for mock_user: BookingContext(name='Abdul Basit', phone='03009266997', date='2025-12-03', time='2025-12-03 4:00 PM', suggested_slots=['9:00 AM', '9:30 AM', '10:30 AM', '11:00 AM', '11:30 AM', '12:00 PM', '1:00 PM', '1:30 PM', '2:00 PM', '2:30 PM', '3:00 PM', '3:30 PM', '4:00 PM'], stage='ask_phone', status='rescheduled', mode='reschedule', old_date='December 03', old_time='10:00 AM', new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, cancel_appt_id=None, created_at='2025-12-02T13:24:34.743326')"}
{"timestamp": "2025-12-02T13:26:13.015740", "level": "DEBUG", "logger": "livekit.agents", "message": "tools execution completed"}
{"timestamp": "2025-12-02T13:26:14.825868", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKgPOnxyOzFoS2GsshxD', 'timestamp': 1764681973.646413, 'duration': 1.178269863128662, 'ttft': 0.6516528129577637, 'cancelled': False, 'input_tokens': 2167, 'output_tokens': 49, 'total_tokens': 2216, 'tokens_per_second': 41.58639844177141, 'input_token_details': {'audio_tokens': 277, 'text_tokens': 1890, 'image_tokens': 0, 'cached_tokens': 2048, 'cached_tokens_details': {'audio_tokens': 256, 'text_tokens': 1792, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 15, 'audio_tokens': 34, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:26:52.369534", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKh1ybjD1qxgQCHUUAlA', 'timestamp': 1764682011.718845, 'duration': 0.6500101089477539, 'ttft': -1.0, 'cancelled': False, 'input_tokens': 2255, 'output_tokens': 12, 'total_tokens': 2267, 'tokens_per_second': 18.461251347961003, 'input_token_details': {'audio_tokens': 340, 'text_tokens': 1915, 'image_tokens': 0, 'cached_tokens': 2176, 'cached_tokens_details': {'audio_tokens': 320, 'text_tokens': 1856, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 12, 'audio_tokens': 0, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:26:52.371762", "level": "DEBUG", "logger": "livekit.agents", "message": "executing tool"}
{"timestamp": "2025-12-02T13:26:52.377628", "level": "INFO", "logger": "src.services.context_manager", "message": "[Redis] Saved MERGED context for mock_user: BookingContext(name='Abdul Basit', phone='03009266997', date='2025-12-03', time='2025-12-03 4:00 PM', suggested_slots=['9:00 AM', '9:30 AM', '10:30 AM', '11:00 AM', '11:30 AM', '12:00 PM', '1:00 PM', '1:30 PM', '2:00 PM', '2:30 PM', '3:00 PM', '3:30 PM', '4:00 PM'], stage='ask_phone', status='rescheduled', mode='reschedule', old_date='December 03', old_time='2025-12-03 4:00 PM', new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, cancel_appt_id=None, created_at='2025-12-02T13:24:34.743326')"}
{"timestamp": "2025-12-02T13:26:52.378234", "level": "DEBUG", "logger": "livekit.agents", "message": "tools execution completed"}
{"timestamp": "2025-12-02T13:26:53.701856", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKh2uIh8kPVV5FPPgSo5', 'timestamp': 1764682012.9413471, 'duration': 0.7601718902587891, 'ttft': -1.0, 'cancelled': False, 'input_tokens': 2269, 'output_tokens': 26, 'total_tokens': 2295, 'tokens_per_second': 34.20279062298488, 'input_token_details': {'audio_tokens': 306, 'text_tokens': 1963, 'image_tokens': 0, 'cached_tokens': 2112, 'cached_tokens_details': {'audio_tokens': 256, 'text_tokens': 1856, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 26, 'audio_tokens': 0, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:26:53.703030", "level": "DEBUG", "logger": "livekit.agents", "message": "executing tool"}
{"timestamp": "2025-12-02T13:26:53.712307", "level": "INFO", "logger": "src.services.context_manager", "message": "[Redis] Saved MERGED context for mock_user: BookingContext(name='Abdul Basit', phone='03009266997', date='2025-12-03', time='2025-12-03 10:00 AM', suggested_slots=['9:00 AM', '9:30 AM', '10:30 AM', '11:00 AM', '11:30 AM', '12:00 PM', '1:00 PM', '1:30 PM', '2:00 PM', '2:30 PM', '3:00 PM', '3:30 PM', '4:00 PM'], stage='ask_phone', status='rescheduled', mode='reschedule', old_date='December 03', old_time='2025-12-03 4:00 PM', new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, cancel_appt_id=None, created_at='2025-12-02T13:24:34.743326')"}
{"timestamp": "2025-12-02T13:26:53.712766", "level": "DEBUG", "logger": "livekit.agents", "message": "tools execution completed"}
{"timestamp": "2025-12-02T13:26:55.169656", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKh4z9w3v3wydGVlbGpm', 'timestamp': 1764682014.325113, 'duration': 0.8440539836883545, 'ttft': 0.4712049961090088, 'cancelled': False, 'input_tokens': 2360, 'output_tokens': 49, 'total_tokens': 2409, 'tokens_per_second': 58.05315885825142, 'input_token_details': {'audio_tokens': 306, 'text_tokens': 2054, 'image_tokens': 0, 'cached_tokens': 2240, 'cached_tokens_details': {'audio_tokens': 256, 'text_tokens': 1984, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 15, 'audio_tokens': 34, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:27:06.969551", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKhGV9PDqx4ZmAFIxL5Z', 'timestamp': 1764682026.437282, 'duration': 0.5318858623504639, 'ttft': -1.0, 'cancelled': False, 'input_tokens': 2458, 'output_tokens': 12, 'total_tokens': 2470, 'tokens_per_second': 22.56123136450862, 'input_token_details': {'audio_tokens': 379, 'text_tokens': 2079, 'image_tokens': 0, 'cached_tokens': 2368, 'cached_tokens_details': {'audio_tokens': 320, 'text_tokens': 2048, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 12, 'audio_tokens': 0, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:27:06.972781", "level": "DEBUG", "logger": "livekit.agents", "message": "executing tool"}
{"timestamp": "2025-12-02T13:27:06.978062", "level": "INFO", "logger": "src.services.context_manager", "message": "[Redis] Saved MERGED context for mock_user: BookingContext(name='Abdul Basit', phone='03009266997', date='2025-12-03', time='2025-12-03 10:00 AM', suggested_slots=['9:00 AM', '9:30 AM', '10:30 AM', '11:00 AM', '11:30 AM', '12:00 PM', '1:00 PM', '1:30 PM', '2:00 PM', '2:30 PM', '3:00 PM', '3:30 PM', '4:00 PM'], stage='ask_phone', status='rescheduled', mode='reschedule', old_date='December 03', old_time='2025-12-03 10:00 AM', new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, cancel_appt_id=None, created_at='2025-12-02T13:24:34.743326')"}
{"timestamp": "2025-12-02T13:27:06.978655", "level": "DEBUG", "logger": "livekit.agents", "message": "tools execution completed"}
{"timestamp": "2025-12-02T13:27:08.358729", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKhHdeLqUcfcCyXRgqw5', 'timestamp': 1764682027.5606248, 'duration': 0.7969913482666016, 'ttft': -1.0, 'cancelled': False, 'input_tokens': 2472, 'output_tokens': 26, 'total_tokens': 2498, 'tokens_per_second': 32.622687883059356, 'input_token_details': {'audio_tokens': 345, 'text_tokens': 2127, 'image_tokens': 0, 'cached_tokens': 2368, 'cached_tokens_details': {'audio_tokens': 320, 'text_tokens': 2048, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 26, 'audio_tokens': 0, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:27:08.362692", "level": "DEBUG", "logger": "livekit.agents", "message": "executing tool"}
{"timestamp": "2025-12-02T13:27:08.373431", "level": "INFO", "logger": "src.services.context_manager", "message": "[Redis] Saved MERGED context for mock_user: BookingContext(name='Abdul Basit', phone='03009266997', date='2025-12-03', time='2025-12-03 4:00 PM', suggested_slots=['9:00 AM', '9:30 AM', '10:30 AM', '11:00 AM', '11:30 AM', '12:00 PM', '1:00 PM', '1:30 PM', '2:00 PM', '2:30 PM', '3:00 PM', '3:30 PM', '4:00 PM'], stage='ask_phone', status='rescheduled', mode='reschedule', old_date='December 03', old_time='2025-12-03 10:00 AM', new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, cancel_appt_id=None, created_at='2025-12-02T13:24:34.743326')"}
{"timestamp": "2025-12-02T13:27:08.374073", "level": "DEBUG", "logger": "livekit.agents", "message": "tools execution completed"}
{"timestamp": "2025-12-02T13:27:09.792872", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKhINbob2XYvEi1d14Vz', 'timestamp': 1764682028.990026, 'duration': 0.8025720119476318, 'ttft': 0.3654780387878418, 'cancelled': False, 'input_tokens': 2563, 'output_tokens': 56, 'total_tokens': 2619, 'tokens_per_second': 69.77567017830921, 'input_token_details': {'audio_tokens': 345, 'text_tokens': 2218, 'image_tokens': 0, 'cached_tokens': 2496, 'cached_tokens_details': {'audio_tokens': 320, 'text_tokens': 2176, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 15, 'audio_tokens': 41, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:27:17.990731", "level": "DEBUG", "logger": "livekit.agents", "message": "executing tool"}
{"timestamp": "2025-12-02T13:27:17.994643", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKhRryV9lkbjo7vovmIx', 'timestamp': 1764682037.54245, 'duration': 0.45134997367858887, 'ttft': -1.0, 'cancelled': False, 'input_tokens': 2644, 'output_tokens': 11, 'total_tokens': 2655, 'tokens_per_second': 24.37133187434994, 'input_token_details': {'audio_tokens': 401, 'text_tokens': 2243, 'image_tokens': 0, 'cached_tokens': 2624, 'cached_tokens_details': {'audio_tokens': 384, 'text_tokens': 2240, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 11, 'audio_tokens': 0, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:27:17.995289", "level": "DEBUG", "logger": "livekit.agents", "message": "tools execution completed"}
{"timestamp": "2025-12-02T13:27:18.993482", "level": "INFO", "logger": "voice_agent.tools", "message": "[end_call] Deleting room: mock_room"}
{"timestamp": "2025-12-02T13:27:19.614125", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKhS5hpbrSDVkAPOMo5s', 'timestamp': 1764682038.600022, 'duration': 1.013442039489746, 'ttft': 0.47017788887023926, 'cancelled': False, 'input_tokens': 2624, 'output_tokens': 48, 'total_tokens': 2672, 'tokens_per_second': 47.363340111850235, 'input_token_details': {'audio_tokens': 360, 'text_tokens': 2264, 'image_tokens': 0, 'cached_tokens': 1664, 'cached_tokens_details': {'audio_tokens': 192, 'text_tokens': 1472, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 14, 'audio_tokens': 34, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:27:22.923917", "level": "WARNING", "logger": "voice_agent.tools", "message": "[end_call] delete_room failed: TwirpError(code=not_found, message=requested room does not exist, status=404). Trying remove_participant by identity\u2026"}
{"timestamp": "2025-12-02T13:27:22.924423", "level": "ERROR", "logger": "voice_agent.tools", "message": "[end_call] remove_participant failed: module 'livekit.api' has no attribute 'RemoveParticipantRequest'", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/tools.py\", line 25, in hangup_call\n    await ctx.api.room.delete_room(\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/api/room_service.py\", line 108, in delete_room\n    return await self._client.request(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/api/twirp_client.py\", line 129, in request\n    raise TwirpError(\nlivekit.api.twirp_client.TwirpError: TwirpError(code=not_found, message=requested room does not exist, status=404)\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/tools.py\", line 37, in hangup_call\n    api.RemoveParticipantRequest(\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: module 'livekit.api' has no attribute 'RemoveParticipantRequest'"}
{"timestamp": "2025-12-02T13:28:03.508964", "level": "INFO", "logger": "livekit.agents", "message": "shutting down worker"}
{"timestamp": "2025-12-02T13:28:03.513986", "level": "DEBUG", "logger": "livekit.agents", "message": "shutting down job task"}
{"timestamp": "2025-12-02T13:28:03.533385", "level": "DEBUG", "logger": "livekit.agents", "message": "job exiting"}
{"timestamp": "2025-12-02T13:28:03.558458", "level": "DEBUG", "logger": "livekit.agents", "message": "session closed"}
{"timestamp": "2025-12-02T13:28:03.558703", "level": "DEBUG", "logger": "livekit.agents", "message": "http_session(): closing the httpclient ctx"}
{"timestamp": "2025-12-02T13:28:03.569515", "level": "INFO", "logger": "livekit.agents", "message": "process exiting"}
{"timestamp": "2025-12-02T13:28:03.667898", "level": "WARNING", "logger": "livekit.agents", "message": "exiting forcefully"}
{"timestamp": "2025-12-02T13:28:09.183835", "level": "INFO", "logger": "livekit.agents", "message": "starting worker"}
{"timestamp": "2025-12-02T13:28:09.184189", "level": "INFO", "logger": "livekit.agents", "message": "starting inference executor"}
{"timestamp": "2025-12-02T13:28:09.195273", "level": "INFO", "logger": "livekit.agents", "message": "initializing process"}
{"timestamp": "2025-12-02T13:28:10.395711", "level": "DEBUG", "logger": "livekit.agents", "message": "initializing inference runner"}
{"timestamp": "2025-12-02T13:28:13.358888", "level": "DEBUG", "logger": "livekit.agents", "message": "inference runner initialized"}
{"timestamp": "2025-12-02T13:28:13.359851", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-12-02T13:28:13.361712", "level": "INFO", "logger": "livekit.agents", "message": "process initialized"}
{"timestamp": "2025-12-02T13:28:13.380972", "level": "INFO", "logger": "livekit.agents", "message": "initializing process"}
{"timestamp": "2025-12-02T13:28:13.381481", "level": "INFO", "logger": "livekit.agents", "message": "initializing process"}
{"timestamp": "2025-12-02T13:28:13.381708", "level": "INFO", "logger": "livekit.agents", "message": "initializing process"}
{"timestamp": "2025-12-02T13:28:13.382129", "level": "INFO", "logger": "livekit.agents", "message": "initializing process"}
{"timestamp": "2025-12-02T13:28:15.202962", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-12-02T13:28:15.203010", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-12-02T13:28:15.203129", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-12-02T13:28:15.203091", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-12-02T13:28:15.203349", "level": "INFO", "logger": "livekit.agents", "message": "process initialized"}
{"timestamp": "2025-12-02T13:28:15.203748", "level": "INFO", "logger": "livekit.agents", "message": "process initialized"}
{"timestamp": "2025-12-02T13:28:15.204471", "level": "INFO", "logger": "livekit.agents", "message": "process initialized"}
{"timestamp": "2025-12-02T13:28:15.204587", "level": "INFO", "logger": "livekit.agents", "message": "process initialized"}
{"timestamp": "2025-12-02T13:28:15.885123", "level": "INFO", "logger": "livekit.agents", "message": "registered worker"}
{"timestamp": "2025-12-02T13:28:16.288895", "level": "INFO", "logger": "livekit.agents", "message": "received job request"}
{"timestamp": "2025-12-02T13:28:16.454520", "level": "INFO", "logger": "livekit", "message": "livekit_ffi::server:139:livekit_ffi::server - initializing ffi server v0.12.39"}
{"timestamp": "2025-12-02T13:28:16.455065", "level": "INFO", "logger": "livekit", "message": "livekit_ffi::cabi:50:livekit_ffi::cabi - initializing ffi server v0.12.39"}
{"timestamp": "2025-12-02T13:28:16.489958", "level": "INFO", "logger": "livekit", "message": "livekit_api::signal_client::signal_stream:92:livekit_api::signal_client::signal_stream - connecting to wss://testing-mwtbjpwy.livekit.cloud/rtc?sdk=python&protocol=16&auto_subscribe=1&adaptive_stream=0&version=1.0.18"}
{"timestamp": "2025-12-02T13:28:16.503091", "level": "INFO", "logger": "livekit.agents", "message": "initializing process"}
{"timestamp": "2025-12-02T13:28:16.916264", "level": "DEBUG", "logger": "livekit", "message": "rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 153 valid and 0 invalid certs"}
{"timestamp": "2025-12-02T13:28:16.916470", "level": "DEBUG", "logger": "livekit", "message": "tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 153/153 native root certificates (ignored 0)"}
{"timestamp": "2025-12-02T13:28:16.916629", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::hs:73:rustls::client::hs - No cached session for DnsName(\"testing-mwtbjpwy.livekit.cloud\")"}
{"timestamp": "2025-12-02T13:28:16.916817", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::hs:132:rustls::client::hs - Not resuming any session"}
{"timestamp": "2025-12-02T13:28:17.064535", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256"}
{"timestamp": "2025-12-02T13:28:17.064741", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::tls13:142:rustls::client::tls13 - Not resuming"}
{"timestamp": "2025-12-02T13:28:17.064931", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []"}
{"timestamp": "2025-12-02T13:28:17.065058", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::hs:472:rustls::client::hs - ALPN protocol is None"}
{"timestamp": "2025-12-02T13:28:17.656328", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-12-02T13:28:17.656535", "level": "INFO", "logger": "livekit.agents", "message": "process initialized"}
{"timestamp": "2025-12-02T13:28:20.375902", "level": "DEBUG", "logger": "livekit", "message": "tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done."}
{"timestamp": "2025-12-02T13:28:23.728356", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udd0c Redis Connected: True"}
{"timestamp": "2025-12-02T13:28:23.729773", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Incoming call from: sip_+17194515279"}
{"timestamp": "2025-12-02T13:28:23.730161", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udd0c Redis Connected: True"}
{"timestamp": "2025-12-02T13:28:23.730313", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Caller Phone Detected (normalized): 17194515279"}
{"timestamp": "2025-12-02T13:28:23.730702", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Incoming call from: sip_+17194515279"}
{"timestamp": "2025-12-02T13:28:23.730977", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Caller Phone Detected (normalized): 17194515279"}
{"timestamp": "2025-12-02T13:28:23.770577", "level": "INFO", "logger": "telephony-agent", "message": "[Hydrate] Profile + Session loaded for 17194515279"}
{"timestamp": "2025-12-02T13:28:23.772327", "level": "INFO", "logger": "telephony-agent", "message": "[Hydrate] Profile + Session loaded for 17194515279"}
{"timestamp": "2025-12-02T13:28:23.843729", "level": "DEBUG", "logger": "livekit.agents", "message": "input stream attached"}
{"timestamp": "2025-12-02T13:28:23.866323", "level": "DEBUG", "logger": "livekit.agents", "message": "http_session(): creating a new httpclient ctx"}
{"timestamp": "2025-12-02T13:28:23.867009", "level": "DEBUG", "logger": "livekit.agents", "message": "start reading stream"}
{"timestamp": "2025-12-02T13:28:23.868163", "level": "DEBUG", "logger": "livekit.agents", "message": "using audio io: `RoomIO` -> `AgentSession` -> `TranscriptSynchronizer` -> `RoomIO`"}
{"timestamp": "2025-12-02T13:28:23.868272", "level": "DEBUG", "logger": "livekit.agents", "message": "using transcript io: `AgentSession` -> `TranscriptSynchronizer` -> `RoomIO`"}
{"timestamp": "2025-12-02T13:28:26.394172", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKiX6mnHjDXcRy9sYwUn', 'timestamp': 1764682105.605684, 'duration': 0.7872989177703857, 'ttft': 0.012616872787475586, 'cancelled': False, 'input_tokens': 474, 'output_tokens': 94, 'total_tokens': 568, 'tokens_per_second': 119.39556612907084, 'input_token_details': {'audio_tokens': 0, 'text_tokens': 474, 'image_tokens': 0, 'cached_tokens': 0, 'cached_tokens_details': {'audio_tokens': 0, 'text_tokens': 0, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 22, 'audio_tokens': 72, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:28:26.395776", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKiX6mnHjDXcRy9sYwUn', 'timestamp': 1764682105.605684, 'duration': 0.7872989177703857, 'ttft': 0.012616872787475586, 'cancelled': False, 'input_tokens': 474, 'output_tokens': 94, 'total_tokens': 568, 'tokens_per_second': 119.39556612907084, 'input_token_details': {'audio_tokens': 0, 'text_tokens': 474, 'image_tokens': 0, 'cached_tokens': 0, 'cached_tokens_details': {'audio_tokens': 0, 'text_tokens': 0, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 22, 'audio_tokens': 72, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:28:35.590765", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKig84U4Rc3kXBTt41uT', 'timestamp': 1764682114.312135, 'duration': 1.2778651714324951, 'ttft': 0.5658650398254395, 'cancelled': False, 'input_tokens': 1380, 'output_tokens': 93, 'total_tokens': 1473, 'tokens_per_second': 72.77763106709169, 'input_token_details': {'audio_tokens': 93, 'text_tokens': 1287, 'image_tokens': 0, 'cached_tokens': 0, 'cached_tokens_details': {'audio_tokens': 0, 'text_tokens': 0, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 26, 'audio_tokens': 67, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:28:35.592298", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKig84U4Rc3kXBTt41uT', 'timestamp': 1764682114.312135, 'duration': 1.2778651714324951, 'ttft': 0.5658650398254395, 'cancelled': False, 'input_tokens': 1380, 'output_tokens': 93, 'total_tokens': 1473, 'tokens_per_second': 72.77763106709169, 'input_token_details': {'audio_tokens': 93, 'text_tokens': 1287, 'image_tokens': 0, 'cached_tokens': 0, 'cached_tokens_details': {'audio_tokens': 0, 'text_tokens': 0, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 26, 'audio_tokens': 67, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:28:43.227879", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKioszM029Wi5PItzHVL', 'timestamp': 1764682122.727009, 'duration': 0.5000169277191162, 'ttft': -1.0, 'cancelled': False, 'input_tokens': 1421, 'output_tokens': 25, 'total_tokens': 1446, 'tokens_per_second': 49.998307285395974, 'input_token_details': {'audio_tokens': 108, 'text_tokens': 1313, 'image_tokens': 0, 'cached_tokens': 832, 'cached_tokens_details': {'audio_tokens': 0, 'text_tokens': 832, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 25, 'audio_tokens': 0, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:28:43.230107", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKioszM029Wi5PItzHVL', 'timestamp': 1764682122.727009, 'duration': 0.5000169277191162, 'ttft': -1.0, 'cancelled': False, 'input_tokens': 1421, 'output_tokens': 25, 'total_tokens': 1446, 'tokens_per_second': 49.998307285395974, 'input_token_details': {'audio_tokens': 108, 'text_tokens': 1313, 'image_tokens': 0, 'cached_tokens': 832, 'cached_tokens_details': {'audio_tokens': 0, 'text_tokens': 832, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 25, 'audio_tokens': 0, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:28:43.233507", "level": "DEBUG", "logger": "livekit.agents", "message": "executing tool"}
{"timestamp": "2025-12-02T13:28:43.236159", "level": "INFO", "logger": "src.services.context_manager", "message": "[Redis] Saved MERGED context for sip_+17194515279: BookingContext(name='Abdul Basit', phone='17194515279', date=None, time=None, suggested_slots=None, stage='start', status='returning', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, cancel_appt_id=None, created_at='2025-12-02T13:28:23.754982')"}
{"timestamp": "2025-12-02T13:28:43.236781", "level": "INFO", "logger": "src.services.context_manager", "message": "[Redis] Saved MERGED context for sip_+17194515279: BookingContext(name='Abdul Basit', phone='17194515279', date=None, time=None, suggested_slots=None, stage='start', status='returning', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, cancel_appt_id=None, created_at='2025-12-02T13:28:23.754982')"}
{"timestamp": "2025-12-02T13:28:43.236999", "level": "DEBUG", "logger": "livekit.agents", "message": "tools execution completed"}
{"timestamp": "2025-12-02T13:28:44.625244", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKipbQM7WiciprzyKLrF', 'timestamp': 1764682123.811567, 'duration': 0.8128409385681152, 'ttft': 0.41153693199157715, 'cancelled': False, 'input_tokens': 1375, 'output_tokens': 49, 'total_tokens': 1424, 'tokens_per_second': 60.282396807323025, 'input_token_details': {'audio_tokens': 41, 'text_tokens': 1334, 'image_tokens': 0, 'cached_tokens': 1280, 'cached_tokens_details': {'audio_tokens': 0, 'text_tokens': 1280, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 16, 'audio_tokens': 33, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:28:44.626826", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKipbQM7WiciprzyKLrF', 'timestamp': 1764682123.811567, 'duration': 0.8128409385681152, 'ttft': 0.41153693199157715, 'cancelled': False, 'input_tokens': 1375, 'output_tokens': 49, 'total_tokens': 1424, 'tokens_per_second': 60.282396807323025, 'input_token_details': {'audio_tokens': 41, 'text_tokens': 1334, 'image_tokens': 0, 'cached_tokens': 1280, 'cached_tokens_details': {'audio_tokens': 0, 'text_tokens': 1280, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 16, 'audio_tokens': 33, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:28:46.068724", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKireUEO9W6vlPJq1aPV', 'timestamp': 1764682125.589101, 'duration': 0.47880077362060547, 'ttft': -1.0, 'cancelled': False, 'input_tokens': 1459, 'output_tokens': 11, 'total_tokens': 1470, 'tokens_per_second': 22.97406480114887, 'input_token_details': {'audio_tokens': 99, 'text_tokens': 1360, 'image_tokens': 0, 'cached_tokens': 1408, 'cached_tokens_details': {'audio_tokens': 64, 'text_tokens': 1344, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 11, 'audio_tokens': 0, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:28:46.069837", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKireUEO9W6vlPJq1aPV', 'timestamp': 1764682125.589101, 'duration': 0.47880077362060547, 'ttft': -1.0, 'cancelled': False, 'input_tokens': 1459, 'output_tokens': 11, 'total_tokens': 1470, 'tokens_per_second': 22.97406480114887, 'input_token_details': {'audio_tokens': 99, 'text_tokens': 1360, 'image_tokens': 0, 'cached_tokens': 1408, 'cached_tokens_details': {'audio_tokens': 64, 'text_tokens': 1344, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 11, 'audio_tokens': 0, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:28:46.070930", "level": "DEBUG", "logger": "livekit.agents", "message": "executing tool"}
{"timestamp": "2025-12-02T13:28:46.072435", "level": "DEBUG", "logger": "livekit.agents", "message": "tools execution completed"}
{"timestamp": "2025-12-02T13:28:47.198253", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKisZruDyZ7XsOdCP7tL', 'timestamp': 1764682126.6539462, 'duration': 0.5433318614959717, 'ttft': -1.0, 'cancelled': False, 'input_tokens': 1455, 'output_tokens': 35, 'total_tokens': 1490, 'tokens_per_second': 64.41735241447734, 'input_token_details': {'audio_tokens': 66, 'text_tokens': 1389, 'image_tokens': 0, 'cached_tokens': 1408, 'cached_tokens_details': {'audio_tokens': 64, 'text_tokens': 1344, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 35, 'audio_tokens': 0, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:28:47.199108", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKisZruDyZ7XsOdCP7tL', 'timestamp': 1764682126.6539462, 'duration': 0.5433318614959717, 'ttft': -1.0, 'cancelled': False, 'input_tokens': 1455, 'output_tokens': 35, 'total_tokens': 1490, 'tokens_per_second': 64.41735241447734, 'input_token_details': {'audio_tokens': 66, 'text_tokens': 1389, 'image_tokens': 0, 'cached_tokens': 1408, 'cached_tokens_details': {'audio_tokens': 64, 'text_tokens': 1344, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 35, 'audio_tokens': 0, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:28:47.201183", "level": "DEBUG", "logger": "livekit.agents", "message": "executing tool"}
{"timestamp": "2025-12-02T13:28:47.202164", "level": "INFO", "logger": "voice_agent.tools", "message": "[available_slot] \u25b6 Input: day='tomorrow', date='', time=''"}
{"timestamp": "2025-12-02T13:28:47.202547", "level": "INFO", "logger": "voice_agent.tools", "message": "[available_slot] \u25b6 Input: day='tomorrow', date='', time=''"}
{"timestamp": "2025-12-02T13:28:47.203125", "level": "INFO", "logger": "src.services.context_manager", "message": "[Redis] Saved MERGED context for sip_+17194515279: BookingContext(name='Abdul Basit', phone='17194515279', date='2025-12-03', time=None, suggested_slots=None, stage='start', status='returning', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, cancel_appt_id=None, created_at='2025-12-02T13:28:23.754982')"}
{"timestamp": "2025-12-02T13:28:47.206533", "level": "INFO", "logger": "src.services.context_manager", "message": "[Redis] Saved MERGED context for sip_+17194515279: BookingContext(name='Abdul Basit', phone='17194515279', date='2025-12-03', time=None, suggested_slots=None, stage='start', status='returning', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, cancel_appt_id=None, created_at='2025-12-02T13:28:23.754982')"}
{"timestamp": "2025-12-02T13:28:47.208168", "level": "INFO", "logger": "voice_agent.tools", "message": "[available_slot] Booked slots for 2025-12-03: []"}
{"timestamp": "2025-12-02T13:28:47.208565", "level": "INFO", "logger": "voice_agent.tools", "message": "[available_slot] Booked slots for 2025-12-03: []"}
{"timestamp": "2025-12-02T13:28:47.208995", "level": "INFO", "logger": "src.services.context_manager", "message": "[Redis] Saved MERGED context for sip_+17194515279: BookingContext(name='Abdul Basit', phone='17194515279', date='2025-12-03', time=None, suggested_slots=['9:00 AM', '9:30 AM', '10:00 AM', '10:30 AM', '11:00 AM', '11:30 AM', '12:00 PM', '1:00 PM', '1:30 PM', '2:00 PM', '2:30 PM', '3:00 PM', '3:30 PM', '4:00 PM'], stage='start', status='returning', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, cancel_appt_id=None, created_at='2025-12-02T13:28:23.754982')"}
{"timestamp": "2025-12-02T13:28:47.209136", "level": "INFO", "logger": "voice_agent.tools", "message": "[available_slot] Final suggestions: ['9:00 AM', '9:30 AM', '10:00 AM', '10:30 AM', '11:00 AM', '11:30 AM', '12:00 PM', '1:00 PM', '1:30 PM', '2:00 PM', '2:30 PM', '3:00 PM', '3:30 PM', '4:00 PM']"}
{"timestamp": "2025-12-02T13:28:47.209245", "level": "INFO", "logger": "src.services.context_manager", "message": "[Redis] Saved MERGED context for sip_+17194515279: BookingContext(name='Abdul Basit', phone='17194515279', date='2025-12-03', time=None, suggested_slots=['9:00 AM', '9:30 AM', '10:00 AM', '10:30 AM', '11:00 AM', '11:30 AM', '12:00 PM', '1:00 PM', '1:30 PM', '2:00 PM', '2:30 PM', '3:00 PM', '3:30 PM', '4:00 PM'], stage='start', status='returning', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, cancel_appt_id=None, created_at='2025-12-02T13:28:23.754982')"}
{"timestamp": "2025-12-02T13:28:47.209458", "level": "INFO", "logger": "voice_agent.tools", "message": "[available_slot] Final suggestions: ['9:00 AM', '9:30 AM', '10:00 AM', '10:30 AM', '11:00 AM', '11:30 AM', '12:00 PM', '1:00 PM', '1:30 PM', '2:00 PM', '2:30 PM', '3:00 PM', '3:30 PM', '4:00 PM']"}
{"timestamp": "2025-12-02T13:28:47.209863", "level": "DEBUG", "logger": "livekit.agents", "message": "tools execution completed"}
{"timestamp": "2025-12-02T13:28:48.588421", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKityKs6n3Szo29hr1fH', 'timestamp': 1764682127.818719, 'duration': 0.7688970565795898, 'ttft': 0.3864290714263916, 'cancelled': False, 'input_tokens': 1588, 'output_tokens': 55, 'total_tokens': 1643, 'tokens_per_second': 71.5310320534526, 'input_token_details': {'audio_tokens': 66, 'text_tokens': 1522, 'image_tokens': 0, 'cached_tokens': 1472, 'cached_tokens_details': {'audio_tokens': 64, 'text_tokens': 1408, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 15, 'audio_tokens': 40, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:28:48.589484", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKityKs6n3Szo29hr1fH', 'timestamp': 1764682127.818719, 'duration': 0.7688970565795898, 'ttft': 0.3864290714263916, 'cancelled': False, 'input_tokens': 1588, 'output_tokens': 55, 'total_tokens': 1643, 'tokens_per_second': 71.5310320534526, 'input_token_details': {'audio_tokens': 66, 'text_tokens': 1522, 'image_tokens': 0, 'cached_tokens': 1472, 'cached_tokens_details': {'audio_tokens': 64, 'text_tokens': 1408, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 15, 'audio_tokens': 40, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:28:52.558213", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKixLMGUaQrjesjB3lwr', 'timestamp': 1764682131.439147, 'duration': 1.1178910732269287, 'ttft': 0.6109709739685059, 'cancelled': False, 'input_tokens': 1651, 'output_tokens': 57, 'total_tokens': 1708, 'tokens_per_second': 50.988867667994306, 'input_token_details': {'audio_tokens': 113, 'text_tokens': 1538, 'image_tokens': 0, 'cached_tokens': 1600, 'cached_tokens_details': {'audio_tokens': 64, 'text_tokens': 1536, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 15, 'audio_tokens': 42, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:28:52.559888", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKixLMGUaQrjesjB3lwr', 'timestamp': 1764682131.439147, 'duration': 1.1178910732269287, 'ttft': 0.6109709739685059, 'cancelled': False, 'input_tokens': 1651, 'output_tokens': 57, 'total_tokens': 1708, 'tokens_per_second': 50.988867667994306, 'input_token_details': {'audio_tokens': 113, 'text_tokens': 1538, 'image_tokens': 0, 'cached_tokens': 1600, 'cached_tokens_details': {'audio_tokens': 64, 'text_tokens': 1536, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 15, 'audio_tokens': 42, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:28:58.983022", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKj3uMks6lbmar2YJKJ4', 'timestamp': 1764682137.6475468, 'duration': 1.3343501091003418, 'ttft': 0.600426435470581, 'cancelled': False, 'input_tokens': 1706, 'output_tokens': 94, 'total_tokens': 1800, 'tokens_per_second': 70.44627894801731, 'input_token_details': {'audio_tokens': 147, 'text_tokens': 1559, 'image_tokens': 0, 'cached_tokens': 1600, 'cached_tokens_details': {'audio_tokens': 64, 'text_tokens': 1536, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 27, 'audio_tokens': 67, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:28:58.985852", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKj3uMks6lbmar2YJKJ4', 'timestamp': 1764682137.6475468, 'duration': 1.3343501091003418, 'ttft': 0.600426435470581, 'cancelled': False, 'input_tokens': 1706, 'output_tokens': 94, 'total_tokens': 1800, 'tokens_per_second': 70.44627894801731, 'input_token_details': {'audio_tokens': 147, 'text_tokens': 1559, 'image_tokens': 0, 'cached_tokens': 1600, 'cached_tokens_details': {'audio_tokens': 64, 'text_tokens': 1536, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 27, 'audio_tokens': 67, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:29:12.995345", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKjH8r2yLIauTbxOTELr', 'timestamp': 1764682151.8837152, 'duration': 1.110347032546997, 'ttft': 0.5924117565155029, 'cancelled': False, 'input_tokens': 1772, 'output_tokens': 62, 'total_tokens': 1834, 'tokens_per_second': 55.838398430966, 'input_token_details': {'audio_tokens': 182, 'text_tokens': 1590, 'image_tokens': 0, 'cached_tokens': 1600, 'cached_tokens_details': {'audio_tokens': 64, 'text_tokens': 1536, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 16, 'audio_tokens': 46, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:29:12.998539", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKjH8r2yLIauTbxOTELr', 'timestamp': 1764682151.8837152, 'duration': 1.110347032546997, 'ttft': 0.5924117565155029, 'cancelled': False, 'input_tokens': 1772, 'output_tokens': 62, 'total_tokens': 1834, 'tokens_per_second': 55.838398430966, 'input_token_details': {'audio_tokens': 182, 'text_tokens': 1590, 'image_tokens': 0, 'cached_tokens': 1600, 'cached_tokens_details': {'audio_tokens': 64, 'text_tokens': 1536, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 16, 'audio_tokens': 46, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:29:19.476434", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKjOeV4q97eIxSjjX4nb', 'timestamp': 1764682158.027858, 'duration': 1.4482619762420654, 'ttft': 0.7283239364624023, 'cancelled': False, 'input_tokens': 1778, 'output_tokens': 84, 'total_tokens': 1862, 'tokens_per_second': 58.00055609963765, 'input_token_details': {'audio_tokens': 172, 'text_tokens': 1606, 'image_tokens': 0, 'cached_tokens': 1664, 'cached_tokens_details': {'audio_tokens': 128, 'text_tokens': 1536, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 22, 'audio_tokens': 62, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:29:19.477098", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKjOeV4q97eIxSjjX4nb', 'timestamp': 1764682158.027858, 'duration': 1.4482619762420654, 'ttft': 0.7283239364624023, 'cancelled': False, 'input_tokens': 1778, 'output_tokens': 84, 'total_tokens': 1862, 'tokens_per_second': 58.00055609963765, 'input_token_details': {'audio_tokens': 172, 'text_tokens': 1606, 'image_tokens': 0, 'cached_tokens': 1664, 'cached_tokens_details': {'audio_tokens': 128, 'text_tokens': 1536, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 22, 'audio_tokens': 62, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:29:21.787778", "level": "INFO", "logger": "livekit.agents", "message": "closing agent session due to participant disconnect (disable via `RoomInputOptions.close_on_disconnect=False`)"}
{"timestamp": "2025-12-02T13:29:21.789215", "level": "INFO", "logger": "livekit.agents", "message": "closing agent session due to participant disconnect (disable via `RoomInputOptions.close_on_disconnect=False`)"}
{"timestamp": "2025-12-02T13:29:21.789746", "level": "DEBUG", "logger": "livekit.agents", "message": "stream closed"}
{"timestamp": "2025-12-02T13:29:21.794618", "level": "DEBUG", "logger": "livekit.agents", "message": "input stream detached"}
{"timestamp": "2025-12-02T13:29:21.798876", "level": "DEBUG", "logger": "livekit.agents", "message": "session closed"}
{"timestamp": "2025-12-02T13:29:29.028029", "level": "INFO", "logger": "livekit.agents", "message": "received job request"}
{"timestamp": "2025-12-02T13:29:29.182718", "level": "INFO", "logger": "livekit", "message": "livekit_ffi::server:139:livekit_ffi::server - initializing ffi server v0.12.39"}
{"timestamp": "2025-12-02T13:29:29.183856", "level": "INFO", "logger": "livekit", "message": "livekit_ffi::cabi:50:livekit_ffi::cabi - initializing ffi server v0.12.39"}
{"timestamp": "2025-12-02T13:29:29.185397", "level": "INFO", "logger": "livekit", "message": "livekit_api::signal_client::signal_stream:92:livekit_api::signal_client::signal_stream - connecting to wss://testing-mwtbjpwy.livekit.cloud/rtc?sdk=python&protocol=16&auto_subscribe=1&adaptive_stream=0&version=1.0.18"}
{"timestamp": "2025-12-02T13:29:29.638565", "level": "DEBUG", "logger": "livekit", "message": "rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 153 valid and 0 invalid certs"}
{"timestamp": "2025-12-02T13:29:29.638776", "level": "DEBUG", "logger": "livekit", "message": "tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 153/153 native root certificates (ignored 0)"}
{"timestamp": "2025-12-02T13:29:29.639024", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::hs:73:rustls::client::hs - No cached session for DnsName(\"testing-mwtbjpwy.livekit.cloud\")"}
{"timestamp": "2025-12-02T13:29:29.639277", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::hs:132:rustls::client::hs - Not resuming any session"}
{"timestamp": "2025-12-02T13:29:29.795940", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256"}
{"timestamp": "2025-12-02T13:29:29.796333", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::tls13:142:rustls::client::tls13 - Not resuming"}
{"timestamp": "2025-12-02T13:29:29.796650", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []"}
{"timestamp": "2025-12-02T13:29:29.796780", "level": "DEBUG", "logger": "livekit", "message": "rustls::client::hs:472:rustls::client::hs - ALPN protocol is None"}
{"timestamp": "2025-12-02T13:29:30.581241", "level": "DEBUG", "logger": "livekit", "message": "tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done."}
{"timestamp": "2025-12-02T13:29:32.259546", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udd0c Redis Connected: True"}
{"timestamp": "2025-12-02T13:29:32.261422", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Incoming call from: sip_+17194515279"}
{"timestamp": "2025-12-02T13:29:32.261613", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udd0c Redis Connected: True"}
{"timestamp": "2025-12-02T13:29:32.261929", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Caller Phone Detected (normalized): 17194515279"}
{"timestamp": "2025-12-02T13:29:32.262423", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Incoming call from: sip_+17194515279"}
{"timestamp": "2025-12-02T13:29:32.262586", "level": "INFO", "logger": "telephony-agent", "message": "\ud83d\udcde Caller Phone Detected (normalized): 17194515279"}
{"timestamp": "2025-12-02T13:29:32.263368", "level": "INFO", "logger": "telephony-agent", "message": "[Hydrate] Profile + Session loaded for 17194515279"}
{"timestamp": "2025-12-02T13:29:32.264627", "level": "INFO", "logger": "telephony-agent", "message": "[Hydrate] Profile + Session loaded for 17194515279"}
{"timestamp": "2025-12-02T13:29:32.334559", "level": "DEBUG", "logger": "livekit.agents", "message": "input stream attached"}
{"timestamp": "2025-12-02T13:29:32.369087", "level": "DEBUG", "logger": "livekit.agents", "message": "http_session(): creating a new httpclient ctx"}
{"timestamp": "2025-12-02T13:29:32.369855", "level": "DEBUG", "logger": "livekit.agents", "message": "start reading stream"}
{"timestamp": "2025-12-02T13:29:32.371168", "level": "DEBUG", "logger": "livekit.agents", "message": "using audio io: `RoomIO` -> `AgentSession` -> `TranscriptSynchronizer` -> `RoomIO`"}
{"timestamp": "2025-12-02T13:29:32.371310", "level": "DEBUG", "logger": "livekit.agents", "message": "using transcript io: `AgentSession` -> `TranscriptSynchronizer` -> `RoomIO`"}
{"timestamp": "2025-12-02T13:29:35.816570", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKjdYxZYYMXGeouwH0M0', 'timestamp': 1764682173.985387, 'duration': 1.8291130065917969, 'ttft': 0.22714996337890625, 'cancelled': False, 'input_tokens': 474, 'output_tokens': 91, 'total_tokens': 565, 'tokens_per_second': 49.75089000627749, 'input_token_details': {'audio_tokens': 0, 'text_tokens': 474, 'image_tokens': 0, 'cached_tokens': 0, 'cached_tokens_details': {'audio_tokens': 0, 'text_tokens': 0, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 29, 'audio_tokens': 62, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:29:35.817795", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKjdYxZYYMXGeouwH0M0', 'timestamp': 1764682173.985387, 'duration': 1.8291130065917969, 'ttft': 0.22714996337890625, 'cancelled': False, 'input_tokens': 474, 'output_tokens': 91, 'total_tokens': 565, 'tokens_per_second': 49.75089000627749, 'input_token_details': {'audio_tokens': 0, 'text_tokens': 474, 'image_tokens': 0, 'cached_tokens': 0, 'cached_tokens_details': {'audio_tokens': 0, 'text_tokens': 0, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 29, 'audio_tokens': 62, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:29:43.959718", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKjnaOPddX3wTYjyMUn1', 'timestamp': 1764682183.2710662, 'duration': 0.6870737075805664, 'ttft': -1.0, 'cancelled': False, 'input_tokens': 1383, 'output_tokens': 11, 'total_tokens': 1394, 'tokens_per_second': 16.00992714265687, 'input_token_details': {'audio_tokens': 89, 'text_tokens': 1294, 'image_tokens': 0, 'cached_tokens': 0, 'cached_tokens_details': {'audio_tokens': 0, 'text_tokens': 0, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 11, 'audio_tokens': 0, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:29:43.965417", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKjnaOPddX3wTYjyMUn1', 'timestamp': 1764682183.2710662, 'duration': 0.6870737075805664, 'ttft': -1.0, 'cancelled': False, 'input_tokens': 1383, 'output_tokens': 11, 'total_tokens': 1394, 'tokens_per_second': 16.00992714265687, 'input_token_details': {'audio_tokens': 89, 'text_tokens': 1294, 'image_tokens': 0, 'cached_tokens': 0, 'cached_tokens_details': {'audio_tokens': 0, 'text_tokens': 0, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 11, 'audio_tokens': 0, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:29:43.968279", "level": "DEBUG", "logger": "livekit.agents", "message": "executing tool"}
{"timestamp": "2025-12-02T13:29:43.969886", "level": "DEBUG", "logger": "livekit.agents", "message": "tools execution completed"}
{"timestamp": "2025-12-02T13:29:45.184419", "level": "DEBUG", "logger": "livekit", "message": "tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: \"\" })"}
{"timestamp": "2025-12-02T13:29:45.185083", "level": "DEBUG", "logger": "livekit", "message": "tungstenite::protocol:683:tungstenite::protocol - Replying to close with Frame { header: FrameHeader { is_final: true, rsv1: false, rsv2: false, rsv3: false, opcode: Control(Close), mask: None }, payload: [3, 232] }"}
{"timestamp": "2025-12-02T13:29:45.187040", "level": "INFO", "logger": "livekit", "message": "livekit::room:1400:livekit::room - disconnected from room with reason: RoomClosed"}
{"timestamp": "2025-12-02T13:29:45.188218", "level": "DEBUG", "logger": "livekit.agents", "message": "shutting down job task"}
{"timestamp": "2025-12-02T13:29:45.188940", "level": "DEBUG", "logger": "livekit.agents", "message": "http_session(): closing the httpclient ctx"}
{"timestamp": "2025-12-02T13:29:45.189683", "level": "INFO", "logger": "livekit.agents", "message": "process exiting"}
{"timestamp": "2025-12-02T13:29:45.431572", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKjooPfRdJAEQwp3GRFX', 'timestamp': 1764682184.558317, 'duration': 0.8729701042175293, 'ttft': -1.0, 'cancelled': False, 'input_tokens': 1346, 'output_tokens': 38, 'total_tokens': 1384, 'tokens_per_second': 43.52955481111304, 'input_token_details': {'audio_tokens': 27, 'text_tokens': 1319, 'image_tokens': 0, 'cached_tokens': 832, 'cached_tokens_details': {'audio_tokens': 0, 'text_tokens': 832, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 38, 'audio_tokens': 0, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:29:45.431931", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKjooPfRdJAEQwp3GRFX', 'timestamp': 1764682184.558317, 'duration': 0.8729701042175293, 'ttft': -1.0, 'cancelled': False, 'input_tokens': 1346, 'output_tokens': 38, 'total_tokens': 1384, 'tokens_per_second': 43.52955481111304, 'input_token_details': {'audio_tokens': 27, 'text_tokens': 1319, 'image_tokens': 0, 'cached_tokens': 832, 'cached_tokens_details': {'audio_tokens': 0, 'text_tokens': 832, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 38, 'audio_tokens': 0, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:29:45.433473", "level": "DEBUG", "logger": "livekit.agents", "message": "executing tool"}
{"timestamp": "2025-12-02T13:29:45.434681", "level": "INFO", "logger": "voice_agent.tools", "message": "[available_slot] \u25b6 Input: day='tomorrow', date='', time='morning'"}
{"timestamp": "2025-12-02T13:29:45.434921", "level": "INFO", "logger": "voice_agent.tools", "message": "[available_slot] \u25b6 Input: day='tomorrow', date='', time='morning'"}
{"timestamp": "2025-12-02T13:29:45.435359", "level": "INFO", "logger": "src.services.context_manager", "message": "[Redis] Saved MERGED context for sip_+17194515279: BookingContext(name='Abdul Basit', phone='17194515279', date='2025-12-03', time=None, suggested_slots=None, stage='start', status='returning', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, cancel_appt_id=None, created_at='2025-12-02T13:29:32.262652')"}
{"timestamp": "2025-12-02T13:29:45.447459", "level": "INFO", "logger": "src.services.context_manager", "message": "[Redis] Saved MERGED context for sip_+17194515279: BookingContext(name='Abdul Basit', phone='17194515279', date='2025-12-03', time=None, suggested_slots=None, stage='start', status='returning', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, cancel_appt_id=None, created_at='2025-12-02T13:29:32.262652')"}
{"timestamp": "2025-12-02T13:29:45.450176", "level": "INFO", "logger": "voice_agent.tools", "message": "[available_slot] Booked slots for 2025-12-03: []"}
{"timestamp": "2025-12-02T13:29:45.450434", "level": "INFO", "logger": "voice_agent.tools", "message": "[available_slot] Booked slots for 2025-12-03: []"}
{"timestamp": "2025-12-02T13:29:45.450862", "level": "INFO", "logger": "src.services.context_manager", "message": "[Redis] Saved MERGED context for sip_+17194515279: BookingContext(name='Abdul Basit', phone='17194515279', date='2025-12-03', time=None, suggested_slots=['9:00 AM', '9:30 AM', '10:00 AM', '10:30 AM', '11:00 AM', '11:30 AM'], stage='start', status='returning', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, cancel_appt_id=None, created_at='2025-12-02T13:29:32.262652')"}
{"timestamp": "2025-12-02T13:29:45.450986", "level": "INFO", "logger": "voice_agent.tools", "message": "[available_slot] Final suggestions: ['9:00 AM', '9:30 AM', '10:00 AM', '10:30 AM', '11:00 AM', '11:30 AM']"}
{"timestamp": "2025-12-02T13:29:45.451050", "level": "INFO", "logger": "src.services.context_manager", "message": "[Redis] Saved MERGED context for sip_+17194515279: BookingContext(name='Abdul Basit', phone='17194515279', date='2025-12-03', time=None, suggested_slots=['9:00 AM', '9:30 AM', '10:00 AM', '10:30 AM', '11:00 AM', '11:30 AM'], stage='start', status='returning', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, cancel_appt_id=None, created_at='2025-12-02T13:29:32.262652')"}
{"timestamp": "2025-12-02T13:29:45.451329", "level": "INFO", "logger": "voice_agent.tools", "message": "[available_slot] Final suggestions: ['9:00 AM', '9:30 AM', '10:00 AM', '10:30 AM', '11:00 AM', '11:30 AM']"}
{"timestamp": "2025-12-02T13:29:45.451524", "level": "DEBUG", "logger": "livekit.agents", "message": "tools execution completed"}
{"timestamp": "2025-12-02T13:29:47.287640", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKjqkWbhDatXJ8v1SyJE', 'timestamp': 1764682186.03013, 'duration': 1.2571890354156494, 'ttft': 0.6029131412506104, 'cancelled': False, 'input_tokens': 1432, 'output_tokens': 97, 'total_tokens': 1529, 'tokens_per_second': 77.1562567501474, 'input_token_details': {'audio_tokens': 27, 'text_tokens': 1405, 'image_tokens': 0, 'cached_tokens': 1344, 'cached_tokens_details': {'audio_tokens': 0, 'text_tokens': 1344, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 25, 'audio_tokens': 72, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:29:47.288419", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKjqkWbhDatXJ8v1SyJE', 'timestamp': 1764682186.03013, 'duration': 1.2571890354156494, 'ttft': 0.6029131412506104, 'cancelled': False, 'input_tokens': 1432, 'output_tokens': 97, 'total_tokens': 1529, 'tokens_per_second': 77.1562567501474, 'input_token_details': {'audio_tokens': 27, 'text_tokens': 1405, 'image_tokens': 0, 'cached_tokens': 1344, 'cached_tokens_details': {'audio_tokens': 0, 'text_tokens': 1344, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 25, 'audio_tokens': 72, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:29:58.863017", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKjzCf7nGTr4qbz7Ql3V', 'timestamp': 1764682195.257717, 'duration': 3.604978084564209, 'ttft': 0.9127843379974365, 'cancelled': False, 'input_tokens': 1559, 'output_tokens': 94, 'total_tokens': 1653, 'tokens_per_second': 26.075054492699717, 'input_token_details': {'audio_tokens': 119, 'text_tokens': 1440, 'image_tokens': 0, 'cached_tokens': 1472, 'cached_tokens_details': {'audio_tokens': 64, 'text_tokens': 1408, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 27, 'audio_tokens': 67, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:29:58.864596", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKjzCf7nGTr4qbz7Ql3V', 'timestamp': 1764682195.257717, 'duration': 3.604978084564209, 'ttft': 0.9127843379974365, 'cancelled': False, 'input_tokens': 1559, 'output_tokens': 94, 'total_tokens': 1653, 'tokens_per_second': 26.075054492699717, 'input_token_details': {'audio_tokens': 119, 'text_tokens': 1440, 'image_tokens': 0, 'cached_tokens': 1472, 'cached_tokens_details': {'audio_tokens': 64, 'text_tokens': 1408, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 27, 'audio_tokens': 67, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:30:07.713701", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKkAgAQNeSc3jEERlMPr', 'timestamp': 1764682206.822436, 'duration': 0.8907299041748047, 'ttft': -1.0, 'cancelled': False, 'input_tokens': 1601, 'output_tokens': 24, 'total_tokens': 1625, 'tokens_per_second': 26.944194741316362, 'input_token_details': {'audio_tokens': 134, 'text_tokens': 1467, 'image_tokens': 0, 'cached_tokens': 832, 'cached_tokens_details': {'audio_tokens': 0, 'text_tokens': 832, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 24, 'audio_tokens': 0, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:30:07.715271", "level": "DEBUG", "logger": "livekit.agents", "message": "executing tool"}
{"timestamp": "2025-12-02T13:30:07.715488", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKkAgAQNeSc3jEERlMPr', 'timestamp': 1764682206.822436, 'duration': 0.8907299041748047, 'ttft': -1.0, 'cancelled': False, 'input_tokens': 1601, 'output_tokens': 24, 'total_tokens': 1625, 'tokens_per_second': 26.944194741316362, 'input_token_details': {'audio_tokens': 134, 'text_tokens': 1467, 'image_tokens': 0, 'cached_tokens': 832, 'cached_tokens_details': {'audio_tokens': 0, 'text_tokens': 832, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 24, 'audio_tokens': 0, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:30:07.717151", "level": "INFO", "logger": "src.services.context_manager", "message": "[Redis] Saved MERGED context for sip_+17194515279: BookingContext(name='Saqib', phone='17194515279', date='2025-12-03', time=None, suggested_slots=['9:00 AM', '9:30 AM', '10:00 AM', '10:30 AM', '11:00 AM', '11:30 AM'], stage='start', status='returning', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, cancel_appt_id=None, created_at='2025-12-02T13:29:32.262652')"}
{"timestamp": "2025-12-02T13:30:07.717429", "level": "INFO", "logger": "src.services.context_manager", "message": "[Redis] Saved MERGED context for sip_+17194515279: BookingContext(name='Saqib', phone='17194515279', date='2025-12-03', time=None, suggested_slots=['9:00 AM', '9:30 AM', '10:00 AM', '10:30 AM', '11:00 AM', '11:30 AM'], stage='start', status='returning', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, cancel_appt_id=None, created_at='2025-12-02T13:29:32.262652')"}
{"timestamp": "2025-12-02T13:30:07.717659", "level": "DEBUG", "logger": "livekit.agents", "message": "tools execution completed"}
{"timestamp": "2025-12-02T13:30:09.636808", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKkCsqIJVKy0DGNO89cx', 'timestamp': 1764682208.3339689, 'duration': 1.3023791313171387, 'ttft': 0.8004810810089111, 'cancelled': False, 'input_tokens': 1554, 'output_tokens': 46, 'total_tokens': 1600, 'tokens_per_second': 35.31997626027583, 'input_token_details': {'audio_tokens': 67, 'text_tokens': 1487, 'image_tokens': 0, 'cached_tokens': 1472, 'cached_tokens_details': {'audio_tokens': 64, 'text_tokens': 1408, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 14, 'audio_tokens': 32, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:30:09.637636", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKkCsqIJVKy0DGNO89cx', 'timestamp': 1764682208.3339689, 'duration': 1.3023791313171387, 'ttft': 0.8004810810089111, 'cancelled': False, 'input_tokens': 1554, 'output_tokens': 46, 'total_tokens': 1600, 'tokens_per_second': 35.31997626027583, 'input_token_details': {'audio_tokens': 67, 'text_tokens': 1487, 'image_tokens': 0, 'cached_tokens': 1472, 'cached_tokens_details': {'audio_tokens': 64, 'text_tokens': 1408, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 14, 'audio_tokens': 32, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:30:20.119823", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKkML9Tu7D0I6QJJ6sBE', 'timestamp': 1764682218.7687879, 'duration': 1.3498623371124268, 'ttft': 0.7977631092071533, 'cancelled': False, 'input_tokens': 1628, 'output_tokens': 58, 'total_tokens': 1686, 'tokens_per_second': 42.96734445089516, 'input_token_details': {'audio_tokens': 117, 'text_tokens': 1511, 'image_tokens': 0, 'cached_tokens': 1536, 'cached_tokens_details': {'audio_tokens': 64, 'text_tokens': 1472, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 14, 'audio_tokens': 44, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:30:20.122417", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKkML9Tu7D0I6QJJ6sBE', 'timestamp': 1764682218.7687879, 'duration': 1.3498623371124268, 'ttft': 0.7977631092071533, 'cancelled': False, 'input_tokens': 1628, 'output_tokens': 58, 'total_tokens': 1686, 'tokens_per_second': 42.96734445089516, 'input_token_details': {'audio_tokens': 117, 'text_tokens': 1511, 'image_tokens': 0, 'cached_tokens': 1536, 'cached_tokens_details': {'audio_tokens': 64, 'text_tokens': 1472, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 14, 'audio_tokens': 44, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:30:26.029584", "level": "INFO", "logger": "livekit.agents", "message": "worker is at full capacity, marking as unavailable"}
{"timestamp": "2025-12-02T13:30:28.528385", "level": "INFO", "logger": "livekit.agents", "message": "worker is below capacity, marking as available"}
{"timestamp": "2025-12-02T13:30:29.974640", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKkWIS75ZkxaDvMTBOS4', 'timestamp': 1764682228.2703931, 'duration': 1.7017929553985596, 'ttft': 0.9503428936004639, 'cancelled': False, 'input_tokens': 1688, 'output_tokens': 59, 'total_tokens': 1747, 'tokens_per_second': 34.66931732960559, 'input_token_details': {'audio_tokens': 159, 'text_tokens': 1529, 'image_tokens': 0, 'cached_tokens': 832, 'cached_tokens_details': {'audio_tokens': 0, 'text_tokens': 832, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 15, 'audio_tokens': 44, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:30:29.977090", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKkWIS75ZkxaDvMTBOS4', 'timestamp': 1764682228.2703931, 'duration': 1.7017929553985596, 'ttft': 0.9503428936004639, 'cancelled': False, 'input_tokens': 1688, 'output_tokens': 59, 'total_tokens': 1747, 'tokens_per_second': 34.66931732960559, 'input_token_details': {'audio_tokens': 159, 'text_tokens': 1529, 'image_tokens': 0, 'cached_tokens': 832, 'cached_tokens_details': {'audio_tokens': 0, 'text_tokens': 832, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 15, 'audio_tokens': 44, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:30:31.030435", "level": "INFO", "logger": "livekit.agents", "message": "worker is at full capacity, marking as unavailable"}
{"timestamp": "2025-12-02T13:30:33.530435", "level": "INFO", "logger": "livekit.agents", "message": "worker is below capacity, marking as available"}
{"timestamp": "2025-12-02T13:30:40.953742", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKkhOKSMhLfNonHOPuyV', 'timestamp': 1764682239.375453, 'duration': 1.5770831108093262, 'ttft': 0.9581081867218018, 'cancelled': False, 'input_tokens': 1730, 'output_tokens': 78, 'total_tokens': 1808, 'tokens_per_second': 49.45839535366784, 'input_token_details': {'audio_tokens': 182, 'text_tokens': 1548, 'image_tokens': 0, 'cached_tokens': 1536, 'cached_tokens_details': {'audio_tokens': 64, 'text_tokens': 1472, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 21, 'audio_tokens': 57, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:30:40.955915", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKkhOKSMhLfNonHOPuyV', 'timestamp': 1764682239.375453, 'duration': 1.5770831108093262, 'ttft': 0.9581081867218018, 'cancelled': False, 'input_tokens': 1730, 'output_tokens': 78, 'total_tokens': 1808, 'tokens_per_second': 49.45839535366784, 'input_token_details': {'audio_tokens': 182, 'text_tokens': 1548, 'image_tokens': 0, 'cached_tokens': 1536, 'cached_tokens_details': {'audio_tokens': 64, 'text_tokens': 1472, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 21, 'audio_tokens': 57, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:30:51.350822", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKkspyuiI4PvbhMzHjE3', 'timestamp': 1764682250.0627, 'duration': 1.2850492000579834, 'ttft': -1.0, 'cancelled': False, 'input_tokens': 1813, 'output_tokens': 24, 'total_tokens': 1837, 'tokens_per_second': 18.67632772264057, 'input_token_details': {'audio_tokens': 240, 'text_tokens': 1573, 'image_tokens': 0, 'cached_tokens': 1664, 'cached_tokens_details': {'audio_tokens': 128, 'text_tokens': 1536, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 24, 'audio_tokens': 0, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:30:51.353042", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKkspyuiI4PvbhMzHjE3', 'timestamp': 1764682250.0627, 'duration': 1.2850492000579834, 'ttft': -1.0, 'cancelled': False, 'input_tokens': 1813, 'output_tokens': 24, 'total_tokens': 1837, 'tokens_per_second': 18.67632772264057, 'input_token_details': {'audio_tokens': 240, 'text_tokens': 1573, 'image_tokens': 0, 'cached_tokens': 1664, 'cached_tokens_details': {'audio_tokens': 128, 'text_tokens': 1536, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 24, 'audio_tokens': 0, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:30:51.359385", "level": "DEBUG", "logger": "livekit.agents", "message": "executing tool"}
{"timestamp": "2025-12-02T13:30:51.363565", "level": "INFO", "logger": "voice_agent.tools", "message": "[save_phone] \ud83d\udcde Called for participant:"}
{"timestamp": "2025-12-02T13:30:51.363679", "level": "INFO", "logger": "voice_agent.tools", "message": "[save_phone] Raw phone input: '17194515279'"}
{"timestamp": "2025-12-02T13:30:51.364361", "level": "INFO", "logger": "voice_agent.tools", "message": "[save_phone] \ud83d\udcde Called for participant:"}
{"timestamp": "2025-12-02T13:30:51.365276", "level": "INFO", "logger": "voice_agent.tools", "message": "[save_phone] Raw phone input: '17194515279'"}
{"timestamp": "2025-12-02T13:30:51.367349", "level": "INFO", "logger": "src.services.context_manager", "message": "[Redis] Saved MERGED context for sip_+17194515279: BookingContext(name='Saqib', phone='17194515279', date='2025-12-03', time=None, suggested_slots=['9:00 AM', '9:30 AM', '10:00 AM', '10:30 AM', '11:00 AM', '11:30 AM'], stage='start', status='returning', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, cancel_appt_id=None, created_at='2025-12-02T13:29:32.262652')"}
{"timestamp": "2025-12-02T13:30:51.367468", "level": "INFO", "logger": "voice_agent.tools", "message": "[save_phone] \u2705 Saved context for BookingContext(name='Saqib', phone='17194515279', date='2025-12-03', time=None, suggested_slots=['9:00 AM', '9:30 AM', '10:00 AM', '10:30 AM', '11:00 AM', '11:30 AM'], stage='start', status='returning', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, cancel_appt_id=None, created_at='2025-12-02T13:29:32.262652')"}
{"timestamp": "2025-12-02T13:30:51.367669", "level": "INFO", "logger": "src.services.context_manager", "message": "[Redis] Saved MERGED context for sip_+17194515279: BookingContext(name='Saqib', phone='17194515279', date='2025-12-03', time=None, suggested_slots=['9:00 AM', '9:30 AM', '10:00 AM', '10:30 AM', '11:00 AM', '11:30 AM'], stage='start', status='returning', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, cancel_appt_id=None, created_at='2025-12-02T13:29:32.262652')"}
{"timestamp": "2025-12-02T13:30:51.367862", "level": "INFO", "logger": "voice_agent.tools", "message": "[save_phone] \u2705 Saved context for BookingContext(name='Saqib', phone='17194515279', date='2025-12-03', time=None, suggested_slots=['9:00 AM', '9:30 AM', '10:00 AM', '10:30 AM', '11:00 AM', '11:30 AM'], stage='start', status='returning', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, cancel_appt_id=None, created_at='2025-12-02T13:29:32.262652')"}
{"timestamp": "2025-12-02T13:30:51.368490", "level": "DEBUG", "logger": "livekit.agents", "message": "tools execution completed"}
{"timestamp": "2025-12-02T13:30:53.291893", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKkuvGmWnibaIa53rmWo', 'timestamp': 1764682252.0061572, 'duration': 1.2850117683410645, 'ttft': -1.0, 'cancelled': False, 'input_tokens': 1786, 'output_tokens': 38, 'total_tokens': 1824, 'tokens_per_second': 29.57171361088589, 'input_token_details': {'audio_tokens': 183, 'text_tokens': 1603, 'image_tokens': 0, 'cached_tokens': 1664, 'cached_tokens_details': {'audio_tokens': 128, 'text_tokens': 1536, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 38, 'audio_tokens': 0, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:30:53.292582", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKkuvGmWnibaIa53rmWo', 'timestamp': 1764682252.0061572, 'duration': 1.2850117683410645, 'ttft': -1.0, 'cancelled': False, 'input_tokens': 1786, 'output_tokens': 38, 'total_tokens': 1824, 'tokens_per_second': 29.57171361088589, 'input_token_details': {'audio_tokens': 183, 'text_tokens': 1603, 'image_tokens': 0, 'cached_tokens': 1664, 'cached_tokens_details': {'audio_tokens': 128, 'text_tokens': 1536, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 38, 'audio_tokens': 0, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:30:53.294038", "level": "DEBUG", "logger": "livekit.agents", "message": "executing tool"}
{"timestamp": "2025-12-02T13:30:53.302563", "level": "INFO", "logger": "src.services.context_manager", "message": "[Redis] Saved MERGED context for sip_+17194515279: BookingContext(name='Saqib', phone='17194515279', date='2025-12-03', time='11:30 AM', suggested_slots=['9:00 AM', '9:30 AM', '10:00 AM', '10:30 AM', '11:00 AM', '11:30 AM'], stage='start', status='returning', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, cancel_appt_id=None, created_at='2025-12-02T13:29:32.262652')"}
{"timestamp": "2025-12-02T13:30:53.315399", "level": "INFO", "logger": "src.services.context_manager", "message": "[Redis] Saved MERGED context for sip_+17194515279: BookingContext(name='Saqib', phone='17194515279', date='2025-12-03', time='11:30 AM', suggested_slots=['9:00 AM', '9:30 AM', '10:00 AM', '10:30 AM', '11:00 AM', '11:30 AM'], stage='start', status='returning', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, cancel_appt_id=None, created_at='2025-12-02T13:29:32.262652')"}
{"timestamp": "2025-12-02T13:30:53.331725", "level": "INFO", "logger": "voice_agent.tools", "message": "[booking] Appointment created: <Appointment 14>"}
{"timestamp": "2025-12-02T13:30:53.332683", "level": "INFO", "logger": "voice_agent.tools", "message": "[booking] Appointment created: <Appointment 14>"}
{"timestamp": "2025-12-02T13:30:53.333895", "level": "DEBUG", "logger": "livekit.agents", "message": "tools execution completed"}
{"timestamp": "2025-12-02T13:30:53.334158", "level": "INFO", "logger": "src.services.context_manager", "message": "[Redis] Saved MERGED context for sip_+17194515279: BookingContext(name='Saqib', phone='17194515279', date='2025-12-03', time='11:30 AM', suggested_slots=['9:00 AM', '9:30 AM', '10:00 AM', '10:30 AM', '11:00 AM', '11:30 AM'], stage='DONE', status='BOOKED', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, cancel_appt_id=None, created_at='2025-12-02T13:29:32.262652')"}
{"timestamp": "2025-12-02T13:30:53.334832", "level": "INFO", "logger": "src.services.context_manager", "message": "[Redis] Saved MERGED context for sip_+17194515279: BookingContext(name='Saqib', phone='17194515279', date='2025-12-03', time='11:30 AM', suggested_slots=['9:00 AM', '9:30 AM', '10:00 AM', '10:30 AM', '11:00 AM', '11:30 AM'], stage='DONE', status='BOOKED', mode='normal', old_date=None, old_time=None, new_date=None, new_time=None, reschedule_confirmed=False, confirmed_identity=False, cancel_appt_id=None, created_at='2025-12-02T13:29:32.262652')"}
{"timestamp": "2025-12-02T13:30:55.472346", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKkv7b5z0CDBkjHhKiPc', 'timestamp': 1764682253.9769542, 'duration': 1.494863748550415, 'ttft': 0.9759197235107422, 'cancelled': False, 'input_tokens': 1846, 'output_tokens': 56, 'total_tokens': 1902, 'tokens_per_second': 37.46160815947526, 'input_token_details': {'audio_tokens': 183, 'text_tokens': 1663, 'image_tokens': 0, 'cached_tokens': 1728, 'cached_tokens_details': {'audio_tokens': 128, 'text_tokens': 1600, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 15, 'audio_tokens': 41, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:30:55.474119", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKkv7b5z0CDBkjHhKiPc', 'timestamp': 1764682253.9769542, 'duration': 1.494863748550415, 'ttft': 0.9759197235107422, 'cancelled': False, 'input_tokens': 1846, 'output_tokens': 56, 'total_tokens': 1902, 'tokens_per_second': 37.46160815947526, 'input_token_details': {'audio_tokens': 183, 'text_tokens': 1663, 'image_tokens': 0, 'cached_tokens': 1728, 'cached_tokens_details': {'audio_tokens': 128, 'text_tokens': 1600, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 15, 'audio_tokens': 41, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:31:00.635113", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKl1QpmuKtfGEr4eRVV4', 'timestamp': 1764682259.834042, 'duration': 0.8001608848571777, 'ttft': -1.0, 'cancelled': False, 'input_tokens': 1921, 'output_tokens': 11, 'total_tokens': 1932, 'tokens_per_second': 13.74723534750566, 'input_token_details': {'audio_tokens': 233, 'text_tokens': 1688, 'image_tokens': 0, 'cached_tokens': 1856, 'cached_tokens_details': {'audio_tokens': 192, 'text_tokens': 1664, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 11, 'audio_tokens': 0, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:31:00.636242", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKl1QpmuKtfGEr4eRVV4', 'timestamp': 1764682259.834042, 'duration': 0.8001608848571777, 'ttft': -1.0, 'cancelled': False, 'input_tokens': 1921, 'output_tokens': 11, 'total_tokens': 1932, 'tokens_per_second': 13.74723534750566, 'input_token_details': {'audio_tokens': 233, 'text_tokens': 1688, 'image_tokens': 0, 'cached_tokens': 1856, 'cached_tokens_details': {'audio_tokens': 192, 'text_tokens': 1664, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 11, 'audio_tokens': 0, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:31:00.637477", "level": "DEBUG", "logger": "livekit.agents", "message": "executing tool"}
{"timestamp": "2025-12-02T13:31:00.638096", "level": "DEBUG", "logger": "livekit.agents", "message": "tools execution completed"}
{"timestamp": "2025-12-02T13:31:01.638360", "level": "INFO", "logger": "voice_agent.tools", "message": "[end_call] Deleting room: vertikal-_+17194515279_EtrfNSRj6NWo"}
{"timestamp": "2025-12-02T13:31:01.645880", "level": "INFO", "logger": "voice_agent.tools", "message": "[end_call] Deleting room: vertikal-_+17194515279_EtrfNSRj6NWo"}
{"timestamp": "2025-12-02T13:31:02.918458", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKl3qPiqpqODig8skW2q', 'timestamp': 1764682261.4121852, 'duration': 1.5060157775878906, 'ttft': 0.7497768402099609, 'cancelled': False, 'input_tokens': 1901, 'output_tokens': 96, 'total_tokens': 1997, 'tokens_per_second': 63.74435210350741, 'input_token_details': {'audio_tokens': 192, 'text_tokens': 1709, 'image_tokens': 0, 'cached_tokens': 1856, 'cached_tokens_details': {'audio_tokens': 192, 'text_tokens': 1664, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 22, 'audio_tokens': 74, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:31:02.918774", "level": "INFO", "logger": "telephony-agent", "message": "{'event': 'metrics', 'type': 'RealtimeModelMetrics', 'data': {'type': 'realtime_model_metrics', 'label': 'livekit.plugins.openai.realtime.realtime_model.RealtimeModel', 'request_id': 'resp_CiKl3qPiqpqODig8skW2q', 'timestamp': 1764682261.4121852, 'duration': 1.5060157775878906, 'ttft': 0.7497768402099609, 'cancelled': False, 'input_tokens': 1901, 'output_tokens': 96, 'total_tokens': 1997, 'tokens_per_second': 63.74435210350741, 'input_token_details': {'audio_tokens': 192, 'text_tokens': 1709, 'image_tokens': 0, 'cached_tokens': 1856, 'cached_tokens_details': {'audio_tokens': 192, 'text_tokens': 1664, 'image_tokens': 0}}, 'output_token_details': {'text_tokens': 22, 'audio_tokens': 74, 'image_tokens': 0}, 'metadata': {'model_name': 'gpt-realtime', 'model_provider': 'api.openai.com'}}}"}
{"timestamp": "2025-12-02T13:31:03.498548", "level": "DEBUG", "logger": "livekit", "message": "tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: \"\" })"}
{"timestamp": "2025-12-02T13:31:03.498835", "level": "DEBUG", "logger": "livekit", "message": "tungstenite::protocol:683:tungstenite::protocol - Replying to close with Frame { header: FrameHeader { is_final: true, rsv1: false, rsv2: false, rsv3: false, opcode: Control(Close), mask: None }, payload: [3, 232] }"}
{"timestamp": "2025-12-02T13:31:03.502467", "level": "DEBUG", "logger": "livekit.agents", "message": "shutting down job task"}
{"timestamp": "2025-12-02T13:31:03.503526", "level": "INFO", "logger": "livekit.agents", "message": "process exiting"}
{"timestamp": "2025-12-02T13:31:03.504272", "level": "INFO", "logger": "livekit", "message": "livekit::room:1400:livekit::room - disconnected from room with reason: RoomDeleted"}
{"timestamp": "2025-12-02T13:31:03.512303", "level": "DEBUG", "logger": "livekit.agents", "message": "stream closed"}
{"timestamp": "2025-12-02T13:31:03.516479", "level": "DEBUG", "logger": "livekit.agents", "message": "input stream detached"}
{"timestamp": "2025-12-02T13:31:03.518588", "level": "DEBUG", "logger": "livekit.agents", "message": "session closed"}
{"timestamp": "2025-12-02T13:31:03.518740", "level": "DEBUG", "logger": "livekit.agents", "message": "http_session(): closing the httpclient ctx"}
{"timestamp": "2025-12-02T13:31:03.519319", "level": "WARNING", "logger": "voice_agent.tools", "message": "[end_call] delete_room failed: Server disconnected. Trying remove_participant by identity\u2026"}
{"timestamp": "2025-12-02T13:31:03.519620", "level": "WARNING", "logger": "voice_agent.tools", "message": "[end_call] delete_room failed: Server disconnected. Trying remove_participant by identity\u2026"}
{"timestamp": "2025-12-02T13:31:03.519408", "level": "ERROR", "logger": "voice_agent.tools", "message": "[end_call] remove_participant failed: module 'livekit.api' has no attribute 'RemoveParticipantRequest'", "exception": "Traceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/tools.py\", line 25, in hangup_call\n    await ctx.api.room.delete_room(\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/api/room_service.py\", line 108, in delete_room\n    return await self._client.request(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/api/twirp_client.py\", line 121, in request\n    async with self._session.post(\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/aiohttp/client.py\", line 1510, in __aenter__\n    self._resp: _RetType = await self._coro\n                           ^^^^^^^^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/aiohttp/client.py\", line 779, in _request\n    resp = await handler(req)\n           ^^^^^^^^^^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/aiohttp/client.py\", line 757, in _connect_and_send_request\n    await resp.start(conn)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py\", line 539, in start\n    message, payload = await protocol.read()  # type: ignore[union-attr]\n                       ^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/aiohttp/streams.py\", line 680, in read\n    await self._waiter\naiohttp.client_exceptions.ServerDisconnectedError: Server disconnected\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/tools.py\", line 37, in hangup_call\n    api.RemoveParticipantRequest(\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: module 'livekit.api' has no attribute 'RemoveParticipantRequest'"}
{"timestamp": "2025-12-02T13:31:03.527221", "level": "ERROR", "logger": "voice_agent.tools", "message": "[end_call] remove_participant failed: module 'livekit.api' has no attribute 'RemoveParticipantRequest'\nTraceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/tools.py\", line 25, in hangup_call\n    await ctx.api.room.delete_room(\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/api/room_service.py\", line 108, in delete_room\n    return await self._client.request(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/livekit/api/twirp_client.py\", line 121, in request\n    async with self._session.post(\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/aiohttp/client.py\", line 1510, in __aenter__\n    self._resp: _RetType = await self._coro\n                           ^^^^^^^^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/aiohttp/client.py\", line 779, in _request\n    resp = await handler(req)\n           ^^^^^^^^^^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/aiohttp/client.py\", line 757, in _connect_and_send_request\n    await resp.start(conn)\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/aiohttp/client_reqrep.py\", line 539, in start\n    message, payload = await protocol.read()  # type: ignore[union-attr]\n                       ^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/.venv/lib/python3.11/site-packages/aiohttp/streams.py\", line 680, in read\n    await self._waiter\naiohttp.client_exceptions.ServerDisconnectedError: Server disconnected\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/basitarif/Documents/vertikal-agent/Voice-Agent-PSTN/src/routes/livekit/tools.py\", line 37, in hangup_call\n    api.RemoveParticipantRequest(\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: module 'livekit.api' has no attribute 'RemoveParticipantRequest'"}
{"timestamp": "2025-12-02T13:31:04.180567", "level": "INFO", "logger": "livekit.agents", "message": "initializing process"}
{"timestamp": "2025-12-02T13:31:06.137909", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-12-02T13:31:06.138489", "level": "INFO", "logger": "livekit.agents", "message": "process initialized"}
{"timestamp": "2025-12-02T13:58:57.033518", "level": "INFO", "logger": "livekit.agents", "message": "worker is at full capacity, marking as unavailable"}
{"timestamp": "2025-12-02T13:58:59.521860", "level": "INFO", "logger": "livekit.agents", "message": "worker is below capacity, marking as available"}
{"timestamp": "2025-12-02T13:59:04.524317", "level": "INFO", "logger": "livekit.agents", "message": "worker is at full capacity, marking as unavailable"}
{"timestamp": "2025-12-02T13:59:07.024471", "level": "INFO", "logger": "livekit.agents", "message": "worker is below capacity, marking as available"}
{"timestamp": "2025-12-02T14:00:52.186188", "level": "INFO", "logger": "livekit.agents", "message": "worker is at full capacity, marking as unavailable"}
{"timestamp": "2025-12-02T14:00:57.092038", "level": "INFO", "logger": "livekit.agents", "message": "worker is below capacity, marking as available"}
{"timestamp": "2025-12-02T14:01:07.099451", "level": "INFO", "logger": "livekit.agents", "message": "worker is at full capacity, marking as unavailable"}
{"timestamp": "2025-12-02T14:01:09.599150", "level": "INFO", "logger": "livekit.agents", "message": "worker is below capacity, marking as available"}
